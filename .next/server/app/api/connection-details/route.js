"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/connection-details/route";
exports.ids = ["app/api/connection-details/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconnection-details%2Froute&page=%2Fapi%2Fconnection-details%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconnection-details%2Froute.ts&appDir=C%3A%5CUsers%5Crahul%5Cvocably%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crahul%5Cvocably&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconnection-details%2Froute&page=%2Fapi%2Fconnection-details%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconnection-details%2Froute.ts&appDir=C%3A%5CUsers%5Crahul%5Cvocably%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crahul%5Cvocably&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_rahul_vocably_app_api_connection_details_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/connection-details/route.ts */ \"(rsc)/./app/api/connection-details/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/connection-details/route\",\n        pathname: \"/api/connection-details\",\n        filename: \"route\",\n        bundlePath: \"app/api/connection-details/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\rahul\\\\vocably\\\\app\\\\api\\\\connection-details\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_rahul_vocably_app_api_connection_details_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/connection-details/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb25uZWN0aW9uLWRldGFpbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmNvbm5lY3Rpb24tZGV0YWlscyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmNvbm5lY3Rpb24tZGV0YWlscyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNyYWh1bCU1Q3ZvY2FibHklNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q3JhaHVsJTVDdm9jYWJseSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8/MjJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxyYWh1bFxcXFx2b2NhYmx5XFxcXGFwcFxcXFxhcGlcXFxcY29ubmVjdGlvbi1kZXRhaWxzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jb25uZWN0aW9uLWRldGFpbHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb25uZWN0aW9uLWRldGFpbHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2Nvbm5lY3Rpb24tZGV0YWlscy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHJhaHVsXFxcXHZvY2FibHlcXFxcYXBwXFxcXGFwaVxcXFxjb25uZWN0aW9uLWRldGFpbHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY29ubmVjdGlvbi1kZXRhaWxzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconnection-details%2Froute&page=%2Fapi%2Fconnection-details%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconnection-details%2Froute.ts&appDir=C%3A%5CUsers%5Crahul%5Cvocably%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crahul%5Cvocably&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/connection-details/route.ts":
/*!*********************************************!*\
  !*** ./app/api/connection-details/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_client_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/client-utils */ \"(rsc)/./lib/client-utils.ts\");\n/* harmony import */ var livekit_server_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-server-sdk */ \"(rsc)/./node_modules/livekit-server-sdk/dist/index.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n\n\nconst API_KEY = process.env.LIVEKIT_API_KEY;\nconst API_SECRET = process.env.LIVEKIT_API_SECRET;\nconst LIVEKIT_URL = process.env.LIVEKIT_URL;\nconst COOKIE_KEY = \"random-participant-postfix\";\nasync function GET(request) {\n    try {\n        // Parse query parameters\n        const roomName = request.nextUrl.searchParams.get(\"roomName\");\n        const participantName = request.nextUrl.searchParams.get(\"participantName\");\n        const metadata = request.nextUrl.searchParams.get(\"metadata\") ?? \"\";\n        const region = request.nextUrl.searchParams.get(\"region\");\n        const livekitServerUrl = region ? getLiveKitURL(region) : LIVEKIT_URL;\n        let randomParticipantPostfix = request.cookies.get(COOKIE_KEY)?.value;\n        if (livekitServerUrl === undefined) {\n            throw new Error(\"Invalid region\");\n        }\n        if (typeof roomName !== \"string\") {\n            return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"Missing required query parameter: roomName\", {\n                status: 400\n            });\n        }\n        if (participantName === null) {\n            return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"Missing required query parameter: participantName\", {\n                status: 400\n            });\n        }\n        // Generate participant token\n        if (!randomParticipantPostfix) {\n            randomParticipantPostfix = (0,_lib_client_utils__WEBPACK_IMPORTED_MODULE_0__.randomString)(4);\n        }\n        const participantToken = await createParticipantToken({\n            identity: `${participantName}__${randomParticipantPostfix}`,\n            name: participantName,\n            metadata\n        }, roomName);\n        // Return connection details\n        const data = {\n            serverUrl: livekitServerUrl,\n            roomName: roomName,\n            participantToken: participantToken,\n            participantName: participantName\n        };\n        return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"](JSON.stringify(data), {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Set-Cookie\": `${COOKIE_KEY}=${randomParticipantPostfix}; Path=/; HttpOnly; SameSite=Strict; Secure; Expires=${getCookieExpirationTime()}`\n            }\n        });\n    } catch (error) {\n        if (error instanceof Error) {\n            return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"](error.message, {\n                status: 500\n            });\n        }\n    }\n}\nfunction createParticipantToken(userInfo, roomName) {\n    const at = new livekit_server_sdk__WEBPACK_IMPORTED_MODULE_1__.AccessToken(API_KEY, API_SECRET, userInfo);\n    at.ttl = \"5m\";\n    const grant = {\n        room: roomName,\n        roomJoin: true,\n        canPublish: true,\n        canPublishData: true,\n        canSubscribe: true\n    };\n    at.addGrant(grant);\n    return at.toJwt();\n}\n/**\r\n * Get the LiveKit server URL for the given region.\r\n */ function getLiveKitURL(region) {\n    let targetKey = \"LIVEKIT_URL\";\n    if (region) {\n        targetKey = `LIVEKIT_URL_${region}`.toUpperCase();\n    }\n    const url = process.env[targetKey];\n    if (!url) {\n        throw new Error(`${targetKey} is not defined`);\n    }\n    return url;\n}\nfunction getCookieExpirationTime() {\n    var now = new Date();\n    var time = now.getTime();\n    var expireTime = time + 60 * 120 * 1000;\n    now.setTime(expireTime);\n    return now.toUTCString();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Nvbm5lY3Rpb24tZGV0YWlscy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtEO0FBRStCO0FBQ3pCO0FBRXhELE1BQU1HLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtBQUMzQyxNQUFNQyxhQUFhSCxRQUFRQyxHQUFHLENBQUNHLGtCQUFrQjtBQUNqRCxNQUFNQyxjQUFjTCxRQUFRQyxHQUFHLENBQUNJLFdBQVc7QUFDM0MsTUFBTUMsYUFBYTtBQUVaLGVBQWVDLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRix5QkFBeUI7UUFDekIsTUFBTUMsV0FBV0QsUUFBUUUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQztRQUNsRCxNQUFNQyxrQkFBa0JMLFFBQVFFLE9BQU8sQ0FBQ0MsWUFBWSxDQUFDQyxHQUFHLENBQUM7UUFDekQsTUFBTUUsV0FBV04sUUFBUUUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxlQUFlO1FBQ2pFLE1BQU1HLFNBQVNQLFFBQVFFLE9BQU8sQ0FBQ0MsWUFBWSxDQUFDQyxHQUFHLENBQUM7UUFDaEQsTUFBTUksbUJBQW1CRCxTQUFTRSxjQUFjRixVQUFVVjtRQUMxRCxJQUFJYSwyQkFBMkJWLFFBQVFXLE9BQU8sQ0FBQ1AsR0FBRyxDQUFDTixhQUFhYztRQUNoRSxJQUFJSixxQkFBcUJLLFdBQVc7WUFDbEMsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsSUFBSSxPQUFPYixhQUFhLFVBQVU7WUFDaEMsT0FBTyxJQUFJWCxrRkFBWUEsQ0FBQyw4Q0FBOEM7Z0JBQUV5QixRQUFRO1lBQUk7UUFDdEY7UUFDQSxJQUFJVixvQkFBb0IsTUFBTTtZQUM1QixPQUFPLElBQUlmLGtGQUFZQSxDQUFDLHFEQUFxRDtnQkFBRXlCLFFBQVE7WUFBSTtRQUM3RjtRQUVBLDZCQUE2QjtRQUM3QixJQUFJLENBQUNMLDBCQUEwQjtZQUM3QkEsMkJBQTJCdEIsK0RBQVlBLENBQUM7UUFDMUM7UUFDQSxNQUFNNEIsbUJBQW1CLE1BQU1DLHVCQUM3QjtZQUNFQyxVQUFVLENBQUMsRUFBRWIsZ0JBQWdCLEVBQUUsRUFBRUsseUJBQXlCLENBQUM7WUFDM0RTLE1BQU1kO1lBQ05DO1FBQ0YsR0FDQUw7UUFHRiw0QkFBNEI7UUFDNUIsTUFBTW1CLE9BQTBCO1lBQzlCQyxXQUFXYjtZQUNYUCxVQUFVQTtZQUNWZSxrQkFBa0JBO1lBQ2xCWCxpQkFBaUJBO1FBQ25CO1FBQ0EsT0FBTyxJQUFJZixrRkFBWUEsQ0FBQ2dDLEtBQUtDLFNBQVMsQ0FBQ0gsT0FBTztZQUM1Q0ksU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLGNBQWMsQ0FBQyxFQUFFMUIsV0FBVyxDQUFDLEVBQUVZLHlCQUF5QixxREFBcUQsRUFBRWUsMEJBQTBCLENBQUM7WUFDNUk7UUFDRjtJQUNGLEVBQUUsT0FBT0MsT0FBTztRQUNkLElBQUlBLGlCQUFpQlosT0FBTztZQUMxQixPQUFPLElBQUl4QixrRkFBWUEsQ0FBQ29DLE1BQU1DLE9BQU8sRUFBRTtnQkFBRVosUUFBUTtZQUFJO1FBQ3ZEO0lBQ0Y7QUFDRjtBQUVBLFNBQVNFLHVCQUF1QlcsUUFBNEIsRUFBRTNCLFFBQWdCO0lBQzVFLE1BQU00QixLQUFLLElBQUl4QywyREFBV0EsQ0FBQ0UsU0FBU0ksWUFBWWlDO0lBQ2hEQyxHQUFHQyxHQUFHLEdBQUc7SUFDVCxNQUFNQyxRQUFvQjtRQUN4QkMsTUFBTS9CO1FBQ05nQyxVQUFVO1FBQ1ZDLFlBQVk7UUFDWkMsZ0JBQWdCO1FBQ2hCQyxjQUFjO0lBQ2hCO0lBQ0FQLEdBQUdRLFFBQVEsQ0FBQ047SUFDWixPQUFPRixHQUFHUyxLQUFLO0FBQ2pCO0FBRUE7O0NBRUMsR0FDRCxTQUFTN0IsY0FBY0YsTUFBcUI7SUFDMUMsSUFBSWdDLFlBQVk7SUFDaEIsSUFBSWhDLFFBQVE7UUFDVmdDLFlBQVksQ0FBQyxZQUFZLEVBQUVoQyxPQUFPLENBQUMsQ0FBQ2lDLFdBQVc7SUFDakQ7SUFDQSxNQUFNQyxNQUFNakQsUUFBUUMsR0FBRyxDQUFDOEMsVUFBVTtJQUNsQyxJQUFJLENBQUNFLEtBQUs7UUFDUixNQUFNLElBQUkzQixNQUFNLENBQUMsRUFBRXlCLFVBQVUsZUFBZSxDQUFDO0lBQy9DO0lBQ0EsT0FBT0U7QUFDVDtBQUVBLFNBQVNoQjtJQUNQLElBQUlpQixNQUFNLElBQUlDO0lBQ2QsSUFBSUMsT0FBT0YsSUFBSUcsT0FBTztJQUN0QixJQUFJQyxhQUFhRixPQUFPLEtBQUssTUFBTTtJQUNuQ0YsSUFBSUssT0FBTyxDQUFDRDtJQUNaLE9BQU9KLElBQUlNLFdBQVc7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9hcHAvYXBpL2Nvbm5lY3Rpb24tZGV0YWlscy9yb3V0ZS50cz85OTRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJhbmRvbVN0cmluZyB9IGZyb20gJ0AvbGliL2NsaWVudC11dGlscyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25EZXRhaWxzIH0gZnJvbSAnQC9saWIvdHlwZXMnO1xyXG5pbXBvcnQgeyBBY2Nlc3NUb2tlbiwgQWNjZXNzVG9rZW5PcHRpb25zLCBWaWRlb0dyYW50IH0gZnJvbSAnbGl2ZWtpdC1zZXJ2ZXItc2RrJztcclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbmNvbnN0IEFQSV9LRVkgPSBwcm9jZXNzLmVudi5MSVZFS0lUX0FQSV9LRVk7XHJcbmNvbnN0IEFQSV9TRUNSRVQgPSBwcm9jZXNzLmVudi5MSVZFS0lUX0FQSV9TRUNSRVQ7XHJcbmNvbnN0IExJVkVLSVRfVVJMID0gcHJvY2Vzcy5lbnYuTElWRUtJVF9VUkw7XHJcbmNvbnN0IENPT0tJRV9LRVkgPSAncmFuZG9tLXBhcnRpY2lwYW50LXBvc3RmaXgnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBQYXJzZSBxdWVyeSBwYXJhbWV0ZXJzXHJcbiAgICBjb25zdCByb29tTmFtZSA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdyb29tTmFtZScpO1xyXG4gICAgY29uc3QgcGFydGljaXBhbnROYW1lID0gcmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3BhcnRpY2lwYW50TmFtZScpO1xyXG4gICAgY29uc3QgbWV0YWRhdGEgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgnbWV0YWRhdGEnKSA/PyAnJztcclxuICAgIGNvbnN0IHJlZ2lvbiA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdyZWdpb24nKTtcclxuICAgIGNvbnN0IGxpdmVraXRTZXJ2ZXJVcmwgPSByZWdpb24gPyBnZXRMaXZlS2l0VVJMKHJlZ2lvbikgOiBMSVZFS0lUX1VSTDtcclxuICAgIGxldCByYW5kb21QYXJ0aWNpcGFudFBvc3RmaXggPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KENPT0tJRV9LRVkpPy52YWx1ZTtcclxuICAgIGlmIChsaXZla2l0U2VydmVyVXJsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlZ2lvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygcm9vbU5hbWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKCdNaXNzaW5nIHJlcXVpcmVkIHF1ZXJ5IHBhcmFtZXRlcjogcm9vbU5hbWUnLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRpY2lwYW50TmFtZSA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnTWlzc2luZyByZXF1aXJlZCBxdWVyeSBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50TmFtZScsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgcGFydGljaXBhbnQgdG9rZW5cclxuICAgIGlmICghcmFuZG9tUGFydGljaXBhbnRQb3N0Zml4KSB7XHJcbiAgICAgIHJhbmRvbVBhcnRpY2lwYW50UG9zdGZpeCA9IHJhbmRvbVN0cmluZyg0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHBhcnRpY2lwYW50VG9rZW4gPSBhd2FpdCBjcmVhdGVQYXJ0aWNpcGFudFRva2VuKFxyXG4gICAgICB7XHJcbiAgICAgICAgaWRlbnRpdHk6IGAke3BhcnRpY2lwYW50TmFtZX1fXyR7cmFuZG9tUGFydGljaXBhbnRQb3N0Zml4fWAsXHJcbiAgICAgICAgbmFtZTogcGFydGljaXBhbnROYW1lLFxyXG4gICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICB9LFxyXG4gICAgICByb29tTmFtZSxcclxuICAgICk7XHJcblxyXG4gICAgLy8gUmV0dXJuIGNvbm5lY3Rpb24gZGV0YWlsc1xyXG4gICAgY29uc3QgZGF0YTogQ29ubmVjdGlvbkRldGFpbHMgPSB7XHJcbiAgICAgIHNlcnZlclVybDogbGl2ZWtpdFNlcnZlclVybCxcclxuICAgICAgcm9vbU5hbWU6IHJvb21OYW1lLFxyXG4gICAgICBwYXJ0aWNpcGFudFRva2VuOiBwYXJ0aWNpcGFudFRva2VuLFxyXG4gICAgICBwYXJ0aWNpcGFudE5hbWU6IHBhcnRpY2lwYW50TmFtZSxcclxuICAgIH07XHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShKU09OLnN0cmluZ2lmeShkYXRhKSwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAnU2V0LUNvb2tpZSc6IGAke0NPT0tJRV9LRVl9PSR7cmFuZG9tUGFydGljaXBhbnRQb3N0Zml4fTsgUGF0aD0vOyBIdHRwT25seTsgU2FtZVNpdGU9U3RyaWN0OyBTZWN1cmU7IEV4cGlyZXM9JHtnZXRDb29raWVFeHBpcmF0aW9uVGltZSgpfWAsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoZXJyb3IubWVzc2FnZSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpY2lwYW50VG9rZW4odXNlckluZm86IEFjY2Vzc1Rva2VuT3B0aW9ucywgcm9vbU5hbWU6IHN0cmluZykge1xyXG4gIGNvbnN0IGF0ID0gbmV3IEFjY2Vzc1Rva2VuKEFQSV9LRVksIEFQSV9TRUNSRVQsIHVzZXJJbmZvKTtcclxuICBhdC50dGwgPSAnNW0nO1xyXG4gIGNvbnN0IGdyYW50OiBWaWRlb0dyYW50ID0ge1xyXG4gICAgcm9vbTogcm9vbU5hbWUsXHJcbiAgICByb29tSm9pbjogdHJ1ZSxcclxuICAgIGNhblB1Ymxpc2g6IHRydWUsXHJcbiAgICBjYW5QdWJsaXNoRGF0YTogdHJ1ZSxcclxuICAgIGNhblN1YnNjcmliZTogdHJ1ZSxcclxuICB9O1xyXG4gIGF0LmFkZEdyYW50KGdyYW50KTtcclxuICByZXR1cm4gYXQudG9Kd3QoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgTGl2ZUtpdCBzZXJ2ZXIgVVJMIGZvciB0aGUgZ2l2ZW4gcmVnaW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TGl2ZUtpdFVSTChyZWdpb246IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xyXG4gIGxldCB0YXJnZXRLZXkgPSAnTElWRUtJVF9VUkwnO1xyXG4gIGlmIChyZWdpb24pIHtcclxuICAgIHRhcmdldEtleSA9IGBMSVZFS0lUX1VSTF8ke3JlZ2lvbn1gLnRvVXBwZXJDYXNlKCk7XHJcbiAgfVxyXG4gIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52W3RhcmdldEtleV07XHJcbiAgaWYgKCF1cmwpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0YXJnZXRLZXl9IGlzIG5vdCBkZWZpbmVkYCk7XHJcbiAgfVxyXG4gIHJldHVybiB1cmw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvb2tpZUV4cGlyYXRpb25UaW1lKCk6IHN0cmluZyB7XHJcbiAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgdmFyIHRpbWUgPSBub3cuZ2V0VGltZSgpO1xyXG4gIHZhciBleHBpcmVUaW1lID0gdGltZSArIDYwICogMTIwICogMTAwMDtcclxuICBub3cuc2V0VGltZShleHBpcmVUaW1lKTtcclxuICByZXR1cm4gbm93LnRvVVRDU3RyaW5nKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInJhbmRvbVN0cmluZyIsIkFjY2Vzc1Rva2VuIiwiTmV4dFJlc3BvbnNlIiwiQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJMSVZFS0lUX0FQSV9LRVkiLCJBUElfU0VDUkVUIiwiTElWRUtJVF9BUElfU0VDUkVUIiwiTElWRUtJVF9VUkwiLCJDT09LSUVfS0VZIiwiR0VUIiwicmVxdWVzdCIsInJvb21OYW1lIiwibmV4dFVybCIsInNlYXJjaFBhcmFtcyIsImdldCIsInBhcnRpY2lwYW50TmFtZSIsIm1ldGFkYXRhIiwicmVnaW9uIiwibGl2ZWtpdFNlcnZlclVybCIsImdldExpdmVLaXRVUkwiLCJyYW5kb21QYXJ0aWNpcGFudFBvc3RmaXgiLCJjb29raWVzIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJFcnJvciIsInN0YXR1cyIsInBhcnRpY2lwYW50VG9rZW4iLCJjcmVhdGVQYXJ0aWNpcGFudFRva2VuIiwiaWRlbnRpdHkiLCJuYW1lIiwiZGF0YSIsInNlcnZlclVybCIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiZ2V0Q29va2llRXhwaXJhdGlvblRpbWUiLCJlcnJvciIsIm1lc3NhZ2UiLCJ1c2VySW5mbyIsImF0IiwidHRsIiwiZ3JhbnQiLCJyb29tIiwicm9vbUpvaW4iLCJjYW5QdWJsaXNoIiwiY2FuUHVibGlzaERhdGEiLCJjYW5TdWJzY3JpYmUiLCJhZGRHcmFudCIsInRvSnd0IiwidGFyZ2V0S2V5IiwidG9VcHBlckNhc2UiLCJ1cmwiLCJub3ciLCJEYXRlIiwidGltZSIsImdldFRpbWUiLCJleHBpcmVUaW1lIiwic2V0VGltZSIsInRvVVRDU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/connection-details/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/client-utils.ts":
/*!*****************************!*\
  !*** ./lib/client-utils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodePassphrase: () => (/* binding */ decodePassphrase),\n/* harmony export */   encodePassphrase: () => (/* binding */ encodePassphrase),\n/* harmony export */   generateRoomId: () => (/* binding */ generateRoomId),\n/* harmony export */   randomString: () => (/* binding */ randomString)\n/* harmony export */ });\nfunction encodePassphrase(passphrase) {\n    return encodeURIComponent(passphrase);\n}\nfunction decodePassphrase(base64String) {\n    return decodeURIComponent(base64String);\n}\nfunction generateRoomId() {\n    return `${randomString(4)}-${randomString(4)}`;\n}\nfunction randomString(length) {\n    let result = \"\";\n    const characters = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for(let i = 0; i < length; i++){\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2xpZW50LXV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxTQUFTQSxpQkFBaUJDLFVBQWtCO0lBQ2pELE9BQU9DLG1CQUFtQkQ7QUFDNUI7QUFFTyxTQUFTRSxpQkFBaUJDLFlBQW9CO0lBQ25ELE9BQU9DLG1CQUFtQkQ7QUFDNUI7QUFFTyxTQUFTRTtJQUNkLE9BQU8sQ0FBQyxFQUFFQyxhQUFhLEdBQUcsQ0FBQyxFQUFFQSxhQUFhLEdBQUcsQ0FBQztBQUNoRDtBQUVPLFNBQVNBLGFBQWFDLE1BQWM7SUFDekMsSUFBSUMsU0FBUztJQUNiLE1BQU1DLGFBQWE7SUFDbkIsTUFBTUMsbUJBQW1CRCxXQUFXRixNQUFNO0lBQzFDLElBQUssSUFBSUksSUFBSSxHQUFHQSxJQUFJSixRQUFRSSxJQUFLO1FBQy9CSCxVQUFVQyxXQUFXRyxNQUFNLENBQUNDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLTDtJQUN6RDtJQUNBLE9BQU9GO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9saWIvY2xpZW50LXV0aWxzLnRzPzJkMWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVBhc3NwaHJhc2UocGFzc3BocmFzZTogc3RyaW5nKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQocGFzc3BocmFzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVQYXNzcGhyYXNlKGJhc2U2NFN0cmluZzogc3RyaW5nKSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoYmFzZTY0U3RyaW5nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUm9vbUlkKCk6IHN0cmluZyB7XG4gIHJldHVybiBgJHtyYW5kb21TdHJpbmcoNCl9LSR7cmFuZG9tU3RyaW5nKDQpfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TdHJpbmcobGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICBsZXQgcmVzdWx0ID0gJyc7XG4gIGNvbnN0IGNoYXJhY3RlcnMgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgY29uc3QgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBwYXJ0aWNpcGFudENvdW50czogeyBbcm9vbUlkOiBzdHJpbmddOiBudW1iZXIgfTtcbn1cbiJdLCJuYW1lcyI6WyJlbmNvZGVQYXNzcGhyYXNlIiwicGFzc3BocmFzZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVBhc3NwaHJhc2UiLCJiYXNlNjRTdHJpbmciLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZW5lcmF0ZVJvb21JZCIsInJhbmRvbVN0cmluZyIsImxlbmd0aCIsInJlc3VsdCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTGVuZ3RoIiwiaSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/client-utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@livekit","vendor-chunks/jose","vendor-chunks/@bufbuild","vendor-chunks/livekit-server-sdk"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconnection-details%2Froute&page=%2Fapi%2Fconnection-details%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconnection-details%2Froute.ts&appDir=C%3A%5CUsers%5Crahul%5Cvocably%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Crahul%5Cvocably&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();