"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/livekit-server-sdk";
exports.ids = ["vendor-chunks/livekit-server-sdk"];
exports.modules = {

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js":
/*!*************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/AccessToken.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* binding */ AccessToken),\n/* harmony export */   TokenVerifier: () => (/* binding */ TokenVerifier)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/jwt/verify.js\");\n/* harmony import */ var _grants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grants.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/grants.js\");\n\n\nconst defaultTTL = `6h`;\nconst defaultClockToleranceSeconds = 10;\nclass AccessToken {\n    /**\n   * Creates a new AccessToken\n   * @param apiKey - API Key, can be set in env LIVEKIT_API_KEY\n   * @param apiSecret - Secret, can be set in env LIVEKIT_API_SECRET\n   */ constructor(apiKey, apiSecret, options){\n        if (!apiKey) {\n            apiKey = process.env.LIVEKIT_API_KEY;\n        }\n        if (!apiSecret) {\n            apiSecret = process.env.LIVEKIT_API_SECRET;\n        }\n        if (!apiKey || !apiSecret) {\n            throw Error(\"api-key and api-secret must be set\");\n        } else if (typeof document !== \"undefined\") {\n            console.error(\"You should not include your API secret in your web client bundle.\\n\\nYour web client should request a token from your backend server which should then use the API secret to generate a token. See https://docs.livekit.io/client/connect/\");\n        }\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n        this.grants = {};\n        this.identity = options == null ? void 0 : options.identity;\n        this.ttl = (options == null ? void 0 : options.ttl) || defaultTTL;\n        if (typeof this.ttl === \"number\") {\n            this.ttl = `${this.ttl}s`;\n        }\n        if (options == null ? void 0 : options.metadata) {\n            this.metadata = options.metadata;\n        }\n        if (options == null ? void 0 : options.attributes) {\n            this.attributes = options.attributes;\n        }\n        if (options == null ? void 0 : options.name) {\n            this.name = options.name;\n        }\n    }\n    /**\n   * Adds a video grant to this token.\n   * @param grant -\n   */ addGrant(grant) {\n        this.grants.video = {\n            ...this.grants.video ?? {},\n            ...grant\n        };\n    }\n    /**\n   * Adds a SIP grant to this token.\n   * @param grant -\n   */ addSIPGrant(grant) {\n        this.grants.sip = {\n            ...this.grants.sip ?? {},\n            ...grant\n        };\n    }\n    get name() {\n        return this.grants.name;\n    }\n    set name(name) {\n        this.grants.name = name;\n    }\n    get metadata() {\n        return this.grants.metadata;\n    }\n    /**\n   * Set metadata to be passed to the Participant, used only when joining the room\n   */ set metadata(md) {\n        this.grants.metadata = md;\n    }\n    get attributes() {\n        return this.grants.attributes;\n    }\n    set attributes(attrs) {\n        this.grants.attributes = attrs;\n    }\n    get kind() {\n        return this.grants.kind;\n    }\n    set kind(kind) {\n        this.grants.kind = kind;\n    }\n    get sha256() {\n        return this.grants.sha256;\n    }\n    set sha256(sha) {\n        this.grants.sha256 = sha;\n    }\n    get roomPreset() {\n        return this.grants.roomPreset;\n    }\n    set roomPreset(preset) {\n        this.grants.roomPreset = preset;\n    }\n    get roomConfig() {\n        return this.grants.roomConfig;\n    }\n    set roomConfig(config) {\n        this.grants.roomConfig = config;\n    }\n    /**\n   * @returns JWT encoded token\n   */ async toJwt() {\n        var _a;\n        const secret = new TextEncoder().encode(this.apiSecret);\n        const jwt = new jose__WEBPACK_IMPORTED_MODULE_1__.SignJWT((0,_grants_js__WEBPACK_IMPORTED_MODULE_0__.claimsToJwtPayload)(this.grants)).setProtectedHeader({\n            alg: \"HS256\"\n        }).setIssuer(this.apiKey).setExpirationTime(this.ttl).setNotBefore(0);\n        if (this.identity) {\n            jwt.setSubject(this.identity);\n        } else if ((_a = this.grants.video) == null ? void 0 : _a.roomJoin) {\n            throw Error(\"identity is required for join but not set\");\n        }\n        return jwt.sign(secret);\n    }\n}\nclass TokenVerifier {\n    constructor(apiKey, apiSecret){\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n    }\n    async verify(token, clockTolerance = defaultClockToleranceSeconds) {\n        const secret = new TextEncoder().encode(this.apiSecret);\n        const { payload } = await jose__WEBPACK_IMPORTED_MODULE_2__.jwtVerify(token, secret, {\n            issuer: this.apiKey,\n            clockTolerance\n        });\n        if (!payload) {\n            throw Error(\"invalid token\");\n        }\n        return payload;\n    }\n}\n //# sourceMappingURL=AccessToken.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvQWNjZXNzVG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkI7QUFDb0I7QUFDakQsTUFBTUUsYUFBYSxDQUFDLEVBQUUsQ0FBQztBQUN2QixNQUFNQywrQkFBK0I7QUFDckMsTUFBTUM7SUFDSjs7OztHQUlDLEdBQ0RDLFlBQVlDLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxPQUFPLENBQUU7UUFDdEMsSUFBSSxDQUFDRixRQUFRO1lBQ1hBLFNBQVNHLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtRQUN0QztRQUNBLElBQUksQ0FBQ0osV0FBVztZQUNkQSxZQUFZRSxRQUFRQyxHQUFHLENBQUNFLGtCQUFrQjtRQUM1QztRQUNBLElBQUksQ0FBQ04sVUFBVSxDQUFDQyxXQUFXO1lBQ3pCLE1BQU1NLE1BQU07UUFDZCxPQUFPLElBQUksT0FBT0MsYUFBYSxhQUFhO1lBQzFDQyxRQUFRQyxLQUFLLENBQ1g7UUFFSjtRQUNBLElBQUksQ0FBQ1YsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNVLE1BQU0sR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDQyxRQUFRLEdBQUdWLFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFVLFFBQVE7UUFDM0QsSUFBSSxDQUFDQyxHQUFHLEdBQUcsQ0FBQ1gsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUVcsR0FBRyxLQUFLakI7UUFDdkQsSUFBSSxPQUFPLElBQUksQ0FBQ2lCLEdBQUcsS0FBSyxVQUFVO1lBQ2hDLElBQUksQ0FBQ0EsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUNBLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0I7UUFDQSxJQUFJWCxXQUFXLE9BQU8sS0FBSyxJQUFJQSxRQUFRWSxRQUFRLEVBQUU7WUFDL0MsSUFBSSxDQUFDQSxRQUFRLEdBQUdaLFFBQVFZLFFBQVE7UUFDbEM7UUFDQSxJ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LElBQUksQ0FBQ3JCLE1BQU0sQ0FBQ1EsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJYSxHQUFHWSxRQUFRLEVBQUU7WUFDbEUsTUFBTXJDLE1BQU07UUFDZDtRQUNBLE9BQU82QixJQUFJUyxJQUFJLENBQUNaO0lBQ2xCO0FBQ0Y7QUFDQSxNQUFNYTtJQUNKL0MsWUFBWUMsTUFBTSxFQUFFQyxTQUFTLENBQUU7UUFDN0IsSUFBSSxDQUFDRCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxTQUFTLEdBQUdBO0lBQ25CO0lBQ0EsTUFBTThDLE9BQU9DLEtBQUssRUFBRUMsaUJBQWlCcEQsNEJBQTRCLEVBQUU7UUFDakUsTUFBTW9DLFNBQVMsSUFBSUMsY0FBY0MsTUFBTSxDQUFDLElBQUksQ0FBQ2xDLFNBQVM7UUFDdEQsTUFBTSxFQUFFaUQsT0FBTyxFQUFFLEdBQUcsTUFBTXhELDJDQUFjLENBQUNzRCxPQUFPZixRQUFRO1lBQ3REbUIsUUFBUSxJQUFJLENBQUNwRCxNQUFNO1lBQ25CaUQ7UUFDRjtRQUNBLElBQUksQ0FBQ0MsU0FBUztZQUNaLE1BQU0zQyxNQUFNO1FBQ2Q7UUFDQSxPQUFPMkM7SUFDVDtBQUNGO0FBSUUsQ0FDRix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvQWNjZXNzVG9rZW4uanM/ZmI5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBqb3NlIGZyb20gXCJqb3NlXCI7XG5pbXBvcnQgeyBjbGFpbXNUb0p3dFBheWxvYWQgfSBmcm9tIFwiLi9ncmFudHMuanNcIjtcbmNvbnN0IGRlZmF1bHRUVEwgPSBgNmhgO1xuY29uc3QgZGVmYXVsdENsb2NrVG9sZXJhbmNlU2Vjb25kcyA9IDEwO1xuY2xhc3MgQWNjZXNzVG9rZW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBY2Nlc3NUb2tlblxuICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleSwgY2FuIGJlIHNldCBpbiBlbnYgTElWRUtJVF9BUElfS0VZXG4gICAqIEBwYXJhbSBhcGlTZWNyZXQgLSBTZWNyZXQsIGNhbiBiZSBzZXQgaW4gZW52IExJVkVLSVRfQVBJX1NFQ1JFVFxuICAgKi9cbiAgY29uc3RydWN0b3IoYXBpS2V5LCBhcGlTZWNyZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuTElWRUtJVF9BUElfS0VZO1xuICAgIH1cbiAgICBpZiAoIWFwaVNlY3JldCkge1xuICAgICAgYXBpU2VjcmV0ID0gcHJvY2Vzcy5lbnYuTElWRUtJVF9BUElfU0VDUkVUO1xuICAgIH1cbiAgICBpZiAoIWFwaUtleSB8fCAhYXBpU2VjcmV0KSB7XG4gICAgICB0aHJvdyBFcnJvcihcImFwaS1rZXkgYW5kIGFwaS1zZWNyZXQgbXVzdCBiZSBzZXRcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSB5b3VyIEFQSSBzZWNyZXQgaW4geW91ciB3ZWIgY2xpZW50IGJ1bmRsZS5cXG5cXG5Zb3VyIHdlYiBjbGllbnQgc2hvdWxkIHJlcXVlc3QgYSB0b2tlbiBmcm9tIHlvdXIgYmFja2VuZCBzZXJ2ZXIgd2hpY2ggc2hvdWxkIHRoZW4gdXNlIHRoZSBBUEkgc2VjcmV0IHRvIGdlbmVyYXRlIGEgdG9rZW4uIFNlZSBodHRwczovL2RvY3MubGl2ZWtpdC5pby9jbGllbnQvY29ubmVjdC9cIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5hcGlTZWNyZXQgPSBhcGlTZWNyZXQ7XG4gICAgdGhpcy5ncmFudHMgPSB7fTtcbiAgICB0aGlzLmlkZW50aXR5ID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pZGVudGl0eTtcbiAgICB0aGlzLnR0bCA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnR0bCkgfHwgZGVmYXVsdFRUTDtcbiAgICBpZiAodHlwZW9mIHRoaXMudHRsID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLnR0bCA9IGAke3RoaXMudHRsfXNgO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tZXRhZGF0YSkge1xuICAgICAgdGhpcy5tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGE7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmF0dHJpYnV0ZXMpIHtcbiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcztcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubmFtZSkge1xuICAgICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHZpZGVvIGdyYW50IHRvIHRoaXMgdG9rZW4uXG4gICAqIEBwYXJhbSBncmFudCAtXG4gICAqL1xuICBhZGRHcmFudChncmFudCkge1xuICAgIHRoaXMuZ3JhbnRzLnZpZGVvID0geyAuLi50aGlzLmdyYW50cy52aWRlbyA/PyB7fSwgLi4uZ3JhbnQgfTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIFNJUCBncmFudCB0byB0aGlzIHRva2VuLlxuICAgKiBAcGFyYW0gZ3JhbnQgLVxuICAgKi9cbiAgYWRkU0lQR3JhbnQoZ3JhbnQpIHtcbiAgICB0aGlzLmdyYW50cy5zaXAgPSB7IC4uLnRoaXMuZ3JhbnRzLnNpcCA/PyB7fSwgLi4uZ3JhbnQgfTtcbiAgfVxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5ncmFudHMubmFtZTtcbiAgfVxuICBzZXQgbmFtZShuYW1lKSB7XG4gICAgdGhpcy5ncmFudHMubmFtZSA9IG5hbWU7XG4gIH1cbiAgZ2V0IG1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmdyYW50cy5tZXRhZGF0YTtcbiAgfVxuICAvKipcbiAgICogU2V0IG1ldGFkYXRhIHRvIGJlIHBhc3NlZCB0byB0aGUgUGFydGljaXBhbnQsIHVzZWQgb25seSB3aGVuIGpvaW5pbmcgdGhlIHJvb21cbiAgICovXG4gIHNldCBtZXRhZGF0YShtZCkge1xuICAgIHRoaXMuZ3JhbnRzLm1ldGFkYXRhID0gbWQ7XG4gIH1cbiAgZ2V0IGF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JhbnRzLmF0dHJpYnV0ZXM7XG4gIH1cbiAgc2V0IGF0dHJpYnV0ZXMoYXR0cnMpIHtcbiAgICB0aGlzLmdyYW50cy5hdHRyaWJ1dGVzID0gYXR0cnM7XG4gIH1cbiAgZ2V0IGtpbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JhbnRzLmtpbmQ7XG4gIH1cbiAgc2V0IGtpbmQoa2luZCkge1xuICAgIHRoaXMuZ3JhbnRzLmtpbmQgPSBraW5kO1xuICB9XG4gIGdldCBzaGEyNTYoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JhbnRzLnNoYTI1NjtcbiAgfVxuICBzZXQgc2hhMjU2KHNoYSkge1xuICAgIHRoaXMuZ3JhbnRzLnNoYTI1NiA9IHNoYTtcbiAgfVxuICBnZXQgcm9vbVByZXNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5ncmFudHMucm9vbVByZXNldDtcbiAgfVxuICBzZXQgcm9vbVByZXNldChwcmVzZXQpIHtcbiAgICB0aGlzLmdyYW50cy5yb29tUHJlc2V0ID0gcHJlc2V0O1xuICB9XG4gIGdldCByb29tQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmdyYW50cy5yb29tQ29uZmlnO1xuICB9XG4gIHNldCByb29tQ29uZmlnKGNvbmZpZykge1xuICAgIHRoaXMuZ3JhbnRzLnJvb21Db25maWcgPSBjb25maWc7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIEpXVCBlbmNvZGVkIHRva2VuXG4gICAqL1xuICBhc3luYyB0b0p3dCgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc2VjcmV0ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRoaXMuYXBpU2VjcmV0KTtcbiAgICBjb25zdCBqd3QgPSBuZXcgam9zZS5TaWduSldUKGNsYWltc1RvSnd0UGF5bG9hZCh0aGlzLmdyYW50cykpLnNldFByb3RlY3RlZEhlYWRlcih7IGFsZzogXCJIUzI1NlwiIH0pLnNldElzc3Vlcih0aGlzLmFwaUtleSkuc2V0RXhwaXJhdGlvblRpbWUodGhpcy50dGwpLnNldE5vdEJlZm9yZSgwKTtcbiAgICBpZiAodGhpcy5pZGVudGl0eSkge1xuICAgICAgand0LnNldFN1YmplY3QodGhpcy5pZGVudGl0eSk7XG4gICAgfSBlbHNlIGlmICgoX2EgPSB0aGlzLmdyYW50cy52aWRlbykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJvb21Kb2luKSB7XG4gICAgICB0aHJvdyBFcnJvcihcImlkZW50aXR5IGlzIHJlcXVpcmVkIGZvciBqb2luIGJ1dCBub3Qgc2V0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gand0LnNpZ24oc2VjcmV0KTtcbiAgfVxufVxuY2xhc3MgVG9rZW5WZXJpZmllciB7XG4gIGNvbnN0cnVjdG9yKGFwaUtleSwgYXBpU2VjcmV0KSB7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5hcGlTZWNyZXQgPSBhcGlTZWNyZXQ7XG4gIH1cbiAgYXN5bmMgdmVyaWZ5KHRva2VuLCBjbG9ja1RvbGVyYW5jZSA9IGRlZmF1bHRDbG9ja1RvbGVyYW5jZVNlY29uZHMpIHtcbiAgICBjb25zdCBzZWNyZXQgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGhpcy5hcGlTZWNyZXQpO1xuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgam9zZS5qd3RWZXJpZnkodG9rZW4sIHNlY3JldCwge1xuICAgICAgaXNzdWVyOiB0aGlzLmFwaUtleSxcbiAgICAgIGNsb2NrVG9sZXJhbmNlXG4gICAgfSk7XG4gICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICB0aHJvdyBFcnJvcihcImludmFsaWQgdG9rZW5cIik7XG4gICAgfVxuICAgIHJldHVybiBwYXlsb2FkO1xuICB9XG59XG5leHBvcnQge1xuICBBY2Nlc3NUb2tlbixcbiAgVG9rZW5WZXJpZmllclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY2Vzc1Rva2VuLmpzLm1hcCJdLCJuYW1lcyI6WyJqb3NlIiwiY2xhaW1zVG9Kd3RQYXlsb2FkIiwiZGVmYXVsdFRUTCIsImRlZmF1bHRDbG9ja1RvbGVyYW5jZVNlY29uZHMiLCJBY2Nlc3NUb2tlbiIsImNvbnN0cnVjdG9yIiwiYXBpS2V5IiwiYXBpU2VjcmV0Iiwib3B0aW9ucyIsInByb2Nlc3MiLCJlbnYiLCJMSVZFS0lUX0FQSV9LRVkiLCJMSVZFS0lUX0FQSV9TRUNSRVQiLCJFcnJvciIsImRvY3VtZW50IiwiY29uc29sZSIsImVycm9yIiwiZ3JhbnRzIiwiaWRlbnRpdHkiLCJ0dGwiLCJtZXRhZGF0YSIsImF0dHJpYnV0ZXMiLCJuYW1lIiwiYWRkR3JhbnQiLCJncmFudCIsInZpZGVvIiwiYWRkU0lQR3JhbnQiLCJzaXAiLCJtZCIsImF0dHJzIiwia2luZCIsInNoYTI1NiIsInNoYSIsInJvb21QcmVzZXQiLCJwcmVzZXQiLCJyb29tQ29uZmlnIiwiY29uZmlnIiwidG9Kd3QiLCJfYSIsInNlY3JldCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiand0IiwiU2lnbkpXVCIsInNldFByb3RlY3RlZEhlYWRlciIsImFsZyIsInNldElzc3VlciIsInNldEV4cGlyYXRpb25UaW1lIiwic2V0Tm90QmVmb3JlIiwic2V0U3ViamVjdCIsInJvb21Kb2luIiwic2lnbiIsIlRva2VuVmVyaWZpZXIiLCJ2ZXJpZnkiLCJ0b2tlbiIsImNsb2NrVG9sZXJhbmNlIiwicGF5bG9hZCIsImp3dFZlcmlmeSIsImlzc3VlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js":
/*!*********************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AgentDispatchClient: () => (/* binding */ AgentDispatchClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = \"AgentDispatchService\";\nclass AgentDispatchClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * Create an explicit dispatch for an agent to join a room. To use explicit\n   * dispatch, your agent must be registered with an `agentName`.\n   * @param roomName - name of the room to dispatch to\n   * @param agentName - name of the agent to dispatch\n   * @param options - optional metadata to send along with the dispatch\n   * @returns the dispatch that was created\n   */ async createDispatch(roomName, agentName, options) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateAgentDispatchRequest({\n            room: roomName,\n            agentName,\n            metadata: options == null ? void 0 : options.metadata\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AgentDispatch.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Delete an explicit dispatch for an agent in a room.\n   * @param dispatchId - id of the dispatch to delete\n   * @param roomName - name of the room the dispatch is for\n   */ async deleteDispatch(dispatchId, roomName) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteAgentDispatchRequest({\n            dispatchId,\n            room: roomName\n        }).toJson();\n        await this.rpc.request(svc, \"DeleteDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n    }\n    /**\n   * Get an Agent dispatch by ID\n   * @param dispatchId - id of the dispatch to get\n   * @param roomName - name of the room the dispatch is for\n   * @returns the dispatch that was found, or undefined if not found\n   */ async getDispatch(dispatchId, roomName) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchRequest({\n            dispatchId,\n            room: roomName\n        }).toJson();\n        const data = await this.rpc.request(svc, \"ListDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        if (res.agentDispatches.length === 0) {\n            return void 0;\n        }\n        return res.agentDispatches[0];\n    }\n    /**\n   * List all agent dispatches for a room\n   * @param roomName - name of the room to list dispatches for\n   * @returns the list of dispatches\n   */ async listDispatch(roomName) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchRequest({\n            room: roomName\n        }).toJson();\n        const data = await this.rpc.request(svc, \"ListDispatch\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListAgentDispatchResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.agentDispatches;\n    }\n}\n //# sourceMappingURL=AgentDispatchClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvQWdlbnREaXNwYXRjaENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTTJCO0FBQ29CO0FBQ1U7QUFDekQsTUFBTVEsTUFBTTtBQUNaLE1BQU1DLDRCQUE0Qkosd0RBQVdBO0lBQzNDOzs7O0dBSUMsR0FDREssWUFBWUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sQ0FBRTtRQUNoQyxLQUFLLENBQUNELFFBQVFDO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUcsSUFBSVIsa0RBQVFBLENBQUNLLE1BQU1KLHdEQUFjQTtJQUM5QztJQUNBOzs7Ozs7O0dBT0MsR0FDRCxNQUFNUSxlQUFlQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxFQUFFO1FBQ2pELE1BQU1DLE1BQU0sSUFBSWxCLHlFQUEwQkEsQ0FBQztZQUN6Q21CLE1BQU1KO1lBQ05DO1lBQ0FJLFVBQVVILFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFHLFFBQVE7UUFDdkQsR0FBR0MsTUFBTTtRQUNULE1BQU1DLE9BQU8sTUFBTSxJQUFJLENBQUNULEdBQUcsQ0FBQ1UsT0FBTyxDQUNqQ2hCLEtBQ0Esa0JBQ0FXLEtBQ0EsTUFBTSxJQUFJLENBQUNNLFVBQVUsQ0FBQztZQUFFQyxXQUFXO1lBQU1OLE1BQU1KO1FBQVM7UUFFMUQsT0FBT2hCLDREQUFhQSxDQUFDMkIsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLO0lBQ2xFO0lBQ0E7Ozs7R0FJQyxHQUNELE1BQU1DLGVBQWVDLFVBQVUsRUFBRWQsUUFBUSxFQUFFO1FBQ3pDLE1BQU1HLE1BQU0sSUFBSWpCLHlFQUEwQkEsQ0FBQztZQUN6QzRCO1lBQ0FWLE1BQU1KO1FBQ1IsR0FBR00sTUFBTTtRQUNULE1BQU0sSUFBSSxDQUFDUixHQUFHLENBQUNVLE9BQU8sQ0FDcEJoQixLQUNBLGtCQUNBVyxLQUNBLE1BQU0sSUFBSSxDQUFDTSxVQUFVLENBQUM7WUFBRUMsV0FBVztZQUFNTixNQUFNSjtRQUFTO0lBRTVEO0lBQ0E7Ozs7O0dBS0MsR0FDRCxNQUFNZSxZQUFZRCxVQUFVLEVBQUVkLFFBQVEsRUFBRTtRQUN0QyxNQUFNRyxNQUFNLElBQUloQix1RUFBd0JBLENBQUM7WUFDdkMyQjtZQUNBVixNQUFNSjtRQUNSLEdBQUdNLE1BQU07UUFDVCxNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDVCxHQUFHLENBQUNVLE9BQU8sQ0FDakNoQixLQUNBLGdCQUNBVyxLQUNBLE1BQU0sSUFBSSxDQUFDTSxVQUFVLENBQUM7WUFBRUMsV0FBVztZQUFNTixNQUFNSjtRQUFTO1FBRTFELE1BQU1nQixNQUFNNUIsd0VBQXlCQSxDQUFDdUIsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLO1FBQ2pGLElBQUlJLElBQUlDLGVBQWUsQ0FBQ0MsTUFBTSxLQUFLLEdBQUc7WUFDcEMsT0FBTyxLQUFLO1FBQ2Q7UUFDQSxPQUFPRixJQUFJQyxlQUFlLENBQUMsRUFBRTtJQUMvQjtJQUNBOzs7O0dBSUMsR0FDRCxNQUFNRSxhQUFhbkIsUUFBUSxFQUFFO1FBQzNCLE1BQU1HLE1BQU0sSUFBSWhCLHVFQUF3QkEsQ0FBQztZQUN2Q2lCLE1BQU1KO1FBQ1IsR0FBR00sTUFBTTtRQUNULE1BQU1DLE9BQU8sTUFBTSxJQUFJLENBQUNULEdBQUcsQ0FBQ1UsT0FBTyxDQUNqQ2hCLEtBQ0EsZ0JBQ0FXLEtBQ0EsTUFBTSxJQUFJLENBQUNNLFVBQVUsQ0FBQztZQUFFQyxXQUFXO1lBQU1OLE1BQU1KO1FBQVM7UUFFMUQsTUFBTWdCLE1BQU01Qix3RUFBeUJBLENBQUN1QixRQUFRLENBQUNKLE1BQU07WUFBRUsscUJBQXFCO1FBQUs7UUFDakYsT0FBT0ksSUFBSUMsZUFBZTtJQUM1QjtBQUNGO0FBR0UsQ0FDRiwrQ0FBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvQWdlbnREaXNwYXRjaENsaWVudC5qcz9mODEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFnZW50RGlzcGF0Y2gsXG4gIENyZWF0ZUFnZW50RGlzcGF0Y2hSZXF1ZXN0LFxuICBEZWxldGVBZ2VudERpc3BhdGNoUmVxdWVzdCxcbiAgTGlzdEFnZW50RGlzcGF0Y2hSZXF1ZXN0LFxuICBMaXN0QWdlbnREaXNwYXRjaFJlc3BvbnNlXG59IGZyb20gXCJAbGl2ZWtpdC9wcm90b2NvbFwiO1xuaW1wb3J0IHsgU2VydmljZUJhc2UgfSBmcm9tIFwiLi9TZXJ2aWNlQmFzZS5qc1wiO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSBcIi4vVHdpcnBSUEMuanNcIjtcbmNvbnN0IHN2YyA9IFwiQWdlbnREaXNwYXRjaFNlcnZpY2VcIjtcbmNsYXNzIEFnZW50RGlzcGF0Y2hDbGllbnQgZXh0ZW5kcyBTZXJ2aWNlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly88cHJvamVjdD4ubGl2ZWtpdC5jbG91ZCdcbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICogQHBhcmFtIHNlY3JldCAtIEFQSSBTZWNyZXQsIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgIHRoaXMucnBjID0gbmV3IFR3aXJwUnBjKGhvc3QsIGxpdmVraXRQYWNrYWdlKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGV4cGxpY2l0IGRpc3BhdGNoIGZvciBhbiBhZ2VudCB0byBqb2luIGEgcm9vbS4gVG8gdXNlIGV4cGxpY2l0XG4gICAqIGRpc3BhdGNoLCB5b3VyIGFnZW50IG11c3QgYmUgcmVnaXN0ZXJlZCB3aXRoIGFuIGBhZ2VudE5hbWVgLlxuICAgKiBAcGFyYW0gcm9vbU5hbWUgLSBuYW1lIG9mIHRoZSByb29tIHRvIGRpc3BhdGNoIHRvXG4gICAqIEBwYXJhbSBhZ2VudE5hbWUgLSBuYW1lIG9mIHRoZSBhZ2VudCB0byBkaXNwYXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbmFsIG1ldGFkYXRhIHRvIHNlbmQgYWxvbmcgd2l0aCB0aGUgZGlzcGF0Y2hcbiAgICogQHJldHVybnMgdGhlIGRpc3BhdGNoIHRoYXQgd2FzIGNyZWF0ZWRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZURpc3BhdGNoKHJvb21OYW1lLCBhZ2VudE5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlQWdlbnREaXNwYXRjaFJlcXVlc3Qoe1xuICAgICAgcm9vbTogcm9vbU5hbWUsXG4gICAgICBhZ2VudE5hbWUsXG4gICAgICBtZXRhZGF0YTogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tZXRhZGF0YVxuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJDcmVhdGVEaXNwYXRjaFwiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tOiByb29tTmFtZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEFnZW50RGlzcGF0Y2guZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYW4gZXhwbGljaXQgZGlzcGF0Y2ggZm9yIGFuIGFnZW50IGluIGEgcm9vbS5cbiAgICogQHBhcmFtIGRpc3BhdGNoSWQgLSBpZCBvZiB0aGUgZGlzcGF0Y2ggdG8gZGVsZXRlXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIG5hbWUgb2YgdGhlIHJvb20gdGhlIGRpc3BhdGNoIGlzIGZvclxuICAgKi9cbiAgYXN5bmMgZGVsZXRlRGlzcGF0Y2goZGlzcGF0Y2hJZCwgcm9vbU5hbWUpIHtcbiAgICBjb25zdCByZXEgPSBuZXcgRGVsZXRlQWdlbnREaXNwYXRjaFJlcXVlc3Qoe1xuICAgICAgZGlzcGF0Y2hJZCxcbiAgICAgIHJvb206IHJvb21OYW1lXG4gICAgfSkudG9Kc29uKCk7XG4gICAgYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiRGVsZXRlRGlzcGF0Y2hcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbTogcm9vbU5hbWUgfSlcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW4gQWdlbnQgZGlzcGF0Y2ggYnkgSURcbiAgICogQHBhcmFtIGRpc3BhdGNoSWQgLSBpZCBvZiB0aGUgZGlzcGF0Y2ggdG8gZ2V0XG4gICAqIEBwYXJhbSByb29tTmFtZSAtIG5hbWUgb2YgdGhlIHJvb20gdGhlIGRpc3BhdGNoIGlzIGZvclxuICAgKiBAcmV0dXJucyB0aGUgZGlzcGF0Y2ggdGhhdCB3YXMgZm91bmQsIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAgICovXG4gIGFzeW5jIGdldERpc3BhdGNoKGRpc3BhdGNoSWQsIHJvb21OYW1lKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IExpc3RBZ2VudERpc3BhdGNoUmVxdWVzdCh7XG4gICAgICBkaXNwYXRjaElkLFxuICAgICAgcm9vbTogcm9vbU5hbWVcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdERpc3BhdGNoXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb206IHJvb21OYW1lIH0pXG4gICAgKTtcbiAgICBjb25zdCByZXMgPSBMaXN0QWdlbnREaXNwYXRjaFJlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICBpZiAocmVzLmFnZW50RGlzcGF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiByZXMuYWdlbnREaXNwYXRjaGVzWzBdO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0IGFsbCBhZ2VudCBkaXNwYXRjaGVzIGZvciBhIHJvb21cbiAgICogQHBhcmFtIHJvb21OYW1lIC0gbmFtZSBvZiB0aGUgcm9vbSB0byBsaXN0IGRpc3BhdGNoZXMgZm9yXG4gICAqIEByZXR1cm5zIHRoZSBsaXN0IG9mIGRpc3BhdGNoZXNcbiAgICovXG4gIGFzeW5jIGxpc3REaXNwYXRjaChyb29tTmFtZSkge1xuICAgIGNvbnN0IHJlcSA9IG5ldyBMaXN0QWdlbnREaXNwYXRjaFJlcXVlc3Qoe1xuICAgICAgcm9vbTogcm9vbU5hbWVcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdERpc3BhdGNoXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb206IHJvb21OYW1lIH0pXG4gICAgKTtcbiAgICBjb25zdCByZXMgPSBMaXN0QWdlbnREaXNwYXRjaFJlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICByZXR1cm4gcmVzLmFnZW50RGlzcGF0Y2hlcztcbiAgfVxufVxuZXhwb3J0IHtcbiAgQWdlbnREaXNwYXRjaENsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFnZW50RGlzcGF0Y2hDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbIkFnZW50RGlzcGF0Y2giLCJDcmVhdGVBZ2VudERpc3BhdGNoUmVxdWVzdCIsIkRlbGV0ZUFnZW50RGlzcGF0Y2hSZXF1ZXN0IiwiTGlzdEFnZW50RGlzcGF0Y2hSZXF1ZXN0IiwiTGlzdEFnZW50RGlzcGF0Y2hSZXNwb25zZSIsIlNlcnZpY2VCYXNlIiwiVHdpcnBScGMiLCJsaXZla2l0UGFja2FnZSIsInN2YyIsIkFnZW50RGlzcGF0Y2hDbGllbnQiLCJjb25zdHJ1Y3RvciIsImhvc3QiLCJhcGlLZXkiLCJzZWNyZXQiLCJycGMiLCJjcmVhdGVEaXNwYXRjaCIsInJvb21OYW1lIiwiYWdlbnROYW1lIiwib3B0aW9ucyIsInJlcSIsInJvb20iLCJtZXRhZGF0YSIsInRvSnNvbiIsImRhdGEiLCJyZXF1ZXN0IiwiYXV0aEhlYWRlciIsInJvb21BZG1pbiIsImZyb21Kc29uIiwiaWdub3JlVW5rbm93bkZpZWxkcyIsImRlbGV0ZURpc3BhdGNoIiwiZGlzcGF0Y2hJZCIsImdldERpc3BhdGNoIiwicmVzIiwiYWdlbnREaXNwYXRjaGVzIiwibGVuZ3RoIiwibGlzdERpc3BhdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/EgressClient.js":
/*!**************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/EgressClient.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EgressClient: () => (/* binding */ EgressClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = \"Egress\";\nclass EgressClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    async startRoomCompositeEgress(roomName, output, optsOrLayout, options, audioOnly, videoOnly, customBaseUrl) {\n        let layout;\n        if (optsOrLayout !== void 0) {\n            if (typeof optsOrLayout === \"string\") {\n                layout = optsOrLayout;\n            } else {\n                const opts = optsOrLayout;\n                layout = opts.layout;\n                options = opts.encodingOptions;\n                audioOnly = opts.audioOnly;\n                videoOnly = opts.videoOnly;\n                customBaseUrl = opts.customBaseUrl;\n            }\n        }\n        layout ??= \"\";\n        audioOnly ??= false;\n        videoOnly ??= false;\n        customBaseUrl ??= \"\";\n        const { output: legacyOutput, options: egressOptions, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, options);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomCompositeEgressRequest({\n            roomName,\n            layout,\n            audioOnly,\n            videoOnly,\n            customBaseUrl,\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartRoomCompositeEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param url - url\n   * @param output - file or stream output\n   * @param opts - WebOptions\n   */ async startWebEgress(url, output, opts) {\n        const audioOnly = (opts == null ? void 0 : opts.audioOnly) || false;\n        const videoOnly = (opts == null ? void 0 : opts.videoOnly) || false;\n        const awaitStartSignal = (opts == null ? void 0 : opts.awaitStartSignal) || false;\n        const { output: legacyOutput, options, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, opts == null ? void 0 : opts.encodingOptions);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebEgressRequest({\n            url,\n            audioOnly,\n            videoOnly,\n            awaitStartSignal,\n            output: legacyOutput,\n            options,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartWebEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Export a participant's audio and video tracks,\n   *\n   * @param roomName - room name\n   * @param output - one or more outputs\n   * @param opts - ParticipantEgressOptions\n   */ async startParticipantEgress(roomName, identity, output, opts) {\n        const { options, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, opts == null ? void 0 : opts.encodingOptions);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantEgressRequest({\n            roomName,\n            identity,\n            screenShare: (opts == null ? void 0 : opts.screenShare) ?? false,\n            options,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartParticipantEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    async startTrackCompositeEgress(roomName, output, optsOrAudioTrackId, videoTrackId, options) {\n        let audioTrackId;\n        if (optsOrAudioTrackId !== void 0) {\n            if (typeof optsOrAudioTrackId === \"string\") {\n                audioTrackId = optsOrAudioTrackId;\n            } else {\n                const opts = optsOrAudioTrackId;\n                audioTrackId = opts.audioTrackId;\n                videoTrackId = opts.videoTrackId;\n                options = opts.encodingOptions;\n            }\n        }\n        audioTrackId ??= \"\";\n        videoTrackId ??= \"\";\n        const { output: legacyOutput, options: egressOptions, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, options);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackCompositeEgressRequest({\n            roomName,\n            audioTrackId,\n            videoTrackId,\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartTrackCompositeEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEncodedOutputs(output) {\n        return output.file !== void 0 || output.stream !== void 0 || output.segments !== void 0 || output.images !== void 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEncodedFileOutput(output) {\n        return output.filepath !== void 0 || output.fileType !== void 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isSegmentedFileOutput(output) {\n        return output.filenamePrefix !== void 0 || output.playlistName !== void 0 || output.filenameSuffix !== void 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isStreamOutput(output) {\n        return output.protocol !== void 0 || output.urls !== void 0;\n    }\n    getOutputParams(output, opts) {\n        let file;\n        let fileOutputs;\n        let stream;\n        let streamOutputs;\n        let segments;\n        let segmentOutputs;\n        let imageOutputs;\n        if (this.isEncodedOutputs(output)) {\n            if (output.file !== void 0) {\n                fileOutputs = [\n                    output.file\n                ];\n            }\n            if (output.stream !== void 0) {\n                streamOutputs = [\n                    output.stream\n                ];\n            }\n            if (output.segments !== void 0) {\n                segmentOutputs = [\n                    output.segments\n                ];\n            }\n            if (output.images !== void 0) {\n                imageOutputs = [\n                    output.images\n                ];\n            }\n        } else if (this.isEncodedFileOutput(output)) {\n            file = output;\n            fileOutputs = [\n                file\n            ];\n        } else if (this.isSegmentedFileOutput(output)) {\n            segments = output;\n            segmentOutputs = [\n                segments\n            ];\n        } else if (this.isStreamOutput(output)) {\n            stream = output;\n            streamOutputs = [\n                stream\n            ];\n        }\n        let legacyOutput;\n        if (file) {\n            legacyOutput = {\n                case: \"file\",\n                value: file\n            };\n        } else if (stream) {\n            legacyOutput = {\n                case: \"stream\",\n                value: stream\n            };\n        } else if (segments) {\n            legacyOutput = {\n                case: \"segments\",\n                value: segments\n            };\n        }\n        let egressOptions;\n        if (opts) {\n            if (typeof opts === \"number\") {\n                egressOptions = {\n                    case: \"preset\",\n                    value: opts\n                };\n            } else {\n                egressOptions = {\n                    case: \"advanced\",\n                    value: opts\n                };\n            }\n        }\n        return {\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs\n        };\n    }\n    /**\n   * @param roomName - room name\n   * @param output - file or websocket output\n   * @param trackId - track Id\n   */ async startTrackEgress(roomName, output, trackId) {\n        let legacyOutput;\n        if (typeof output === \"string\") {\n            legacyOutput = {\n                case: \"websocketUrl\",\n                value: output\n            };\n        } else {\n            legacyOutput = {\n                case: \"file\",\n                value: output\n            };\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackEgressRequest({\n            roomName,\n            trackId,\n            output: legacyOutput\n        }).toJson();\n        const data = await this.rpc.request(svc, \"StartTrackEgress\", req, await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param egressId -\n   * @param layout -\n   */ async updateLayout(egressId, layout) {\n        const data = await this.rpc.request(svc, \"UpdateLayout\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateLayoutRequest({\n            egressId,\n            layout\n        }).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param egressId -\n   * @param addOutputUrls -\n   * @param removeOutputUrls -\n   */ async updateStream(egressId, addOutputUrls, removeOutputUrls) {\n        addOutputUrls ??= [];\n        removeOutputUrls ??= [];\n        const data = await this.rpc.request(svc, \"UpdateStream\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateStreamRequest({\n            egressId,\n            addOutputUrls,\n            removeOutputUrls\n        }).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param roomName - list egress for one room only\n   */ async listEgress(options) {\n        let req = {};\n        if (typeof options === \"string\") {\n            req.roomName = options;\n        } else if (options !== void 0) {\n            req = options;\n        }\n        const data = await this.rpc.request(svc, \"ListEgress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListEgressRequest(req).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListEgressResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param egressId -\n   */ async stopEgress(egressId) {\n        const data = await this.rpc.request(svc, \"StopEgress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StopEgressRequest({\n            egressId\n        }).toJson(), await this.authHeader({\n            roomRecord: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n}\n //# sourceMappingURL=EgressClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvRWdyZXNzQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFZMkI7QUFDb0I7QUFDVTtBQUN6RCxNQUFNYyxNQUFNO0FBQ1osTUFBTUMscUJBQXFCSix3REFBV0E7SUFDcEM7Ozs7R0FJQyxHQUNESyxZQUFZQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsTUFBTSxDQUFFO1FBQ2hDLEtBQUssQ0FBQ0QsUUFBUUM7UUFDZCxJQUFJLENBQUNDLEdBQUcsR0FBRyxJQUFJUixrREFBUUEsQ0FBQ0ssTUFBTUosd0RBQWNBO0lBQzlDO0lBQ0EsTUFBTVEseUJBQXlCQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxhQUFhLEVBQUU7UUFDM0csSUFBSUM7UUFDSixJQUFJTCxpQkFBaUIsS0FBSyxHQUFHO1lBQzNCLElBQUksT0FBT0EsaUJBQWlCLFVBQVU7Z0JBQ3BDSyxTQUFTTDtZQUNYLE9BQU87Z0JBQ0wsTUFBTU0sT0FBT047Z0JBQ2JLLFNBQVNDLEtBQUtELE1BQU07Z0JBQ3BCSixVQUFVSyxLQUFLQyxlQUFlO2dCQUM5QkwsWUFBWUksS0FBS0osU0FBUztnQkFDMUJDLFlBQVlHLEtBQUtILFNBQVM7Z0JBQzFCQyxnQkFBZ0JFLEtBQUtGLGFBQWE7WUFDcEM7UUFDRjtRQUNBQyxXQUFXO1FBQ1hILGNBQWM7UUFDZEMsY0FBYztRQUNkQyxrQkFBa0I7UUFDbEIsTUFBTSxFQUNKTCxRQUFRUyxZQUFZLEVBQ3BCUCxTQUFTUSxhQUFhLEVBQ3RCQyxXQUFXLEVBQ1hDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxZQUFZLEVBQ2IsR0FBRyxJQUFJLENBQUNDLGVBQWUsQ0FBQ2YsUUFBUUU7UUFDakMsTUFBTWMsTUFBTSxJQUFJbkMseUVBQTBCQSxDQUFDO1lBQ3pDa0I7WUFDQU87WUFDQUg7WUFDQUM7WUFDQUM7WUFDQUws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QUUzQyxPQUFPMUMsaUVBQWtCQSxDQUFDMkMsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLLEdBQUdvQyxLQUFLLElBQUksRUFBRTtJQUNyRjtJQUNBOztHQUVDLEdBQ0QsTUFBTUMsV0FBV04sUUFBUSxFQUFFO1FBQ3pCLE1BQU1wQyxPQUFPLE1BQU0sSUFBSSxDQUFDckIsR0FBRyxDQUFDc0IsT0FBTyxDQUNqQzVCLEtBQ0EsY0FDQSxJQUFJVCxnRUFBaUJBLENBQUM7WUFBRXdFO1FBQVMsR0FBR3JDLE1BQU0sSUFDMUMsTUFBTSxJQUFJLENBQUNHLFVBQVUsQ0FBQztZQUFFQyxZQUFZO1FBQUs7UUFFM0MsT0FBTzVDLHlEQUFVQSxDQUFDNkMsUUFBUSxDQUFDSixNQUFNO1lBQUVLLHFCQUFxQjtRQUFLO0lBQy9EO0FBQ0Y7QUFHRSxDQUNGLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9FZ3Jlc3NDbGllbnQuanM/NThlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBFZ3Jlc3NJbmZvLFxuICBMaXN0RWdyZXNzUmVxdWVzdCxcbiAgTGlzdEVncmVzc1Jlc3BvbnNlLFxuICBQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QsXG4gIFJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LFxuICBTdG9wRWdyZXNzUmVxdWVzdCxcbiAgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LFxuICBUcmFja0VncmVzc1JlcXVlc3QsXG4gIFVwZGF0ZUxheW91dFJlcXVlc3QsXG4gIFVwZGF0ZVN0cmVhbVJlcXVlc3QsXG4gIFdlYkVncmVzc1JlcXVlc3Rcbn0gZnJvbSBcIkBsaXZla2l0L3Byb3RvY29sXCI7XG5pbXBvcnQgeyBTZXJ2aWNlQmFzZSB9IGZyb20gXCIuL1NlcnZpY2VCYXNlLmpzXCI7XG5pbXBvcnQgeyBUd2lycFJwYywgbGl2ZWtpdFBhY2thZ2UgfSBmcm9tIFwiLi9Ud2lycFJQQy5qc1wiO1xuY29uc3Qgc3ZjID0gXCJFZ3Jlc3NcIjtcbmNsYXNzIEVncmVzc0NsaWVudCBleHRlbmRzIFNlcnZpY2VCYXNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBob3N0IC0gaG9zdG5hbWUgaW5jbHVkaW5nIHByb3RvY29sLiBpLmUuICdodHRwczovLzxwcm9qZWN0Pi5saXZla2l0LmNsb3VkJ1xuICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleSwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX0tFWVxuICAgKiBAcGFyYW0gc2VjcmV0IC0gQVBJIFNlY3JldCwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX1NFQ1JFVFxuICAgKi9cbiAgY29uc3RydWN0b3IoaG9zdCwgYXBpS2V5LCBzZWNyZXQpIHtcbiAgICBzdXBlcihhcGlLZXksIHNlY3JldCk7XG4gICAgdGhpcy5ycGMgPSBuZXcgVHdpcnBScGMoaG9zdCwgbGl2ZWtpdFBhY2thZ2UpO1xuICB9XG4gIGFzeW5jIHN0YXJ0Um9vbUNvbXBvc2l0ZUVncmVzcyhyb29tTmFtZSwgb3V0cHV0LCBvcHRzT3JMYXlvdXQsIG9wdGlvbnMsIGF1ZGlvT25seSwgdmlkZW9Pbmx5LCBjdXN0b21CYXNlVXJsKSB7XG4gICAgbGV0IGxheW91dDtcbiAgICBpZiAob3B0c09yTGF5b3V0ICE9PSB2b2lkIDApIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0c09yTGF5b3V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxheW91dCA9IG9wdHNPckxheW91dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBvcHRzT3JMYXlvdXQ7XG4gICAgICAgIGxheW91dCA9IG9wdHMubGF5b3V0O1xuICAgICAgICBvcHRpb25zID0gb3B0cy5lbmNvZGluZ09wdGlvbnM7XG4gICAgICAgIGF1ZGlvT25seSA9IG9wdHMuYXVkaW9Pbmx5O1xuICAgICAgICB2aWRlb09ubHkgPSBvcHRzLnZpZGVvT25seTtcbiAgICAgICAgY3VzdG9tQmFzZVVybCA9IG9wdHMuY3VzdG9tQmFzZVVybDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGF5b3V0ID8/PSBcIlwiO1xuICAgIGF1ZGlvT25seSA/Pz0gZmFsc2U7XG4gICAgdmlkZW9Pbmx5ID8/PSBmYWxzZTtcbiAgICBjdXN0b21CYXNlVXJsID8/PSBcIlwiO1xuICAgIGNvbnN0IHtcbiAgICAgIG91dHB1dDogbGVnYWN5T3V0cHV0LFxuICAgICAgb3B0aW9uczogZWdyZXNzT3B0aW9ucyxcbiAgICAgIGZpbGVPdXRwdXRzLFxuICAgICAgc3RyZWFtT3V0cHV0cyxcbiAgICAgIHNlZ21lbnRPdXRwdXRzLFxuICAgICAgaW1hZ2VPdXRwdXRzXG4gICAgfSA9IHRoaXMuZ2V0T3V0cHV0UGFyYW1zKG91dHB1dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgcmVxID0gbmV3IFJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgIHJvb21OYW1lLFxuICAgICAgbGF5b3V0LFxuICAgICAgYXVkaW9Pbmx5LFxuICAgICAgdmlkZW9Pbmx5LFxuICAgICAgY3VzdG9tQmFzZVVybCxcbiAgICAgIG91dHB1dDogbGVnYWN5T3V0cHV0LFxuICAgICAgb3B0aW9uczogZWdyZXNzT3B0aW9ucyxcbiAgICAgIGZpbGVPdXRwdXRzLFxuICAgICAgc3RyZWFtT3V0cHV0cyxcbiAgICAgIHNlZ21lbnRPdXRwdXRzLFxuICAgICAgaW1hZ2VPdXRwdXRzXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlN0YXJ0Um9vbUNvbXBvc2l0ZUVncmVzc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gdXJsIC0gdXJsXG4gICAqIEBwYXJhbSBvdXRwdXQgLSBmaWxlIG9yIHN0cmVhbSBvdXRwdXRcbiAgICogQHBhcmFtIG9wdHMgLSBXZWJPcHRpb25zXG4gICAqL1xuICBhc3luYyBzdGFydFdlYkVncmVzcyh1cmwsIG91dHB1dCwgb3B0cykge1xuICAgIGNvbnN0IGF1ZGlvT25seSA9IChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmF1ZGlvT25seSkgfHwgZmFsc2U7XG4gICAgY29uc3QgdmlkZW9Pbmx5ID0gKG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMudmlkZW9Pbmx5KSB8fCBmYWxzZTtcbiAgICBjb25zdCBhd2FpdFN0YXJ0U2lnbmFsID0gKG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuYXdhaXRTdGFydFNpZ25hbCkgfHwgZmFsc2U7XG4gICAgY29uc3Qge1xuICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXQsXG4gICAgICBvcHRpb25zLFxuICAgICAgZmlsZU91dHB1dHMsXG4gICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICBpbWFnZU91dHB1dHNcbiAgICB9ID0gdGhpcy5nZXRPdXRwdXRQYXJhbXMob3V0cHV0LCBvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmVuY29kaW5nT3B0aW9ucyk7XG4gICAgY29uc3QgcmVxID0gbmV3IFdlYkVncmVzc1JlcXVlc3Qoe1xuICAgICAgdXJsLFxuICAgICAgYXVkaW9Pbmx5LFxuICAgICAgdmlkZW9Pbmx5LFxuICAgICAgYXdhaXRTdGFydFNpZ25hbCxcbiAgICAgIG91dHB1dDogbGVnYWN5T3V0cHV0LFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGZpbGVPdXRwdXRzLFxuICAgICAgc3RyZWFtT3V0cHV0cyxcbiAgICAgIHNlZ21lbnRPdXRwdXRzLFxuICAgICAgaW1hZ2VPdXRwdXRzXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlN0YXJ0V2ViRWdyZXNzXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydCBhIHBhcnRpY2lwYW50J3MgYXVkaW8gYW5kIHZpZGVvIHRyYWNrcyxcbiAgICpcbiAgICogQHBhcmFtIHJvb21OYW1lIC0gcm9vbSBuYW1lXG4gICAqIEBwYXJhbSBvdXRwdXQgLSBvbmUgb3IgbW9yZSBvdXRwdXRzXG4gICAqIEBwYXJhbSBvcHRzIC0gUGFydGljaXBhbnRFZ3Jlc3NPcHRpb25zXG4gICAqL1xuICBhc3luYyBzdGFydFBhcnRpY2lwYW50RWdyZXNzKHJvb21OYW1lLCBpZGVudGl0eSwgb3V0cHV0LCBvcHRzKSB7XG4gICAgY29uc3QgeyBvcHRpb25zLCBmaWxlT3V0cHV0cywgc3RyZWFtT3V0cHV0cywgc2VnbWVudE91dHB1dHMsIGltYWdlT3V0cHV0cyB9ID0gdGhpcy5nZXRPdXRwdXRQYXJhbXMob3V0cHV0LCBvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmVuY29kaW5nT3B0aW9ucyk7XG4gICAgY29uc3QgcmVxID0gbmV3IFBhcnRpY2lwYW50RWdyZXNzUmVxdWVzdCh7XG4gICAgICByb29tTmFtZSxcbiAgICAgIGlkZW50aXR5LFxuICAgICAgc2NyZWVuU2hhcmU6IChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLnNjcmVlblNoYXJlKSA/PyBmYWxzZSxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTdGFydFBhcnRpY2lwYW50RWdyZXNzXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgYXN5bmMgc3RhcnRUcmFja0NvbXBvc2l0ZUVncmVzcyhyb29tTmFtZSwgb3V0cHV0LCBvcHRzT3JBdWRpb1RyYWNrSWQsIHZpZGVvVHJhY2tJZCwgb3B0aW9ucykge1xuICAgIGxldCBhdWRpb1RyYWNrSWQ7XG4gICAgaWYgKG9wdHNPckF1ZGlvVHJhY2tJZCAhPT0gdm9pZCAwKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdHNPckF1ZGlvVHJhY2tJZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBhdWRpb1RyYWNrSWQgPSBvcHRzT3JBdWRpb1RyYWNrSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcHRzID0gb3B0c09yQXVkaW9UcmFja0lkO1xuICAgICAgICBhdWRpb1RyYWNrSWQgPSBvcHRzLmF1ZGlvVHJhY2tJZDtcbiAgICAgICAgdmlkZW9UcmFja0lkID0gb3B0cy52aWRlb1RyYWNrSWQ7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRzLmVuY29kaW5nT3B0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gICAgYXVkaW9UcmFja0lkID8/PSBcIlwiO1xuICAgIHZpZGVvVHJhY2tJZCA/Pz0gXCJcIjtcbiAgICBjb25zdCB7XG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgIG9wdGlvbnM6IGVncmVzc09wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH0gPSB0aGlzLmdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlcSA9IG5ldyBUcmFja0NvbXBvc2l0ZUVncmVzc1JlcXVlc3Qoe1xuICAgICAgcm9vbU5hbWUsXG4gICAgICBhdWRpb1RyYWNrSWQsXG4gICAgICB2aWRlb1RyYWNrSWQsXG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgIG9wdGlvbnM6IGVncmVzc09wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTdGFydFRyYWNrQ29tcG9zaXRlRWdyZXNzXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgaXNFbmNvZGVkT3V0cHV0cyhvdXRwdXQpIHtcbiAgICByZXR1cm4gb3V0cHV0LmZpbGUgIT09IHZvaWQgMCB8fCBvdXRwdXQuc3RyZWFtICE9PSB2b2lkIDAgfHwgb3V0cHV0LnNlZ21lbnRzICE9PSB2b2lkIDAgfHwgb3V0cHV0LmltYWdlcyAhPT0gdm9pZCAwO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGlzRW5jb2RlZEZpbGVPdXRwdXQob3V0cHV0KSB7XG4gICAgcmV0dXJuIG91dHB1dC5maWxlcGF0aCAhPT0gdm9pZCAwIHx8IG91dHB1dC5maWxlVHlwZSAhPT0gdm9pZCAwO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGlzU2VnbWVudGVkRmlsZU91dHB1dChvdXRwdXQpIHtcbiAgICByZXR1cm4gb3V0cHV0LmZpbGVuYW1lUHJlZml4ICE9PSB2b2lkIDAgfHwgb3V0cHV0LnBsYXlsaXN0TmFtZSAhPT0gdm9pZCAwIHx8IG91dHB1dC5maWxlbmFtZVN1ZmZpeCAhPT0gdm9pZCAwO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGlzU3RyZWFtT3V0cHV0KG91dHB1dCkge1xuICAgIHJldHVybiBvdXRwdXQucHJvdG9jb2wgIT09IHZvaWQgMCB8fCBvdXRwdXQudXJscyAhPT0gdm9pZCAwO1xuICB9XG4gIGdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdHMpIHtcbiAgICBsZXQgZmlsZTtcbiAgICBsZXQgZmlsZU91dHB1dHM7XG4gICAgbGV0IHN0cmVhbTtcbiAgICBsZXQgc3RyZWFtT3V0cHV0cztcbiAgICBsZXQgc2VnbWVudHM7XG4gICAgbGV0IHNlZ21lbnRPdXRwdXRzO1xuICAgIGxldCBpbWFnZU91dHB1dHM7XG4gICAgaWYgKHRoaXMuaXNFbmNvZGVkT3V0cHV0cyhvdXRwdXQpKSB7XG4gICAgICBpZiAob3V0cHV0LmZpbGUgIT09IHZvaWQgMCkge1xuICAgICAgICBmaWxlT3V0cHV0cyA9IFtvdXRwdXQuZmlsZV07XG4gICAgICB9XG4gICAgICBpZiAob3V0cHV0LnN0cmVhbSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHN0cmVhbU91dHB1dHMgPSBbb3V0cHV0LnN0cmVhbV07XG4gICAgICB9XG4gICAgICBpZiAob3V0cHV0LnNlZ21lbnRzICE9PSB2b2lkIDApIHtcbiAgICAgICAgc2VnbWVudE91dHB1dHMgPSBbb3V0cHV0LnNlZ21lbnRzXTtcbiAgICAgIH1cbiAgICAgIGlmIChvdXRwdXQuaW1hZ2VzICE9PSB2b2lkIDApIHtcbiAgICAgICAgaW1hZ2VPdXRwdXRzID0gW291dHB1dC5pbWFnZXNdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5pc0VuY29kZWRGaWxlT3V0cHV0KG91dHB1dCkpIHtcbiAgICAgIGZpbGUgPSBvdXRwdXQ7XG4gICAgICBmaWxlT3V0cHV0cyA9IFtmaWxlXTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNTZWdtZW50ZWRGaWxlT3V0cHV0KG91dHB1dCkpIHtcbiAgICAgIHNlZ21lbnRzID0gb3V0cHV0O1xuICAgICAgc2VnbWVudE91dHB1dHMgPSBbc2VnbWVudHNdO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0cmVhbU91dHB1dChvdXRwdXQpKSB7XG4gICAgICBzdHJlYW0gPSBvdXRwdXQ7XG4gICAgICBzdHJlYW1PdXRwdXRzID0gW3N0cmVhbV07XG4gICAgfVxuICAgIGxldCBsZWdhY3lPdXRwdXQ7XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgY2FzZTogXCJmaWxlXCIsXG4gICAgICAgIHZhbHVlOiBmaWxlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3RyZWFtKSB7XG4gICAgICBsZWdhY3lPdXRwdXQgPSB7XG4gICAgICAgIGNhc2U6IFwic3RyZWFtXCIsXG4gICAgICAgIHZhbHVlOiBzdHJlYW1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChzZWdtZW50cykge1xuICAgICAgbGVnYWN5T3V0cHV0ID0ge1xuICAgICAgICBjYXNlOiBcInNlZ21lbnRzXCIsXG4gICAgICAgIHZhbHVlOiBzZWdtZW50c1xuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGVncmVzc09wdGlvbnM7XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBlZ3Jlc3NPcHRpb25zID0ge1xuICAgICAgICAgIGNhc2U6IFwicHJlc2V0XCIsXG4gICAgICAgICAgdmFsdWU6IG9wdHNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVncmVzc09wdGlvbnMgPSB7XG4gICAgICAgICAgY2FzZTogXCJhZHZhbmNlZFwiLFxuICAgICAgICAgIHZhbHVlOiBvcHRzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgIG9wdGlvbnM6IGVncmVzc09wdGlvbnMsXG4gICAgICBmaWxlT3V0cHV0cyxcbiAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgIGltYWdlT3V0cHV0c1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIHJvb20gbmFtZVxuICAgKiBAcGFyYW0gb3V0cHV0IC0gZmlsZSBvciB3ZWJzb2NrZXQgb3V0cHV0XG4gICAqIEBwYXJhbSB0cmFja0lkIC0gdHJhY2sgSWRcbiAgICovXG4gIGFzeW5jIHN0YXJ0VHJhY2tFZ3Jlc3Mocm9vbU5hbWUsIG91dHB1dCwgdHJhY2tJZCkge1xuICAgIGxldCBsZWdhY3lPdXRwdXQ7XG4gICAgaWYgKHR5cGVvZiBvdXRwdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgY2FzZTogXCJ3ZWJzb2NrZXRVcmxcIixcbiAgICAgICAgdmFsdWU6IG91dHB1dFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVnYWN5T3V0cHV0ID0ge1xuICAgICAgICBjYXNlOiBcImZpbGVcIixcbiAgICAgICAgdmFsdWU6IG91dHB1dFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gbmV3IFRyYWNrRWdyZXNzUmVxdWVzdCh7XG4gICAgICByb29tTmFtZSxcbiAgICAgIHRyYWNrSWQsXG4gICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dFxuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTdGFydFRyYWNrRWdyZXNzXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBlZ3Jlc3NJZCAtXG4gICAqIEBwYXJhbSBsYXlvdXQgLVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlTGF5b3V0KGVncmVzc0lkLCBsYXlvdXQpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiVXBkYXRlTGF5b3V0XCIsXG4gICAgICBuZXcgVXBkYXRlTGF5b3V0UmVxdWVzdCh7IGVncmVzc0lkLCBsYXlvdXQgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBlZ3Jlc3NJZCAtXG4gICAqIEBwYXJhbSBhZGRPdXRwdXRVcmxzIC1cbiAgICogQHBhcmFtIHJlbW92ZU91dHB1dFVybHMgLVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlU3RyZWFtKGVncmVzc0lkLCBhZGRPdXRwdXRVcmxzLCByZW1vdmVPdXRwdXRVcmxzKSB7XG4gICAgYWRkT3V0cHV0VXJscyA/Pz0gW107XG4gICAgcmVtb3ZlT3V0cHV0VXJscyA/Pz0gW107XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlVwZGF0ZVN0cmVhbVwiLFxuICAgICAgbmV3IFVwZGF0ZVN0cmVhbVJlcXVlc3QoeyBlZ3Jlc3NJZCwgYWRkT3V0cHV0VXJscywgcmVtb3ZlT3V0cHV0VXJscyB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21SZWNvcmQ6IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBFZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHJvb21OYW1lIC0gbGlzdCBlZ3Jlc3MgZm9yIG9uZSByb29tIG9ubHlcbiAgICovXG4gIGFzeW5jIGxpc3RFZ3Jlc3Mob3B0aW9ucykge1xuICAgIGxldCByZXEgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJlcS5yb29tTmFtZSA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zICE9PSB2b2lkIDApIHtcbiAgICAgIHJlcSA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJMaXN0RWdyZXNzXCIsXG4gICAgICBuZXcgTGlzdEVncmVzc1JlcXVlc3QocmVxKS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21SZWNvcmQ6IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBMaXN0RWdyZXNzUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zID8/IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gZWdyZXNzSWQgLVxuICAgKi9cbiAgYXN5bmMgc3RvcEVncmVzcyhlZ3Jlc3NJZCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJTdG9wRWdyZXNzXCIsXG4gICAgICBuZXcgU3RvcEVncmVzc1JlcXVlc3QoeyBlZ3Jlc3NJZCB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21SZWNvcmQ6IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBFZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgRWdyZXNzQ2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RWdyZXNzQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJFZ3Jlc3NJbmZvIiwiTGlzdEVncmVzc1JlcXVlc3QiLCJMaXN0RWdyZXNzUmVzcG9uc2UiLCJQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QiLCJSb29tQ29tcG9zaXRlRWdyZXNzUmVxdWVzdCIsIlN0b3BFZ3Jlc3NSZXF1ZXN0IiwiVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0IiwiVHJhY2tFZ3Jlc3NSZXF1ZXN0IiwiVXBkYXRlTGF5b3V0UmVxdWVzdCIsIlVwZGF0ZVN0cmVhbVJlcXVlc3QiLCJXZWJFZ3Jlc3NSZXF1ZXN0IiwiU2VydmljZUJhc2UiLCJUd2lycFJwYyIsImxpdmVraXRQYWNrYWdlIiwic3ZjIiwiRWdyZXNzQ2xpZW50IiwiY29uc3RydWN0b3IiLCJob3N0IiwiYXBpS2V5Iiwic2VjcmV0IiwicnBjIiwic3RhcnRSb29tQ29tcG9zaXRlRWdyZXNzIiwicm9vbU5hbWUiLCJvdXRwdXQiLCJvcHRzT3JMYXlvdXQiLCJvcHRpb25zIiwiYXVkaW9Pbmx5IiwidmlkZW9Pbmx5IiwiY3VzdG9tQmFzZVVybCIsImxheW91dCIsIm9wdHMiLCJlbmNvZGluZ09wdGlvbnMiLCJsZWdhY3lPdXRwdXQiLCJlZ3Jlc3NPcHRpb25zIiwiZmlsZU91dHB1dHMiLCJzdHJlYW1PdXRwdXRzIiwic2VnbWVudE91dHB1dHMiLCJpbWFnZU91dHB1dHMiLCJnZXRPdXRwdXRQYXJhbXMiLCJyZXEiLCJ0b0pzb24iLCJkYXRhIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJyb29tUmVjb3JkIiwiZnJvbUpzb24iLCJpZ25vcmVVbmtub3duRmllbGRzIiwic3RhcnRXZWJFZ3Jlc3MiLCJ1cmwiLCJhd2FpdFN0YXJ0U2lnbmFsIiwic3RhcnRQYXJ0aWNpcGFudEVncmVzcyIsImlkZW50aXR5Iiwic2NyZWVuU2hhcmUiLCJzdGFydFRyYWNrQ29tcG9zaXRlRWdyZXNzIiwib3B0c09yQXVkaW9UcmFja0lkIiwidmlkZW9UcmFja0lkIiwiYXVkaW9UcmFja0lkIiwiaXNFbmNvZGVkT3V0cHV0cyIsImZpbGUiLCJzdHJlYW0iLCJzZWdtZW50cyIsImltYWdlcyIsImlzRW5jb2RlZEZpbGVPdXRwdXQiLCJmaWxlcGF0aCIsImZpbGVUeXBlIiwiaXNTZWdtZW50ZWRGaWxlT3V0cHV0IiwiZmlsZW5hbWVQcmVmaXgiLCJwbGF5bGlzdE5hbWUiLCJmaWxlbmFtZVN1ZmZpeCIsImlzU3RyZWFtT3V0cHV0IiwicHJvdG9jb2wiLCJ1cmxzIiwiY2FzZSIsInZhbHVlIiwic3RhcnRUcmFja0VncmVzcyIsInRyYWNrSWQiLCJ1cGRhdGVMYXlvdXQiLCJlZ3Jlc3NJZCIsInVwZGF0ZVN0cmVhbSIsImFkZE91dHB1dFVybHMiLCJyZW1vdmVPdXRwdXRVcmxzIiwibGlzdEVncmVzcyIsIml0ZW1zIiwic3RvcEVncmVzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/EgressClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/IngressClient.js":
/*!***************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/IngressClient.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IngressClient: () => (/* binding */ IngressClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = \"Ingress\";\nclass IngressClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * @param inputType - protocol for the ingress\n   * @param opts - CreateIngressOptions\n   */ async createIngress(inputType, opts) {\n        let name = \"\";\n        let participantName = \"\";\n        let participantIdentity = \"\";\n        let bypassTranscoding = false;\n        let url = \"\";\n        if (opts == null) {\n            throw new Error(\"options dictionary is required\");\n        }\n        const roomName = opts.roomName;\n        const enableTranscoding = opts.enableTranscoding;\n        const audio = opts.audio;\n        const video = opts.video;\n        const participantMetadata = opts.participantMetadata;\n        name = opts.name || \"\";\n        participantName = opts.participantName || \"\";\n        participantIdentity = opts.participantIdentity || \"\";\n        bypassTranscoding = opts.bypassTranscoding || false;\n        url = opts.url || \"\";\n        if (typeof roomName == \"undefined\") {\n            throw new Error(\"required roomName option not provided\");\n        }\n        if (participantIdentity == \"\") {\n            throw new Error(\"required participantIdentity option not provided\");\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateIngressRequest({\n            inputType,\n            name,\n            roomName,\n            participantIdentity,\n            participantMetadata,\n            participantName,\n            bypassTranscoding,\n            enableTranscoding,\n            url,\n            audio,\n            video\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateIngress\", req, await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param ingressId - ID of the ingress to update\n   * @param opts - UpdateIngressOptions\n   */ async updateIngress(ingressId, opts) {\n        const name = opts.name || \"\";\n        const roomName = opts.roomName || \"\";\n        const participantName = opts.participantName || \"\";\n        const participantIdentity = opts.participantIdentity || \"\";\n        const { participantMetadata } = opts;\n        const { audio, video, bypassTranscoding, enableTranscoding } = opts;\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateIngressRequest({\n            ingressId,\n            name,\n            roomName,\n            participantIdentity,\n            participantName,\n            participantMetadata,\n            bypassTranscoding,\n            enableTranscoding,\n            audio,\n            video\n        }).toJson();\n        const data = await this.rpc.request(svc, \"UpdateIngress\", req, await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param arg - list room name or options\n   */ async listIngress(arg) {\n        let req = {};\n        if (typeof arg === \"string\") {\n            req.roomName = arg;\n        } else if (arg) {\n            req = arg;\n        }\n        const data = await this.rpc.request(svc, \"ListIngress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListIngressRequest(req).toJson(), await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListIngressResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param ingressId - ingress to delete\n   */ async deleteIngress(ingressId) {\n        const data = await this.rpc.request(svc, \"DeleteIngress\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteIngressRequest({\n            ingressId\n        }).toJson(), await this.authHeader({\n            ingressAdmin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n}\n //# sourceMappingURL=IngressClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvSW5ncmVzc0NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTzJCO0FBQ29CO0FBQ1U7QUFDekQsTUFBTVMsTUFBTTtBQUNaLE1BQU1DLHNCQUFzQkosd0RBQVdBO0lBQ3JDOzs7O0dBSUMsR0FDREssWUFBWUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sQ0FBRTtRQUNoQyxLQUFLLENBQUNELFFBQVFDO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUcsSUFBSVIsa0RBQVFBLENBQUNLLE1BQU1KLHdEQUFjQTtJQUM5QztJQUNBOzs7R0FHQyxHQUNELE1BQU1RLGNBQWNDLFNBQVMsRUFBRUMsSUFBSSxFQUFFO1FBQ25DLElBQUlDLE9BQU87UUFDWCxJQUFJQyxrQkFBa0I7UUFDdEIsSUFBSUMsc0JBQXNCO1FBQzFCLElBQUlDLG9CQUFvQjtRQUN4QixJQUFJQyxNQUFNO1FBQ1YsSUFBSUwsUUFBUSxNQUFNO1lBQ2hCLE1BQU0sSUFBSU0sTUFBTTtRQUNsQjtRQUNBLE1BQU1DLFdBQVdQLEtBQUtPLFFBQVE7UUFDOUIsTUFBTUMsb0JBQW9CUixLQUFLUSxpQkFBaUI7UUFDaEQsTUFBTUMsUUFBUVQsS0FBS1MsS0FBSztRQUN4QixNQUFNQyxRQUFRVixLQUFLVSxLQUFLO1FBQ3hCLE1BQU1DLHNCQUFzQlgsS0FBS1csbUJBQW1CO1FBQ3BEVixPQUFPRCxLQUFLQyxJQUFJLElBQUk7UUFDcEJDLGtCQUFrQkYsS0FBS0UsZUFBZSxJQUFJO1FBQzFDQyxzQkFBc0JILEtBQUtHLG1CQUFtQixJQUFJO1FBQ2xEQyxvQkFBb0JKLEtBQUtJLGlCQUFpQixJQUFJO1FBQzlDQyxNQUFNTCxLQUFLSyxHQUFHLElBQUk7UUFDbEIsSUFBSSxPQUFPRSxZQUFZLGFBQWE7WUFDbEMsTUFBTSxJQUFJRCxNQUFNO1FBQ2xCO1FBQ0EsSUFBSUgsdUJBQXVCLElBQUk7WUFDN0IsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBQ0EsTUFBTU0sTUFBTSxJQUFJOUIsbUVBQW9CQSxDQUFDO1lBQ25DaUI7WUFDQUU7WUFDQU07WUFDQUo7WUFDQVE7WUFDQVQ7WUFDQUU7WUFDQUk7WUFDQUg7WUFDQUk7WUFDQUM7UUFDRixHQUFHRyxNQUFNO1FBQ1QsTUFBTUMsT0FBTyxNQUFNLElBQUksQ0FBQ2pCLEdBQUcsQ0FBQ2tCLE9BQU8sQ0FDakN4QixLQUNBLGlCQUNBcUIsS0FDQSxNQUFNLElBQUksQ0FBQ0ksVUFBVSxDQUFDO1lBQUVDLGNBQWM7UUFBSztRQUU3QyxPQUFPakMsMERBQVdBLENBQUNrQyxRQUFRLENBQUNKLE1BQU07WUFBRUsscUJBQXFCO1FBQUs7SUFDaEU7SUFDQTs7O0dBR0MsR0FDRCxNQUFNQyxjQUFjQyxTQUFTLEVBQUVyQixJQUFJLEVBQUU7UUFDbkMsTUFBTUMsT0FBT0QsS0FBS0MsSUFBSSxJQUFJO1FBQzFCLE1BQU1NLFdBQVdQLEtBQUtPLFFBQVEsSUFBSTtRQUNsQyxNQUFNTCxrQkFBa0JGLEtBQUtFLGVBQWUsSUFBSTtRQUNoRCxNQUFNQyxzQkFBc0JILEtBQUtHLG1CQUFtQixJQUFJO1FBQ3hELE1BQU0sRUFBRVEsbUJBQW1CLEVBQUUsR0FBR1g7UUFDaEMsTUFBTSxFQUFFUyxLQUFLLEVBQUVDLEtBQUssRUFBRU4saUJBQWlCLEVBQUVJLGlCQUFpQixFQUFFLEdBQUdSO1FBQy9ELE1BQU1ZLE1BQU0sSUFBSXpCLG1FQUFvQkEsQ0FBQztZQUNuQ2tDO1lBQ0FwQjtZQUNBTTtZQUNBSjtZQUNBRDtZQUNBUztZQUNBUDtZQUNBSTtZQUNBQztZQUNBQztRQUNGLEdBQUdHLE1BQU07UUFDVCxNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDakIsR0FBRyxDQUFDa0IsT0FBTyxDQUNqQ3hCLEtBQ0EsaUJBQ0FxQixLQUNBLE1BQU0sSUFBSSxDQUFDSSxVQUFVLENBQUM7WUFBRUMsY0FBYztRQUFLO1FBRTdDLE9BQU9qQywwREFBV0EsQ0FBQ2tDLFFBQVEsQ0FBQ0osTUFBTTtZQUFFSyxxQkFBcUI7UUFBSztJQUNoRTtJQUNBOztHQUVDLEdBQ0QsTUFBTUcsWUFBWUMsR0FBRyxFQUFFO1FBQ3JCLElBQUlYLE1BQU0sQ0FBQztRQUNYLElBQUksT0FBT1csUUFBUSxVQUFVO1lBQzNCWCxJQUFJTCxRQUFRLEdBQUdnQjtRQUNqQixPQUFPLElBQUlBLEtBQUs7WUFDZFgsTUFBTVc7UUFDUjtRQUNBLE1BQU1ULE9BQU8sTUFBTSxJQUFJLENBQUNqQixHQUFHLENBQUNrQixPQUFPLENBQ2pDeEIsS0FDQSxlQUNBLElBQUlOLGlFQUFrQkEsQ0FBQzJCLEtBQUtDLE1BQU0sSUFDbEMsTUFBTSxJQUFJLENBQUNHLFVBQVUsQ0FBQztZQUFFQyxjQUFjO1FBQUs7UUFFN0MsT0FBTy9CLGtFQUFtQkEsQ0FBQ2dDLFFBQVEsQ0FBQ0osTUFBTTtZQUFFSyxxQkFBcUI7UUFBSyxHQUFHSyxLQUFLLElBQUksRUFBRTtJQUN0RjtJQUNBOztHQUVDLEdBQ0QsTUFBTUMsY0FBY0osU0FBUyxFQUFFO1FBQzdCLE1BQU1QLE9BQU8sTUFBTSxJQUFJLENBQUNqQixHQUFHLENBQUNrQixPQUFPLENBQ2pDeEIsS0FDQSxpQkFDQSxJQUFJUixtRUFBb0JBLENBQUM7WUFBRXNDO1FBQVUsR0FBR1IsTUFBTSxJQUM5QyxNQUFNLElBQUksQ0FBQ0csVUFBVSxDQUFDO1lBQUVDLGNBQWM7UUFBSztRQUU3QyxPQUFPakMsMERBQVdBLENBQUNrQyxRQUFRLENBQUNKLE1BQU07WUFBRUsscUJBQXFCO1FBQUs7SUFDaEU7QUFDRjtBQUdFLENBQ0YseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L0luZ3Jlc3NDbGllbnQuanM/ODBiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDcmVhdGVJbmdyZXNzUmVxdWVzdCxcbiAgRGVsZXRlSW5ncmVzc1JlcXVlc3QsXG4gIEluZ3Jlc3NJbmZvLFxuICBMaXN0SW5ncmVzc1JlcXVlc3QsXG4gIExpc3RJbmdyZXNzUmVzcG9uc2UsXG4gIFVwZGF0ZUluZ3Jlc3NSZXF1ZXN0XG59IGZyb20gXCJAbGl2ZWtpdC9wcm90b2NvbFwiO1xuaW1wb3J0IHsgU2VydmljZUJhc2UgfSBmcm9tIFwiLi9TZXJ2aWNlQmFzZS5qc1wiO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSBcIi4vVHdpcnBSUEMuanNcIjtcbmNvbnN0IHN2YyA9IFwiSW5ncmVzc1wiO1xuY2xhc3MgSW5ncmVzc0NsaWVudCBleHRlbmRzIFNlcnZpY2VCYXNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBob3N0IC0gaG9zdG5hbWUgaW5jbHVkaW5nIHByb3RvY29sLiBpLmUuICdodHRwczovLzxwcm9qZWN0Pi5saXZla2l0LmNsb3VkJ1xuICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleSwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX0tFWVxuICAgKiBAcGFyYW0gc2VjcmV0IC0gQVBJIFNlY3JldCwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX1NFQ1JFVFxuICAgKi9cbiAgY29uc3RydWN0b3IoaG9zdCwgYXBpS2V5LCBzZWNyZXQpIHtcbiAgICBzdXBlcihhcGlLZXksIHNlY3JldCk7XG4gICAgdGhpcy5ycGMgPSBuZXcgVHdpcnBScGMoaG9zdCwgbGl2ZWtpdFBhY2thZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gaW5wdXRUeXBlIC0gcHJvdG9jb2wgZm9yIHRoZSBpbmdyZXNzXG4gICAqIEBwYXJhbSBvcHRzIC0gQ3JlYXRlSW5ncmVzc09wdGlvbnNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUluZ3Jlc3MoaW5wdXRUeXBlLCBvcHRzKSB7XG4gICAgbGV0IG5hbWUgPSBcIlwiO1xuICAgIGxldCBwYXJ0aWNpcGFudE5hbWUgPSBcIlwiO1xuICAgIGxldCBwYXJ0aWNpcGFudElkZW50aXR5ID0gXCJcIjtcbiAgICBsZXQgYnlwYXNzVHJhbnNjb2RpbmcgPSBmYWxzZTtcbiAgICBsZXQgdXJsID0gXCJcIjtcbiAgICBpZiAob3B0cyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIGRpY3Rpb25hcnkgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHJvb21OYW1lID0gb3B0cy5yb29tTmFtZTtcbiAgICBjb25zdCBlbmFibGVUcmFuc2NvZGluZyA9IG9wdHMuZW5hYmxlVHJhbnNjb2Rpbmc7XG4gICAgY29uc3QgYXVkaW8gPSBvcHRzLmF1ZGlvO1xuICAgIGNvbnN0IHZpZGVvID0gb3B0cy52aWRlbztcbiAgICBjb25zdCBwYXJ0aWNpcGFudE1ldGFkYXRhID0gb3B0cy5wYXJ0aWNpcGFudE1ldGFkYXRhO1xuICAgIG5hbWUgPSBvcHRzLm5hbWUgfHwgXCJcIjtcbiAgICBwYXJ0aWNpcGFudE5hbWUgPSBvcHRzLnBhcnRpY2lwYW50TmFtZSB8fCBcIlwiO1xuICAgIHBhcnRpY2lwYW50SWRlbnRpdHkgPSBvcHRzLnBhcnRpY2lwYW50SWRlbnRpdHkgfHwgXCJcIjtcbiAgICBieXBhc3NUcmFuc2NvZGluZyA9IG9wdHMuYnlwYXNzVHJhbnNjb2RpbmcgfHwgZmFsc2U7XG4gICAgdXJsID0gb3B0cy51cmwgfHwgXCJcIjtcbiAgICBpZiAodHlwZW9mIHJvb21OYW1lID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJlcXVpcmVkIHJvb21OYW1lIG9wdGlvbiBub3QgcHJvdmlkZWRcIik7XG4gICAgfVxuICAgIGlmIChwYXJ0aWNpcGFudElkZW50aXR5ID09IFwiXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJlcXVpcmVkIHBhcnRpY2lwYW50SWRlbnRpdHkgb3B0aW9uIG5vdCBwcm92aWRlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gbmV3IENyZWF0ZUluZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgIGlucHV0VHlwZSxcbiAgICAgIG5hbWUsXG4gICAgICByb29tTmFtZSxcbiAgICAgIHBhcnRpY2lwYW50SWRlbnRpdHksXG4gICAgICBwYXJ0aWNpcGFudE1ldGFkYXRhLFxuICAgICAgcGFydGljaXBhbnROYW1lLFxuICAgICAgYnlwYXNzVHJhbnNjb2RpbmcsXG4gICAgICBlbmFibGVUcmFuc2NvZGluZyxcbiAgICAgIHVybCxcbiAgICAgIGF1ZGlvLFxuICAgICAgdmlkZW9cbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiQ3JlYXRlSW5ncmVzc1wiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgaW5ncmVzc0FkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gSW5ncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gaW5ncmVzc0lkIC0gSUQgb2YgdGhlIGluZ3Jlc3MgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSBvcHRzIC0gVXBkYXRlSW5ncmVzc09wdGlvbnNcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUluZ3Jlc3MoaW5ncmVzc0lkLCBvcHRzKSB7XG4gICAgY29uc3QgbmFtZSA9IG9wdHMubmFtZSB8fCBcIlwiO1xuICAgIGNvbnN0IHJvb21OYW1lID0gb3B0cy5yb29tTmFtZSB8fCBcIlwiO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50TmFtZSA9IG9wdHMucGFydGljaXBhbnROYW1lIHx8IFwiXCI7XG4gICAgY29uc3QgcGFydGljaXBhbnRJZGVudGl0eSA9IG9wdHMucGFydGljaXBhbnRJZGVudGl0eSB8fCBcIlwiO1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRNZXRhZGF0YSB9ID0gb3B0cztcbiAgICBjb25zdCB7IGF1ZGlvLCB2aWRlbywgYnlwYXNzVHJhbnNjb2RpbmcsIGVuYWJsZVRyYW5zY29kaW5nIH0gPSBvcHRzO1xuICAgIGNvbnN0IHJlcSA9IG5ldyBVcGRhdGVJbmdyZXNzUmVxdWVzdCh7XG4gICAgICBpbmdyZXNzSWQsXG4gICAgICBuYW1lLFxuICAgICAgcm9vbU5hbWUsXG4gICAgICBwYXJ0aWNpcGFudElkZW50aXR5LFxuICAgICAgcGFydGljaXBhbnROYW1lLFxuICAgICAgcGFydGljaXBhbnRNZXRhZGF0YSxcbiAgICAgIGJ5cGFzc1RyYW5zY29kaW5nLFxuICAgICAgZW5hYmxlVHJhbnNjb2RpbmcsXG4gICAgICBhdWRpbyxcbiAgICAgIHZpZGVvXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlVwZGF0ZUluZ3Jlc3NcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IGluZ3Jlc3NBZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIEluZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGFyZyAtIGxpc3Qgcm9vbSBuYW1lIG9yIG9wdGlvbnNcbiAgICovXG4gIGFzeW5jIGxpc3RJbmdyZXNzKGFyZykge1xuICAgIGxldCByZXEgPSB7fTtcbiAgICBpZiAodHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmVxLnJvb21OYW1lID0gYXJnO1xuICAgIH0gZWxzZSBpZiAoYXJnKSB7XG4gICAgICByZXEgPSBhcmc7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJMaXN0SW5ncmVzc1wiLFxuICAgICAgbmV3IExpc3RJbmdyZXNzUmVxdWVzdChyZXEpLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgaW5ncmVzc0FkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gTGlzdEluZ3Jlc3NSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMgPz8gW107XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBpbmdyZXNzSWQgLSBpbmdyZXNzIHRvIGRlbGV0ZVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlSW5ncmVzcyhpbmdyZXNzSWQpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiRGVsZXRlSW5ncmVzc1wiLFxuICAgICAgbmV3IERlbGV0ZUluZ3Jlc3NSZXF1ZXN0KHsgaW5ncmVzc0lkIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgaW5ncmVzc0FkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gSW5ncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG59XG5leHBvcnQge1xuICBJbmdyZXNzQ2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5ncmVzc0NsaWVudC5qcy5tYXAiXSwibmFtZXMiOlsiQ3JlYXRlSW5ncmVzc1JlcXVlc3QiLCJEZWxldGVJbmdyZXNzUmVxdWVzdCIsIkluZ3Jlc3NJbmZvIiwiTGlzdEluZ3Jlc3NSZXF1ZXN0IiwiTGlzdEluZ3Jlc3NSZXNwb25zZSIsIlVwZGF0ZUluZ3Jlc3NSZXF1ZXN0IiwiU2VydmljZUJhc2UiLCJUd2lycFJwYyIsImxpdmVraXRQYWNrYWdlIiwic3ZjIiwiSW5ncmVzc0NsaWVudCIsImNvbnN0cnVjdG9yIiwiaG9zdCIsImFwaUtleSIsInNlY3JldCIsInJwYyIsImNyZWF0ZUluZ3Jlc3MiLCJpbnB1dFR5cGUiLCJvcHRzIiwibmFtZSIsInBhcnRpY2lwYW50TmFtZSIsInBhcnRpY2lwYW50SWRlbnRpdHkiLCJieXBhc3NUcmFuc2NvZGluZyIsInVybCIsIkVycm9yIiwicm9vbU5hbWUiLCJlbmFibGVUcmFuc2NvZGluZyIsImF1ZGlvIiwidmlkZW8iLCJwYXJ0aWNpcGFudE1ldGFkYXRhIiwicmVxIiwidG9Kc29uIiwiZGF0YSIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiaW5ncmVzc0FkbWluIiwiZnJvbUpzb24iLCJpZ25vcmVVbmtub3duRmllbGRzIiwidXBkYXRlSW5ncmVzcyIsImluZ3Jlc3NJZCIsImxpc3RJbmdyZXNzIiwiYXJnIiwiaXRlbXMiLCJkZWxldGVJbmdyZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/IngressClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/RoomServiceClient.js":
/*!*******************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/RoomServiceClient.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoomServiceClient: () => (/* binding */ RoomServiceClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n/* harmony import */ var _crypto_uuid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./crypto/uuid.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/crypto/uuid.js\");\n\n\n\n\nconst svc = \"RoomService\";\nclass RoomServiceClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   *\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * Creates a new room. Explicit room creation is not required, since rooms will\n   * be automatically created when the first participant joins. This method can be\n   * used to customize room settings.\n   * @param options -\n   */ async createRoom(options) {\n        const data = await this.rpc.request(svc, \"CreateRoom\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateRoomRequest(options).toJson(), await this.authHeader({\n            roomCreate: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * List active rooms\n   * @param names - when undefined or empty, list all rooms.\n   *                otherwise returns rooms with matching names\n   * @returns\n   */ async listRooms(names) {\n        const data = await this.rpc.request(svc, \"ListRooms\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListRoomsRequest({\n            names: names ?? []\n        }).toJson(), await this.authHeader({\n            roomList: true\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListRoomsResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.rooms ?? [];\n    }\n    async deleteRoom(room) {\n        await this.rpc.request(svc, \"DeleteRoom\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteRoomRequest({\n            room\n        }).toJson(), await this.authHeader({\n            roomCreate: true\n        }));\n    }\n    /**\n   * Update metadata of a room\n   * @param room - name of the room\n   * @param metadata - the new metadata for the room\n   */ async updateRoomMetadata(room, metadata) {\n        const data = await this.rpc.request(svc, \"UpdateRoomMetadata\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateRoomMetadataRequest({\n            room,\n            metadata\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * List participants in a room\n   * @param room - name of the room\n   */ async listParticipants(room) {\n        const data = await this.rpc.request(svc, \"ListParticipants\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListParticipantsRequest({\n            room\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListParticipantsResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.participants ?? [];\n    }\n    /**\n   * Get information on a specific participant, including the tracks that participant\n   * has published\n   * @param room - name of the room\n   * @param identity - identity of the participant to return\n   */ async getParticipant(room, identity) {\n        const data = await this.rpc.request(svc, \"GetParticipant\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantIdentity({\n            room,\n            identity\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Removes a participant in the room. This will disconnect the participant\n   * and will emit a Disconnected event for that participant.\n   * Even after being removed, the participant can still re-join the room.\n   * @param room -\n   * @param identity -\n   */ async removeParticipant(room, identity) {\n        await this.rpc.request(svc, \"RemoveParticipant\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantIdentity({\n            room,\n            identity\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n    }\n    /**\n   * Forwards a participant's track to another room. This will create a\n   * participant to join the destination room that has same information\n   * with the source participant except the kind to be `Forwarded`. All\n   * changes to the source participant will be reflected to the forwarded\n   * participant. When the source participant disconnects or the\n   * `RemoveParticipant` method is called in the destination room, the\n   * forwarding will be stopped.\n   */ async forwardParticipant(room, identity, destinationRoom) {\n        await this.rpc.request(svc, \"ForwardParticipant\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ForwardParticipantRequest({\n            room,\n            identity,\n            destinationRoom\n        }).toJson(), await this.authHeader({\n            roomAdmin: true,\n            room,\n            destinationRoom\n        }));\n    }\n    /**\n   * Mutes a track that the participant has published.\n   * @param room -\n   * @param identity -\n   * @param trackSid - sid of the track to be muted\n   * @param muted - true to mute, false to unmute\n   */ async mutePublishedTrack(room, identity, trackSid, muted) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.MuteRoomTrackRequest({\n            room,\n            identity,\n            trackSid,\n            muted\n        }).toJson();\n        const data = await this.rpc.request(svc, \"MutePublishedTrack\", req, await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.MuteRoomTrackResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n        return res.track;\n    }\n    async updateParticipant(room, identity, metadataOrOptions, maybePermission, maybeName) {\n        const hasOptions = typeof metadataOrOptions === \"object\";\n        const metadata = hasOptions ? metadataOrOptions == null ? void 0 : metadataOrOptions.metadata : metadataOrOptions;\n        const permission = hasOptions ? metadataOrOptions.permission : maybePermission;\n        const name = hasOptions ? metadataOrOptions.name : maybeName;\n        const attributes = hasOptions ? metadataOrOptions.attributes : {};\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateParticipantRequest({\n            room,\n            identity,\n            attributes,\n            metadata,\n            name\n        });\n        if (permission) {\n            req.permission = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantPermission(permission);\n        }\n        const data = await this.rpc.request(svc, \"UpdateParticipant\", req.toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * Updates a participant's subscription to tracks\n   * @param room -\n   * @param identity -\n   * @param trackSids -\n   * @param subscribe - true to subscribe, false to unsubscribe\n   */ async updateSubscriptions(room, identity, trackSids, subscribe) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateSubscriptionsRequest({\n            room,\n            identity,\n            trackSids,\n            subscribe,\n            participantTracks: []\n        }).toJson();\n        await this.rpc.request(svc, \"UpdateSubscriptions\", req, await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n    }\n    async sendData(room, data, kind, options = {}) {\n        const destinationSids = Array.isArray(options) ? options : options.destinationSids;\n        const topic = Array.isArray(options) ? void 0 : options.topic;\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SendDataRequest({\n            room,\n            data,\n            kind,\n            destinationSids: destinationSids ?? [],\n            topic\n        });\n        if (!Array.isArray(options) && options.destinationIdentities) {\n            req.destinationIdentities = options.destinationIdentities;\n        }\n        req.nonce = await (0,_crypto_uuid_js__WEBPACK_IMPORTED_MODULE_3__.getRandomBytes)(16);\n        await this.rpc.request(svc, \"SendData\", req.toJson(), await this.authHeader({\n            roomAdmin: true,\n            room\n        }));\n    }\n}\n //# sourceMappingURL=RoomServiceClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvUm9vbVNlcnZpY2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFrQjJCO0FBQ29CO0FBQ1U7QUFDUDtBQUNsRCxNQUFNcUIsTUFBTTtBQUNaLE1BQU1DLDBCQUEwQkwsd0RBQVdBO0lBQ3pDOzs7OztHQUtDLEdBQ0RNLFlBQVlDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxNQUFNLENBQUU7UUFDaEMsS0FBSyxDQUFDRCxRQUFRQztRQUNkLElBQUksQ0FBQ0MsR0FBRyxHQUFHLElBQUlULGtEQUFRQSxDQUFDTSxNQUFNTCx3REFBY0E7SUFDOUM7SUFDQTs7Ozs7R0FLQyxHQUNELE1BQU1TLFdBQVdDLE9BQU8sRUFBRTtRQUN4QixNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDSCxHQUFHLENBQUNJLE9BQU8sQ0FDakNWLEtBQ0EsY0FDQSxJQUFJckIsZ0VBQWlCQSxDQUFDNkIsU0FBU0csTUFBTSxJQUNyQyxNQUFNLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1lBQUVDLFlBQVk7UUFBSztRQUUzQyxPQUFPdkIsbURBQUlBLENBQUN3QixRQUFRLENBQUNMLE1BQU07WUFBRU0scUJBQXFCO1FBQUs7SUFDekQ7SUFDQTs7Ozs7R0FLQyxHQUNELE1BQU1DLFVBQVVDLEtBQUssRUFBRTtRQUNyQixNQUFNUixPQUFPLE1BQU0sSUFBSSxDQUFDSCxHQUFHLENBQUNJLE9BQU8sQ0FDakNWLEtBQ0EsYUFDQSxJQUFJaEIsK0RBQWdCQSxDQUFDO1lBQUVpQyxPQUFPQSxTQUFTLEVBQUU7UUFBQyxHQUFHTixNQUFNLElBQ25ELE1BQU0sSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFBRU0sVUFBVTtRQUFLO1FBRXpDLE1BQU1DLE1BQU1sQyxnRUFBaUJBLENBQUM2QixRQUFRLENBQUNMLE1BQU07WUFBRU0scUJBQXFCO1FBQUs7UUFDekUsT0FBT0ksSUFBSUMsS0FBSyxJQUFJLEVBQUU7SUFDeEI7SUFD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a0I7WUFDQUM7WUFDQUMsbUJBQW1CLEVBQUU7UUFDdkIsR0FBR3RDLE1BQU07UUFDVCxNQUFNLElBQUksQ0FBQ0wsR0FBRyxDQUFDSSxPQUFPLENBQ3BCVixLQUNBLHVCQUNBb0MsS0FDQSxNQUFNLElBQUksQ0FBQ3hCLFVBQVUsQ0FBQztZQUFFYSxXQUFXO1lBQU1IO1FBQUs7SUFFbEQ7SUFDQSxNQUFNNEIsU0FBUzVCLElBQUksRUFBRWIsSUFBSSxFQUFFMEMsSUFBSSxFQUFFM0MsVUFBVSxDQUFDLENBQUMsRUFBRTtRQUM3QyxNQUFNNEMsa0JBQWtCQyxNQUFNQyxPQUFPLENBQUM5QyxXQUFXQSxVQUFVQSxRQUFRNEMsZUFBZTtRQUNsRixNQUFNRyxRQUFRRixNQUFNQyxPQUFPLENBQUM5QyxXQUFXLEtBQUssSUFBSUEsUUFBUStDLEtBQUs7UUFDN0QsTUFBTW5CLE1BQU0sSUFBSTVDLDhEQUFlQSxDQUFDO1lBQzlCOEI7WUFDQWI7WUFDQTBDO1lBQ0FDLGlCQUFpQkEsbUJBQW1CLEVBQUU7WUFDdENHO1FBQ0Y7UUFDQSxJQUFJLENBQUNGLE1BQU1DLE9BQU8sQ0FBQzlDLFlBQVlBLFFBQVFnRCxxQkFBcUIsRUFBRTtZQUM1RHBCLElBQUlvQixxQkFBcUIsR0FBR2hELFFBQVFnRCxxQkFBcUI7UUFDM0Q7UUFDQXBCLElBQUlxQixLQUFLLEdBQUcsTUFBTTFELCtEQUFjQSxDQUFDO1FBQ2pDLE1BQU0sSUFBSSxDQUFDTyxHQUFHLENBQUNJLE9BQU8sQ0FDcEJWLEtBQ0EsWUFDQW9DLElBQUl6QixNQUFNLElBQ1YsTUFBTSxJQUFJLENBQUNDLFVBQVUsQ0FBQztZQUFFYSxXQUFXO1lBQU1IO1FBQUs7SUFFbEQ7QUFDRjtBQUdFLENBQ0YsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L1Jvb21TZXJ2aWNlQ2xpZW50LmpzP2YwNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ3JlYXRlUm9vbVJlcXVlc3QsXG4gIERlbGV0ZVJvb21SZXF1ZXN0LFxuICBGb3J3YXJkUGFydGljaXBhbnRSZXF1ZXN0LFxuICBMaXN0UGFydGljaXBhbnRzUmVxdWVzdCxcbiAgTGlzdFBhcnRpY2lwYW50c1Jlc3BvbnNlLFxuICBMaXN0Um9vbXNSZXF1ZXN0LFxuICBMaXN0Um9vbXNSZXNwb25zZSxcbiAgTXV0ZVJvb21UcmFja1JlcXVlc3QsXG4gIE11dGVSb29tVHJhY2tSZXNwb25zZSxcbiAgUGFydGljaXBhbnRJbmZvLFxuICBQYXJ0aWNpcGFudFBlcm1pc3Npb24sXG4gIFJvb20sXG4gIFJvb21QYXJ0aWNpcGFudElkZW50aXR5LFxuICBTZW5kRGF0YVJlcXVlc3QsXG4gIFVwZGF0ZVBhcnRpY2lwYW50UmVxdWVzdCxcbiAgVXBkYXRlUm9vbU1ldGFkYXRhUmVxdWVzdCxcbiAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Rcbn0gZnJvbSBcIkBsaXZla2l0L3Byb3RvY29sXCI7XG5pbXBvcnQgeyBTZXJ2aWNlQmFzZSB9IGZyb20gXCIuL1NlcnZpY2VCYXNlLmpzXCI7XG5pbXBvcnQgeyBUd2lycFJwYywgbGl2ZWtpdFBhY2thZ2UgfSBmcm9tIFwiLi9Ud2lycFJQQy5qc1wiO1xuaW1wb3J0IHsgZ2V0UmFuZG9tQnl0ZXMgfSBmcm9tIFwiLi9jcnlwdG8vdXVpZC5qc1wiO1xuY29uc3Qgc3ZjID0gXCJSb29tU2VydmljZVwiO1xuY2xhc3MgUm9vbVNlcnZpY2VDbGllbnQgZXh0ZW5kcyBTZXJ2aWNlQmFzZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly88cHJvamVjdD4ubGl2ZWtpdC5jbG91ZCdcbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICogQHBhcmFtIHNlY3JldCAtIEFQSSBTZWNyZXQsIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgIHRoaXMucnBjID0gbmV3IFR3aXJwUnBjKGhvc3QsIGxpdmVraXRQYWNrYWdlKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyByb29tLiBFeHBsaWNpdCByb29tIGNyZWF0aW9uIGlzIG5vdCByZXF1aXJlZCwgc2luY2Ugcm9vbXMgd2lsbFxuICAgKiBiZSBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgd2hlbiB0aGUgZmlyc3QgcGFydGljaXBhbnQgam9pbnMuIFRoaXMgbWV0aG9kIGNhbiBiZVxuICAgKiB1c2VkIHRvIGN1c3RvbWl6ZSByb29tIHNldHRpbmdzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtXG4gICAqL1xuICBhc3luYyBjcmVhdGVSb29tKG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiQ3JlYXRlUm9vbVwiLFxuICAgICAgbmV3IENyZWF0ZVJvb21SZXF1ZXN0KG9wdGlvbnMpLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUNyZWF0ZTogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFJvb20uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0IGFjdGl2ZSByb29tc1xuICAgKiBAcGFyYW0gbmFtZXMgLSB3aGVuIHVuZGVmaW5lZCBvciBlbXB0eSwgbGlzdCBhbGwgcm9vbXMuXG4gICAqICAgICAgICAgICAgICAgIG90aGVyd2lzZSByZXR1cm5zIHJvb21zIHdpdGggbWF0Y2hpbmcgbmFtZXNcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIGxpc3RSb29tcyhuYW1lcykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJMaXN0Um9vbXNcIixcbiAgICAgIG5ldyBMaXN0Um9vbXNSZXF1ZXN0KHsgbmFtZXM6IG5hbWVzID8/IFtdIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUxpc3Q6IHRydWUgfSlcbiAgICApO1xuICAgIGNvbnN0IHJlcyA9IExpc3RSb29tc1Jlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICByZXR1cm4gcmVzLnJvb21zID8/IFtdO1xuICB9XG4gIGFzeW5jIGRlbGV0ZVJvb20ocm9vbSkge1xuICAgIGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkRlbGV0ZVJvb21cIixcbiAgICAgIG5ldyBEZWxldGVSb29tUmVxdWVzdCh7IHJvb20gfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQ3JlYXRlOiB0cnVlIH0pXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIG1ldGFkYXRhIG9mIGEgcm9vbVxuICAgKiBAcGFyYW0gcm9vbSAtIG5hbWUgb2YgdGhlIHJvb21cbiAgICogQHBhcmFtIG1ldGFkYXRhIC0gdGhlIG5ldyBtZXRhZGF0YSBmb3IgdGhlIHJvb21cbiAgICovXG4gIGFzeW5jIHVwZGF0ZVJvb21NZXRhZGF0YShyb29tLCBtZXRhZGF0YSkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJVcGRhdGVSb29tTWV0YWRhdGFcIixcbiAgICAgIG5ldyBVcGRhdGVSb29tTWV0YWRhdGFSZXF1ZXN0KHsgcm9vbSwgbWV0YWRhdGEgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICAgIHJldHVybiBSb29tLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogTGlzdCBwYXJ0aWNpcGFudHMgaW4gYSByb29tXG4gICAqIEBwYXJhbSByb29tIC0gbmFtZSBvZiB0aGUgcm9vbVxuICAgKi9cbiAgYXN5bmMgbGlzdFBhcnRpY2lwYW50cyhyb29tKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkxpc3RQYXJ0aWNpcGFudHNcIixcbiAgICAgIG5ldyBMaXN0UGFydGljaXBhbnRzUmVxdWVzdCh7IHJvb20gfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICAgIGNvbnN0IHJlcyA9IExpc3RQYXJ0aWNpcGFudHNSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgcmV0dXJuIHJlcy5wYXJ0aWNpcGFudHMgPz8gW107XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpbmZvcm1hdGlvbiBvbiBhIHNwZWNpZmljIHBhcnRpY2lwYW50LCBpbmNsdWRpbmcgdGhlIHRyYWNrcyB0aGF0IHBhcnRpY2lwYW50XG4gICAqIGhhcyBwdWJsaXNoZWRcbiAgICogQHBhcmFtIHJvb20gLSBuYW1lIG9mIHRoZSByb29tXG4gICAqIEBwYXJhbSBpZGVudGl0eSAtIGlkZW50aXR5IG9mIHRoZSBwYXJ0aWNpcGFudCB0byByZXR1cm5cbiAgICovXG4gIGFzeW5jIGdldFBhcnRpY2lwYW50KHJvb20sIGlkZW50aXR5KSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkdldFBhcnRpY2lwYW50XCIsXG4gICAgICBuZXcgUm9vbVBhcnRpY2lwYW50SWRlbnRpdHkoeyByb29tLCBpZGVudGl0eSB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFBhcnRpY2lwYW50SW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgcm9vbS4gVGhpcyB3aWxsIGRpc2Nvbm5lY3QgdGhlIHBhcnRpY2lwYW50XG4gICAqIGFuZCB3aWxsIGVtaXQgYSBEaXNjb25uZWN0ZWQgZXZlbnQgZm9yIHRoYXQgcGFydGljaXBhbnQuXG4gICAqIEV2ZW4gYWZ0ZXIgYmVpbmcgcmVtb3ZlZCwgdGhlIHBhcnRpY2lwYW50IGNhbiBzdGlsbCByZS1qb2luIHRoZSByb29tLlxuICAgKiBAcGFyYW0gcm9vbSAtXG4gICAqIEBwYXJhbSBpZGVudGl0eSAtXG4gICAqL1xuICBhc3luYyByZW1vdmVQYXJ0aWNpcGFudChyb29tLCBpZGVudGl0eSkge1xuICAgIGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlJlbW92ZVBhcnRpY2lwYW50XCIsXG4gICAgICBuZXcgUm9vbVBhcnRpY2lwYW50SWRlbnRpdHkoeyByb29tLCBpZGVudGl0eSB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbSB9KVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEZvcndhcmRzIGEgcGFydGljaXBhbnQncyB0cmFjayB0byBhbm90aGVyIHJvb20uIFRoaXMgd2lsbCBjcmVhdGUgYVxuICAgKiBwYXJ0aWNpcGFudCB0byBqb2luIHRoZSBkZXN0aW5hdGlvbiByb29tIHRoYXQgaGFzIHNhbWUgaW5mb3JtYXRpb25cbiAgICogd2l0aCB0aGUgc291cmNlIHBhcnRpY2lwYW50IGV4Y2VwdCB0aGUga2luZCB0byBiZSBgRm9yd2FyZGVkYC4gQWxsXG4gICAqIGNoYW5nZXMgdG8gdGhlIHNvdXJjZSBwYXJ0aWNpcGFudCB3aWxsIGJlIHJlZmxlY3RlZCB0byB0aGUgZm9yd2FyZGVkXG4gICAqIHBhcnRpY2lwYW50LiBXaGVuIHRoZSBzb3VyY2UgcGFydGljaXBhbnQgZGlzY29ubmVjdHMgb3IgdGhlXG4gICAqIGBSZW1vdmVQYXJ0aWNpcGFudGAgbWV0aG9kIGlzIGNhbGxlZCBpbiB0aGUgZGVzdGluYXRpb24gcm9vbSwgdGhlXG4gICAqIGZvcndhcmRpbmcgd2lsbCBiZSBzdG9wcGVkLlxuICAgKi9cbiAgYXN5bmMgZm9yd2FyZFBhcnRpY2lwYW50KHJvb20sIGlkZW50aXR5LCBkZXN0aW5hdGlvblJvb20pIHtcbiAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJGb3J3YXJkUGFydGljaXBhbnRcIixcbiAgICAgIG5ldyBGb3J3YXJkUGFydGljaXBhbnRSZXF1ZXN0KHsgcm9vbSwgaWRlbnRpdHksIGRlc3RpbmF0aW9uUm9vbSB9KS50b0pzb24oKSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbSwgZGVzdGluYXRpb25Sb29tIH0pXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogTXV0ZXMgYSB0cmFjayB0aGF0IHRoZSBwYXJ0aWNpcGFudCBoYXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0gcm9vbSAtXG4gICAqIEBwYXJhbSBpZGVudGl0eSAtXG4gICAqIEBwYXJhbSB0cmFja1NpZCAtIHNpZCBvZiB0aGUgdHJhY2sgdG8gYmUgbXV0ZWRcbiAgICogQHBhcmFtIG11dGVkIC0gdHJ1ZSB0byBtdXRlLCBmYWxzZSB0byB1bm11dGVcbiAgICovXG4gIGFzeW5jIG11dGVQdWJsaXNoZWRUcmFjayhyb29tLCBpZGVudGl0eSwgdHJhY2tTaWQsIG11dGVkKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IE11dGVSb29tVHJhY2tSZXF1ZXN0KHtcbiAgICAgIHJvb20sXG4gICAgICBpZGVudGl0eSxcbiAgICAgIHRyYWNrU2lkLFxuICAgICAgbXV0ZWRcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTXV0ZVB1Ymxpc2hlZFRyYWNrXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICAgIGNvbnN0IHJlcyA9IE11dGVSb29tVHJhY2tSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgcmV0dXJuIHJlcy50cmFjaztcbiAgfVxuICBhc3luYyB1cGRhdGVQYXJ0aWNpcGFudChyb29tLCBpZGVudGl0eSwgbWV0YWRhdGFPck9wdGlvbnMsIG1heWJlUGVybWlzc2lvbiwgbWF5YmVOYW1lKSB7XG4gICAgY29uc3QgaGFzT3B0aW9ucyA9IHR5cGVvZiBtZXRhZGF0YU9yT3B0aW9ucyA9PT0gXCJvYmplY3RcIjtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGhhc09wdGlvbnMgPyBtZXRhZGF0YU9yT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogbWV0YWRhdGFPck9wdGlvbnMubWV0YWRhdGEgOiBtZXRhZGF0YU9yT3B0aW9ucztcbiAgICBjb25zdCBwZXJtaXNzaW9uID0gaGFzT3B0aW9ucyA/IG1ldGFkYXRhT3JPcHRpb25zLnBlcm1pc3Npb24gOiBtYXliZVBlcm1pc3Npb247XG4gICAgY29uc3QgbmFtZSA9IGhhc09wdGlvbnMgPyBtZXRhZGF0YU9yT3B0aW9ucy5uYW1lIDogbWF5YmVOYW1lO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBoYXNPcHRpb25zID8gbWV0YWRhdGFPck9wdGlvbnMuYXR0cmlidXRlcyA6IHt9O1xuICAgIGNvbnN0IHJlcSA9IG5ldyBVcGRhdGVQYXJ0aWNpcGFudFJlcXVlc3Qoe1xuICAgICAgcm9vbSxcbiAgICAgIGlkZW50aXR5LFxuICAgICAgYXR0cmlidXRlcyxcbiAgICAgIG1ldGFkYXRhLFxuICAgICAgbmFtZVxuICAgIH0pO1xuICAgIGlmIChwZXJtaXNzaW9uKSB7XG4gICAgICByZXEucGVybWlzc2lvbiA9IG5ldyBQYXJ0aWNpcGFudFBlcm1pc3Npb24ocGVybWlzc2lvbik7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJVcGRhdGVQYXJ0aWNpcGFudFwiLFxuICAgICAgcmVxLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pXG4gICAgKTtcbiAgICByZXR1cm4gUGFydGljaXBhbnRJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBhIHBhcnRpY2lwYW50J3Mgc3Vic2NyaXB0aW9uIHRvIHRyYWNrc1xuICAgKiBAcGFyYW0gcm9vbSAtXG4gICAqIEBwYXJhbSBpZGVudGl0eSAtXG4gICAqIEBwYXJhbSB0cmFja1NpZHMgLVxuICAgKiBAcGFyYW0gc3Vic2NyaWJlIC0gdHJ1ZSB0byBzdWJzY3JpYmUsIGZhbHNlIHRvIHVuc3Vic2NyaWJlXG4gICAqL1xuICBhc3luYyB1cGRhdGVTdWJzY3JpcHRpb25zKHJvb20sIGlkZW50aXR5LCB0cmFja1NpZHMsIHN1YnNjcmliZSkge1xuICAgIGNvbnN0IHJlcSA9IG5ldyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCh7XG4gICAgICByb29tLFxuICAgICAgaWRlbnRpdHksXG4gICAgICB0cmFja1NpZHMsXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBwYXJ0aWNpcGFudFRyYWNrczogW11cbiAgICB9KS50b0pzb24oKTtcbiAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJVcGRhdGVTdWJzY3JpcHRpb25zXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICB9XG4gIGFzeW5jIHNlbmREYXRhKHJvb20sIGRhdGEsIGtpbmQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uU2lkcyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucykgPyBvcHRpb25zIDogb3B0aW9ucy5kZXN0aW5hdGlvblNpZHM7XG4gICAgY29uc3QgdG9waWMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMpID8gdm9pZCAwIDogb3B0aW9ucy50b3BpYztcbiAgICBjb25zdCByZXEgPSBuZXcgU2VuZERhdGFSZXF1ZXN0KHtcbiAgICAgIHJvb20sXG4gICAgICBkYXRhLFxuICAgICAga2luZCxcbiAgICAgIGRlc3RpbmF0aW9uU2lkczogZGVzdGluYXRpb25TaWRzID8/IFtdLFxuICAgICAgdG9waWNcbiAgICB9KTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5kZXN0aW5hdGlvbklkZW50aXRpZXMpIHtcbiAgICAgIHJlcS5kZXN0aW5hdGlvbklkZW50aXRpZXMgPSBvcHRpb25zLmRlc3RpbmF0aW9uSWRlbnRpdGllcztcbiAgICB9XG4gICAgcmVxLm5vbmNlID0gYXdhaXQgZ2V0UmFuZG9tQnl0ZXMoMTYpO1xuICAgIGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIlNlbmREYXRhXCIsXG4gICAgICByZXEudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSlcbiAgICApO1xuICB9XG59XG5leHBvcnQge1xuICBSb29tU2VydmljZUNsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvb21TZXJ2aWNlQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJDcmVhdGVSb29tUmVxdWVzdCIsIkRlbGV0ZVJvb21SZXF1ZXN0IiwiRm9yd2FyZFBhcnRpY2lwYW50UmVxdWVzdCIsIkxpc3RQYXJ0aWNpcGFudHNSZXF1ZXN0IiwiTGlzdFBhcnRpY2lwYW50c1Jlc3BvbnNlIiwiTGlzdFJvb21zUmVxdWVzdCIsIkxpc3RSb29tc1Jlc3BvbnNlIiwiTXV0ZVJvb21UcmFja1JlcXVlc3QiLCJNdXRlUm9vbVRyYWNrUmVzcG9uc2UiLCJQYXJ0aWNpcGFudEluZm8iLCJQYXJ0aWNpcGFudFBlcm1pc3Npb24iLCJSb29tIiwiUm9vbVBhcnRpY2lwYW50SWRlbnRpdHkiLCJTZW5kRGF0YVJlcXVlc3QiLCJVcGRhdGVQYXJ0aWNpcGFudFJlcXVlc3QiLCJVcGRhdGVSb29tTWV0YWRhdGFSZXF1ZXN0IiwiVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QiLCJTZXJ2aWNlQmFzZSIsIlR3aXJwUnBjIiwibGl2ZWtpdFBhY2thZ2UiLCJnZXRSYW5kb21CeXRlcyIsInN2YyIsIlJvb21TZXJ2aWNlQ2xpZW50IiwiY29uc3RydWN0b3IiLCJob3N0IiwiYXBpS2V5Iiwic2VjcmV0IiwicnBjIiwiY3JlYXRlUm9vbSIsIm9wdGlvbnMiLCJkYXRhIiwicmVxdWVzdCIsInRvSnNvbiIsImF1dGhIZWFkZXIiLCJyb29tQ3JlYXRlIiwiZnJvbUpzb24iLCJpZ25vcmVVbmtub3duRmllbGRzIiwibGlzdFJvb21zIiwibmFtZXMiLCJyb29tTGlzdCIsInJlcyIsInJvb21zIiwiZGVsZXRlUm9vbSIsInJvb20iLCJ1cGRhdGVSb29tTWV0YWRhdGEiLCJtZXRhZGF0YSIsInJvb21BZG1pbiIsImxpc3RQYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudHMiLCJnZXRQYXJ0aWNpcGFudCIsImlkZW50aXR5IiwicmVtb3ZlUGFydGljaXBhbnQiLCJmb3J3YXJkUGFydGljaXBhbnQiLCJkZXN0aW5hdGlvblJvb20iLCJtdXRlUHVibGlzaGVkVHJhY2siLCJ0cmFja1NpZCIsIm11dGVkIiwicmVxIiwidHJhY2siLCJ1cGRhdGVQYXJ0aWNpcGFudCIsIm1ldGFkYXRhT3JPcHRpb25zIiwibWF5YmVQZXJtaXNzaW9uIiwibWF5YmVOYW1lIiwiaGFzT3B0aW9ucyIsInBlcm1pc3Npb24iLCJuYW1lIiwiYXR0cmlidXRlcyIsInVwZGF0ZVN1YnNjcmlwdGlvbnMiLCJ0cmFja1NpZHMiLCJzdWJzY3JpYmUiLCJwYXJ0aWNpcGFudFRyYWNrcyIsInNlbmREYXRhIiwia2luZCIsImRlc3RpbmF0aW9uU2lkcyIsIkFycmF5IiwiaXNBcnJheSIsInRvcGljIiwiZGVzdGluYXRpb25JZGVudGl0aWVzIiwibm9uY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/RoomServiceClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js":
/*!*************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/ServiceBase.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceBase: () => (/* binding */ ServiceBase)\n/* harmony export */ });\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\");\n\nclass ServiceBase {\n    /**\n   * @param apiKey - API Key.\n   * @param secret - API Secret.\n   * @param ttl - token TTL\n   */ constructor(apiKey, secret, ttl){\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.ttl = ttl || \"10m\";\n    }\n    async authHeader(grant, sip) {\n        const at = new _AccessToken_js__WEBPACK_IMPORTED_MODULE_0__.AccessToken(this.apiKey, this.secret, {\n            ttl: this.ttl\n        });\n        if (grant) {\n            at.addGrant(grant);\n        }\n        if (sip) {\n            at.addSIPGrant(sip);\n        }\n        return {\n            Authorization: `Bearer ${await at.toJwt()}`\n        };\n    }\n}\n //# sourceMappingURL=ServiceBase.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2VydmljZUJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0MsTUFBTUM7SUFDSjs7OztHQUlDLEdBQ0RDLFlBQVlDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxHQUFHLENBQUU7UUFDL0IsSUFBSSxDQUFDRixNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxHQUFHLEdBQUdBLE9BQU87SUFDcEI7SUFDQSxNQUFNQyxXQUFXQyxLQUFLLEVBQUVDLEdBQUcsRUFBRTtRQUMzQixNQUFNQyxLQUFLLElBQUlULHdEQUFXQSxDQUFDLElBQUksQ0FBQ0csTUFBTSxFQUFFLElBQUksQ0FBQ0MsTUFBTSxFQUFFO1lBQUVDLEtBQUssSUFBSSxDQUFDQSxHQUFHO1FBQUM7UUFDckUsSUFBSUUsT0FBTztZQUNURSxHQUFHQyxRQUFRLENBQUNIO1FBQ2Q7UUFDQSxJQUFJQyxLQUFLO1lBQ1BDLEdBQUdFLFdBQVcsQ0FBQ0g7UUFDakI7UUFDQSxPQUFPO1lBQ0xJLGVBQWUsQ0FBQyxPQUFPLEVBQUUsTUFBTUgsR0FBR0ksS0FBSyxHQUFHLENBQUM7UUFDN0M7SUFDRjtBQUNGO0FBR0UsQ0FDRix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2VydmljZUJhc2UuanM/ZWY3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY2Nlc3NUb2tlbiB9IGZyb20gXCIuL0FjY2Vzc1Rva2VuLmpzXCI7XG5jbGFzcyBTZXJ2aWNlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleS5cbiAgICogQHBhcmFtIHNlY3JldCAtIEFQSSBTZWNyZXQuXG4gICAqIEBwYXJhbSB0dGwgLSB0b2tlbiBUVExcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFwaUtleSwgc2VjcmV0LCB0dGwpIHtcbiAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgICB0aGlzLnR0bCA9IHR0bCB8fCBcIjEwbVwiO1xuICB9XG4gIGFzeW5jIGF1dGhIZWFkZXIoZ3JhbnQsIHNpcCkge1xuICAgIGNvbnN0IGF0ID0gbmV3IEFjY2Vzc1Rva2VuKHRoaXMuYXBpS2V5LCB0aGlzLnNlY3JldCwgeyB0dGw6IHRoaXMudHRsIH0pO1xuICAgIGlmIChncmFudCkge1xuICAgICAgYXQuYWRkR3JhbnQoZ3JhbnQpO1xuICAgIH1cbiAgICBpZiAoc2lwKSB7XG4gICAgICBhdC5hZGRTSVBHcmFudChzaXApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F3YWl0IGF0LnRvSnd0KCl9YFxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFNlcnZpY2VCYXNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmljZUJhc2UuanMubWFwIl0sIm5hbWVzIjpbIkFjY2Vzc1Rva2VuIiwiU2VydmljZUJhc2UiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsInNlY3JldCIsInR0bCIsImF1dGhIZWFkZXIiLCJncmFudCIsInNpcCIsImF0IiwiYWRkR3JhbnQiLCJhZGRTSVBHcmFudCIsIkF1dGhvcml6YXRpb24iLCJ0b0p3dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/SipClient.js":
/*!***********************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/SipClient.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SipClient: () => (/* binding */ SipClient)\n/* harmony export */ });\n/* harmony import */ var _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @bufbuild/protobuf */ \"(rsc)/./node_modules/@bufbuild/protobuf/dist/esm/google/protobuf/duration_pb.js\");\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\n\nconst svc = \"SIP\";\nclass SipClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__.ServiceBase {\n    /**\n   * @param host - hostname including protocol. i.e. 'https://<project>.livekit.cloud'\n   * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n   * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n   */ constructor(host, apiKey, secret){\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n   * @param number - phone number of the trunk\n   * @param opts - CreateSipTrunkOptions\n   * @deprecated use `createSipInboundTrunk` or `createSipOutboundTrunk`\n   */ async createSipTrunk(number, opts) {\n        let inboundAddresses;\n        let inboundNumbers;\n        let inboundUsername = \"\";\n        let inboundPassword = \"\";\n        let outboundAddress = \"\";\n        let outboundUsername = \"\";\n        let outboundPassword = \"\";\n        let name = \"\";\n        let metadata = \"\";\n        if (opts !== void 0) {\n            inboundAddresses = opts.inbound_addresses;\n            inboundNumbers = opts.inbound_numbers;\n            inboundUsername = opts.inbound_username || \"\";\n            inboundPassword = opts.inbound_password || \"\";\n            outboundAddress = opts.outbound_address || \"\";\n            outboundUsername = opts.outbound_username || \"\";\n            outboundPassword = opts.outbound_password || \"\";\n            name = opts.name || \"\";\n            metadata = opts.metadata || \"\";\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPTrunkRequest({\n            name,\n            metadata,\n            inboundAddresses,\n            inboundNumbers,\n            inboundUsername,\n            inboundPassword,\n            outboundNumber: number,\n            outboundAddress,\n            outboundUsername,\n            outboundPassword\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPTrunk\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param name - human-readable name of the trunk\n   * @param numbers - phone numbers of the trunk\n   * @param opts - CreateSipTrunkOptions\n   */ async createSipInboundTrunk(name, numbers, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPInboundTrunkRequest({\n            trunk: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPInboundTrunkInfo({\n                name,\n                numbers,\n                metadata: opts == null ? void 0 : opts.metadata,\n                allowedAddresses: opts.allowedAddresses ?? opts.allowed_addresses,\n                allowedNumbers: opts.allowedNumbers ?? opts.allowed_numbers,\n                authUsername: opts.authUsername ?? opts.auth_username,\n                authPassword: opts.authPassword ?? opts.auth_password,\n                headers: opts.headers,\n                headersToAttributes: opts.headersToAttributes,\n                includeHeaders: opts.includeHeaders,\n                krispEnabled: opts.krispEnabled\n            })\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPInboundTrunk\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPInboundTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param name - human-readable name of the trunk\n   * @param address - hostname and port of the SIP server to dial\n   * @param numbers - phone numbers of the trunk\n   * @param opts - CreateSipTrunkOptions\n   */ async createSipOutboundTrunk(name, address, numbers, opts) {\n        if (opts === void 0) {\n            opts = {\n                transport: _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTransport.SIP_TRANSPORT_AUTO\n            };\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPOutboundTrunkRequest({\n            trunk: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPOutboundTrunkInfo({\n                name,\n                address,\n                numbers,\n                metadata: opts.metadata,\n                transport: opts.transport,\n                authUsername: opts.authUsername ?? opts.auth_username,\n                authPassword: opts.authPassword ?? opts.auth_password,\n                headers: opts.headers,\n                headersToAttributes: opts.headersToAttributes,\n                includeHeaders: opts.includeHeaders\n            })\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPOutboundTrunk\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPOutboundTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @deprecated use `listSipInboundTrunk` or `listSipOutboundTrunk`\n   */ async listSipTrunk() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPTrunkRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPTrunkResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    async listSipInboundTrunk() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPInboundTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPInboundTrunkRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPInboundTrunkResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    async listSipOutboundTrunk() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPOutboundTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPOutboundTrunkRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPOutboundTrunkResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param sipTrunkId - sip trunk to delete\n   */ async deleteSipTrunk(sipTrunkId) {\n        const data = await this.rpc.request(svc, \"DeleteSIPTrunk\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteSIPTrunkRequest({\n            sipTrunkId\n        }).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param rule - sip dispatch rule\n   * @param opts - CreateSipDispatchRuleOptions\n   */ async createSipDispatchRule(rule, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        let ruleProto = void 0;\n        if (rule.type == \"direct\") {\n            ruleProto = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRule({\n                rule: {\n                    case: \"dispatchRuleDirect\",\n                    value: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleDirect({\n                        roomName: rule.roomName,\n                        pin: rule.pin || \"\"\n                    })\n                }\n            });\n        } else if (rule.type == \"individual\") {\n            ruleProto = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRule({\n                rule: {\n                    case: \"dispatchRuleIndividual\",\n                    value: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleIndividual({\n                        roomPrefix: rule.roomPrefix,\n                        pin: rule.pin || \"\"\n                    })\n                }\n            });\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPDispatchRuleRequest({\n            rule: ruleProto,\n            trunkIds: opts.trunkIds,\n            hidePhoneNumber: opts.hidePhoneNumber,\n            name: opts.name,\n            metadata: opts.metadata,\n            attributes: opts.attributes,\n            roomPreset: opts.roomPreset,\n            roomConfig: opts.roomConfig\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPDispatchRule\", req, await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    async listSipDispatchRule() {\n        const req = {};\n        const data = await this.rpc.request(svc, \"ListSIPDispatchRule\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPDispatchRuleRequest(req).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPDispatchRuleResponse.fromJson(data, {\n            ignoreUnknownFields: true\n        }).items ?? [];\n    }\n    /**\n   * @param sipDispatchRuleId - sip trunk to delete\n   */ async deleteSipDispatchRule(sipDispatchRuleId) {\n        const data = await this.rpc.request(svc, \"DeleteSIPDispatchRule\", new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteSIPDispatchRuleRequest({\n            sipDispatchRuleId\n        }).toJson(), await this.authHeader({}, {\n            admin: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param sipTrunkId - sip trunk to use for the call\n   * @param number - number to dial\n   * @param roomName - room to attach the call to\n   * @param opts - CreateSipParticipantOptions\n   */ async createSipParticipant(sipTrunkId, number, roomName, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPParticipantRequest({\n            sipTrunkId,\n            sipCallTo: number,\n            sipNumber: opts.fromNumber,\n            roomName,\n            participantIdentity: opts.participantIdentity || \"sip-participant\",\n            participantName: opts.participantName,\n            participantMetadata: opts.participantMetadata,\n            participantAttributes: opts.participantAttributes,\n            dtmf: opts.dtmf,\n            playDialtone: opts.playDialtone ?? opts.playRingtone,\n            headers: opts.headers,\n            hidePhoneNumber: opts.hidePhoneNumber,\n            includeHeaders: opts.includeHeaders,\n            ringingTimeout: opts.ringingTimeout ? new _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.Duration({\n                seconds: BigInt(opts.ringingTimeout)\n            }) : void 0,\n            maxCallDuration: opts.maxCallDuration ? new _bufbuild_protobuf__WEBPACK_IMPORTED_MODULE_3__.Duration({\n                seconds: BigInt(opts.maxCallDuration)\n            }) : void 0,\n            krispEnabled: opts.krispEnabled\n        }).toJson();\n        const data = await this.rpc.request(svc, \"CreateSIPParticipant\", req, await this.authHeader({}, {\n            call: true\n        }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPParticipantInfo.fromJson(data, {\n            ignoreUnknownFields: true\n        });\n    }\n    /**\n   * @param roomName - room the SIP participant to transfer is connectd to\n   * @param participantIdentity - identity of the SIP participant to transfer\n   * @param transferTo - SIP URL to transfer the participant to\n   */ async transferSipParticipant(roomName, participantIdentity, transferTo, opts) {\n        if (opts === void 0) {\n            opts = {};\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TransferSIPParticipantRequest({\n            participantIdentity,\n            roomName,\n            transferTo,\n            playDialtone: opts.playDialtone,\n            headers: opts.headers\n        }).toJson();\n        await this.rpc.request(svc, \"TransferSIPParticipant\", req, await this.authHeader({\n            roomAdmin: true,\n            room: roomName\n        }, {\n            call: true\n        }));\n    }\n}\n //# sourceMappingURL=SipClient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2lwQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBMkJuQjtBQUNvQjtBQUNVO0FBQ3pELE1BQU02QixNQUFNO0FBQ1osTUFBTUMsa0JBQWtCSix3REFBV0E7SUFDakM7Ozs7R0FJQyxHQUNESyxZQUFZQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsTUFBTSxDQUFFO1FBQ2hDLEtBQUssQ0FBQ0QsUUFBUUM7UUFDZCxJQUFJLENBQUNDLEdBQUcsR0FBRyxJQUFJUixrREFBUUEsQ0FBQ0ssTUFBTUosd0RBQWNBO0lBQzlDO0lBQ0E7Ozs7R0FJQyxHQUNELE1BQU1RLGVBQWVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFO1FBQ2pDLElBQUlDO1FBQ0osSUFBSUM7UUFDSixJQUFJQyxrQkFBa0I7UUFDdEIsSUFBSUMsa0JBQWtCO1FBQ3RCLElBQUlDLGtCQUFrQjtRQUN0QixJQUFJQyxtQkFBbUI7UUFDdkIsSUFBSUMsbUJBQW1CO1FBQ3ZCLElBQUlDLE9BQU87UUFDWCxJQUFJQyxXQUFXO1FBQ2YsSUFBSVQsU0FBUyxLQUFLLEdBQUc7WUFDbkJDLG1CQUFtQkQsS0FBS1UsaUJBQWlCO1lBQ3pDUixpQkFBaUJGLEtBQUtXLGVBQWU7WUFDckNSLGtCQUFrQkgsS0FBS1ksZ0JBQWdCLElBQUk7WUFDM0NSLGtCQUFrQkosS0FBS2EsZ0JBQWdCLElBQUk7WUFDM0NSLGtCQUFrQkwsS0FBS2MsZ0JBQWdCLElBQUk7WUFDM0NSLG1CQUFtQk4sS0FBS2UsaUJBQWlCLElBQUk7WUFDN0NSLG1CQUFtQlAsS0FBS2dCLGlCQUFpQixJQUFJO1lBQzdDUixPQUFPUixLQUFLUSxJQUFJLElBQUk7WUFDcEJDLFdBQVdULEtBQUtTLFFBQVEsSUFBSTtRQUM5QjtRQUNBLE1BQU1RLE1BQU0sSUFBSWxELG9FQUFxQkEsQ0FBQztZQUNwQ3lDO1lBQ0FDO1lBQ0FSO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lB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TTJELHVCQUF1QjNCLFFBQVEsRUFBRWUsbUJBQW1CLEVBQUVhLFVBQVUsRUFBRXJGLElBQUksRUFBRTtRQUM1RSxJQUFJQSxTQUFTLEtBQUssR0FBRztZQUNuQkEsT0FBTyxDQUFDO1FBQ1Y7UUFDQSxNQUFNaUIsTUFBTSxJQUFJOUIsNEVBQTZCQSxDQUFDO1lBQzVDcUY7WUFDQWY7WUFDQTRCO1lBQ0FSLGNBQWM3RSxLQUFLNkUsWUFBWTtZQUMvQnhDLFNBQVNyQyxLQUFLcUMsT0FBTztRQUN2QixHQUFHbEIsTUFBTTtRQUNULE1BQU0sSUFBSSxDQUFDdEIsR0FBRyxDQUFDd0IsT0FBTyxDQUNwQjlCLEtBQ0EsMEJBQ0EwQixLQUNBLE1BQU0sSUFBSSxDQUFDSyxVQUFVLENBQUM7WUFBRWdFLFdBQVc7WUFBTUMsTUFBTTlCO1FBQVMsR0FBRztZQUFFMEIsTUFBTTtRQUFLO0lBRTVFO0FBQ0Y7QUFHRSxDQUNGLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9TaXBDbGllbnQuanM/NTAwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEdXJhdGlvbiB9IGZyb20gXCJAYnVmYnVpbGQvcHJvdG9idWZcIjtcbmltcG9ydCB7XG4gIENyZWF0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3QsXG4gIENyZWF0ZVNJUEluYm91bmRUcnVua1JlcXVlc3QsXG4gIENyZWF0ZVNJUE91dGJvdW5kVHJ1bmtSZXF1ZXN0LFxuICBDcmVhdGVTSVBQYXJ0aWNpcGFudFJlcXVlc3QsXG4gIENyZWF0ZVNJUFRydW5rUmVxdWVzdCxcbiAgRGVsZXRlU0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCxcbiAgRGVsZXRlU0lQVHJ1bmtSZXF1ZXN0LFxuICBMaXN0U0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCxcbiAgTGlzdFNJUERpc3BhdGNoUnVsZVJlc3BvbnNlLFxuICBMaXN0U0lQSW5ib3VuZFRydW5rUmVxdWVzdCxcbiAgTGlzdFNJUEluYm91bmRUcnVua1Jlc3BvbnNlLFxuICBMaXN0U0lQT3V0Ym91bmRUcnVua1JlcXVlc3QsXG4gIExpc3RTSVBPdXRib3VuZFRydW5rUmVzcG9uc2UsXG4gIExpc3RTSVBUcnVua1JlcXVlc3QsXG4gIExpc3RTSVBUcnVua1Jlc3BvbnNlLFxuICBTSVBEaXNwYXRjaFJ1bGUsXG4gIFNJUERpc3BhdGNoUnVsZURpcmVjdCxcbiAgU0lQRGlzcGF0Y2hSdWxlSW5kaXZpZHVhbCxcbiAgU0lQRGlzcGF0Y2hSdWxlSW5mbyxcbiAgU0lQSW5ib3VuZFRydW5rSW5mbyxcbiAgU0lQT3V0Ym91bmRUcnVua0luZm8sXG4gIFNJUFBhcnRpY2lwYW50SW5mbyxcbiAgU0lQVHJhbnNwb3J0LFxuICBTSVBUcnVua0luZm8sXG4gIFRyYW5zZmVyU0lQUGFydGljaXBhbnRSZXF1ZXN0XG59IGZyb20gXCJAbGl2ZWtpdC9wcm90b2NvbFwiO1xuaW1wb3J0IHsgU2VydmljZUJhc2UgfSBmcm9tIFwiLi9TZXJ2aWNlQmFzZS5qc1wiO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSBcIi4vVHdpcnBSUEMuanNcIjtcbmNvbnN0IHN2YyA9IFwiU0lQXCI7XG5jbGFzcyBTaXBDbGllbnQgZXh0ZW5kcyBTZXJ2aWNlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly88cHJvamVjdD4ubGl2ZWtpdC5jbG91ZCdcbiAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICogQHBhcmFtIHNlY3JldCAtIEFQSSBTZWNyZXQsIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgIHRoaXMucnBjID0gbmV3IFR3aXJwUnBjKGhvc3QsIGxpdmVraXRQYWNrYWdlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIG51bWJlciAtIHBob25lIG51bWJlciBvZiB0aGUgdHJ1bmtcbiAgICogQHBhcmFtIG9wdHMgLSBDcmVhdGVTaXBUcnVua09wdGlvbnNcbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBjcmVhdGVTaXBJbmJvdW5kVHJ1bmtgIG9yIGBjcmVhdGVTaXBPdXRib3VuZFRydW5rYFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlU2lwVHJ1bmsobnVtYmVyLCBvcHRzKSB7XG4gICAgbGV0IGluYm91bmRBZGRyZXNzZXM7XG4gICAgbGV0IGluYm91bmROdW1iZXJzO1xuICAgIGxldCBpbmJvdW5kVXNlcm5hbWUgPSBcIlwiO1xuICAgIGxldCBpbmJvdW5kUGFzc3dvcmQgPSBcIlwiO1xuICAgIGxldCBvdXRib3VuZEFkZHJlc3MgPSBcIlwiO1xuICAgIGxldCBvdXRib3VuZFVzZXJuYW1lID0gXCJcIjtcbiAgICBsZXQgb3V0Ym91bmRQYXNzd29yZCA9IFwiXCI7XG4gICAgbGV0IG5hbWUgPSBcIlwiO1xuICAgIGxldCBtZXRhZGF0YSA9IFwiXCI7XG4gICAgaWYgKG9wdHMgIT09IHZvaWQgMCkge1xuICAgICAgaW5ib3VuZEFkZHJlc3NlcyA9IG9wdHMuaW5ib3VuZF9hZGRyZXNzZXM7XG4gICAgICBpbmJvdW5kTnVtYmVycyA9IG9wdHMuaW5ib3VuZF9udW1iZXJzO1xuICAgICAgaW5ib3VuZFVzZXJuYW1lID0gb3B0cy5pbmJvdW5kX3VzZXJuYW1lIHx8IFwiXCI7XG4gICAgICBpbmJvdW5kUGFzc3dvcmQgPSBvcHRzLmluYm91bmRfcGFzc3dvcmQgfHwgXCJcIjtcbiAgICAgIG91dGJvdW5kQWRkcmVzcyA9IG9wdHMub3V0Ym91bmRfYWRkcmVzcyB8fCBcIlwiO1xuICAgICAgb3V0Ym91bmRVc2VybmFtZSA9IG9wdHMub3V0Ym91bmRfdXNlcm5hbWUgfHwgXCJcIjtcbiAgICAgIG91dGJvdW5kUGFzc3dvcmQgPSBvcHRzLm91dGJvdW5kX3Bhc3N3b3JkIHx8IFwiXCI7XG4gICAgICBuYW1lID0gb3B0cy5uYW1lIHx8IFwiXCI7XG4gICAgICBtZXRhZGF0YSA9IG9wdHMubWV0YWRhdGEgfHwgXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gbmV3IENyZWF0ZVNJUFRydW5rUmVxdWVzdCh7XG4gICAgICBuYW1lLFxuICAgICAgbWV0YWRhdGEsXG4gICAgICBpbmJvdW5kQWRkcmVzc2VzLFxuICAgICAgaW5ib3VuZE51bWJlcnMsXG4gICAgICBpbmJvdW5kVXNlcm5hbWUsXG4gICAgICBpbmJvdW5kUGFzc3dvcmQsXG4gICAgICBvdXRib3VuZE51bWJlcjogbnVtYmVyLFxuICAgICAgb3V0Ym91bmRBZGRyZXNzLFxuICAgICAgb3V0Ym91bmRVc2VybmFtZSxcbiAgICAgIG91dGJvdW5kUGFzc3dvcmRcbiAgICB9KS50b0pzb24oKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiQ3JlYXRlU0lQVHJ1bmtcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFNJUFRydW5rSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBuYW1lIC0gaHVtYW4tcmVhZGFibGUgbmFtZSBvZiB0aGUgdHJ1bmtcbiAgICogQHBhcmFtIG51bWJlcnMgLSBwaG9uZSBudW1iZXJzIG9mIHRoZSB0cnVua1xuICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZVNpcFRydW5rT3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlU2lwSW5ib3VuZFRydW5rKG5hbWUsIG51bWJlcnMsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0KHtcbiAgICAgIHRydW5rOiBuZXcgU0lQSW5ib3VuZFRydW5rSW5mbyh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIG51bWJlcnMsXG4gICAgICAgIG1ldGFkYXRhOiBvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLm1ldGFkYXRhLFxuICAgICAgICBhbGxvd2VkQWRkcmVzc2VzOiBvcHRzLmFsbG93ZWRBZGRyZXNzZXMgPz8gb3B0cy5hbGxvd2VkX2FkZHJlc3NlcyxcbiAgICAgICAgYWxsb3dlZE51bWJlcnM6IG9wdHMuYWxsb3dlZE51bWJlcnMgPz8gb3B0cy5hbGxvd2VkX251bWJlcnMsXG4gICAgICAgIGF1dGhVc2VybmFtZTogb3B0cy5hdXRoVXNlcm5hbWUgPz8gb3B0cy5hdXRoX3VzZXJuYW1lLFxuICAgICAgICBhdXRoUGFzc3dvcmQ6IG9wdHMuYXV0aFBhc3N3b3JkID8/IG9wdHMuYXV0aF9wYXNzd29yZCxcbiAgICAgICAgaGVhZGVyczogb3B0cy5oZWFkZXJzLFxuICAgICAgICBoZWFkZXJzVG9BdHRyaWJ1dGVzOiBvcHRzLmhlYWRlcnNUb0F0dHJpYnV0ZXMsXG4gICAgICAgIGluY2x1ZGVIZWFkZXJzOiBvcHRzLmluY2x1ZGVIZWFkZXJzLFxuICAgICAgICBrcmlzcEVuYWJsZWQ6IG9wdHMua3Jpc3BFbmFibGVkXG4gICAgICB9KVxuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJDcmVhdGVTSVBJbmJvdW5kVHJ1bmtcIixcbiAgICAgIHJlcSxcbiAgICAgIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFNJUEluYm91bmRUcnVua0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gbmFtZSAtIGh1bWFuLXJlYWRhYmxlIG5hbWUgb2YgdGhlIHRydW5rXG4gICAqIEBwYXJhbSBhZGRyZXNzIC0gaG9zdG5hbWUgYW5kIHBvcnQgb2YgdGhlIFNJUCBzZXJ2ZXIgdG8gZGlhbFxuICAgKiBAcGFyYW0gbnVtYmVycyAtIHBob25lIG51bWJlcnMgb2YgdGhlIHRydW5rXG4gICAqIEBwYXJhbSBvcHRzIC0gQ3JlYXRlU2lwVHJ1bmtPcHRpb25zXG4gICAqL1xuICBhc3luYyBjcmVhdGVTaXBPdXRib3VuZFRydW5rKG5hbWUsIGFkZHJlc3MsIG51bWJlcnMsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge1xuICAgICAgICB0cmFuc3BvcnQ6IFNJUFRyYW5zcG9ydC5TSVBfVFJBTlNQT1JUX0FVVE9cbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVTSVBPdXRib3VuZFRydW5rUmVxdWVzdCh7XG4gICAgICB0cnVuazogbmV3IFNJUE91dGJvdW5kVHJ1bmtJbmZvKHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgbnVtYmVycyxcbiAgICAgICAgbWV0YWRhdGE6IG9wdHMubWV0YWRhdGEsXG4gICAgICAgIHRyYW5zcG9ydDogb3B0cy50cmFuc3BvcnQsXG4gICAgICAgIGF1dGhVc2VybmFtZTogb3B0cy5hdXRoVXNlcm5hbWUgPz8gb3B0cy5hdXRoX3VzZXJuYW1lLFxuICAgICAgICBhdXRoUGFzc3dvcmQ6IG9wdHMuYXV0aFBhc3N3b3JkID8/IG9wdHMuYXV0aF9wYXNzd29yZCxcbiAgICAgICAgaGVhZGVyczogb3B0cy5oZWFkZXJzLFxuICAgICAgICBoZWFkZXJzVG9BdHRyaWJ1dGVzOiBvcHRzLmhlYWRlcnNUb0F0dHJpYnV0ZXMsXG4gICAgICAgIGluY2x1ZGVIZWFkZXJzOiBvcHRzLmluY2x1ZGVIZWFkZXJzXG4gICAgICB9KVxuICAgIH0pLnRvSnNvbigpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJDcmVhdGVTSVBPdXRib3VuZFRydW5rXCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBTSVBPdXRib3VuZFRydW5rSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHVzZSBgbGlzdFNpcEluYm91bmRUcnVua2Agb3IgYGxpc3RTaXBPdXRib3VuZFRydW5rYFxuICAgKi9cbiAgYXN5bmMgbGlzdFNpcFRydW5rKCkge1xuICAgIGNvbnN0IHJlcSA9IHt9O1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJMaXN0U0lQVHJ1bmtcIixcbiAgICAgIG5ldyBMaXN0U0lQVHJ1bmtSZXF1ZXN0KHJlcSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBMaXN0U0lQVHJ1bmtSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMgPz8gW107XG4gIH1cbiAgYXN5bmMgbGlzdFNpcEluYm91bmRUcnVuaygpIHtcbiAgICBjb25zdCByZXEgPSB7fTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdFNJUEluYm91bmRUcnVua1wiLFxuICAgICAgbmV3IExpc3RTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0KHJlcSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBMaXN0U0lQSW5ib3VuZFRydW5rUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zID8/IFtdO1xuICB9XG4gIGFzeW5jIGxpc3RTaXBPdXRib3VuZFRydW5rKCkge1xuICAgIGNvbnN0IHJlcSA9IHt9O1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJMaXN0U0lQT3V0Ym91bmRUcnVua1wiLFxuICAgICAgbmV3IExpc3RTSVBPdXRib3VuZFRydW5rUmVxdWVzdChyZXEpLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gTGlzdFNJUE91dGJvdW5kVHJ1bmtSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMgPz8gW107XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBzaXBUcnVua0lkIC0gc2lwIHRydW5rIHRvIGRlbGV0ZVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlU2lwVHJ1bmsoc2lwVHJ1bmtJZCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KFxuICAgICAgc3ZjLFxuICAgICAgXCJEZWxldGVTSVBUcnVua1wiLFxuICAgICAgbmV3IERlbGV0ZVNJUFRydW5rUmVxdWVzdCh7IHNpcFRydW5rSWQgfSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBTSVBUcnVua0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gcnVsZSAtIHNpcCBkaXNwYXRjaCBydWxlXG4gICAqIEBwYXJhbSBvcHRzIC0gQ3JlYXRlU2lwRGlzcGF0Y2hSdWxlT3B0aW9uc1xuICAgKi9cbiAgYXN5bmMgY3JlYXRlU2lwRGlzcGF0Y2hSdWxlKHJ1bGUsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGxldCBydWxlUHJvdG8gPSB2b2lkIDA7XG4gICAgaWYgKHJ1bGUudHlwZSA9PSBcImRpcmVjdFwiKSB7XG4gICAgICBydWxlUHJvdG8gPSBuZXcgU0lQRGlzcGF0Y2hSdWxlKHtcbiAgICAgICAgcnVsZToge1xuICAgICAgICAgIGNhc2U6IFwiZGlzcGF0Y2hSdWxlRGlyZWN0XCIsXG4gICAgICAgICAgdmFsdWU6IG5ldyBTSVBEaXNwYXRjaFJ1bGVEaXJlY3Qoe1xuICAgICAgICAgICAgcm9vbU5hbWU6IHJ1bGUucm9vbU5hbWUsXG4gICAgICAgICAgICBwaW46IHJ1bGUucGluIHx8IFwiXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJ1bGUudHlwZSA9PSBcImluZGl2aWR1YWxcIikge1xuICAgICAgcnVsZVByb3RvID0gbmV3IFNJUERpc3BhdGNoUnVsZSh7XG4gICAgICAgIHJ1bGU6IHtcbiAgICAgICAgICBjYXNlOiBcImRpc3BhdGNoUnVsZUluZGl2aWR1YWxcIixcbiAgICAgICAgICB2YWx1ZTogbmV3IFNJUERpc3BhdGNoUnVsZUluZGl2aWR1YWwoe1xuICAgICAgICAgICAgcm9vbVByZWZpeDogcnVsZS5yb29tUHJlZml4LFxuICAgICAgICAgICAgcGluOiBydWxlLnBpbiB8fCBcIlwiXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVTSVBEaXNwYXRjaFJ1bGVSZXF1ZXN0KHtcbiAgICAgIHJ1bGU6IHJ1bGVQcm90byxcbiAgICAgIHRydW5rSWRzOiBvcHRzLnRydW5rSWRzLFxuICAgICAgaGlkZVBob25lTnVtYmVyOiBvcHRzLmhpZGVQaG9uZU51bWJlcixcbiAgICAgIG5hbWU6IG9wdHMubmFtZSxcbiAgICAgIG1ldGFkYXRhOiBvcHRzLm1ldGFkYXRhLFxuICAgICAgYXR0cmlidXRlczogb3B0cy5hdHRyaWJ1dGVzLFxuICAgICAgcm9vbVByZXNldDogb3B0cy5yb29tUHJlc2V0LFxuICAgICAgcm9vbUNvbmZpZzogb3B0cy5yb29tQ29uZmlnXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkNyZWF0ZVNJUERpc3BhdGNoUnVsZVwiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gU0lQRGlzcGF0Y2hSdWxlSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgYXN5bmMgbGlzdFNpcERpc3BhdGNoUnVsZSgpIHtcbiAgICBjb25zdCByZXEgPSB7fTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiTGlzdFNJUERpc3BhdGNoUnVsZVwiLFxuICAgICAgbmV3IExpc3RTSVBEaXNwYXRjaFJ1bGVSZXF1ZXN0KHJlcSkudG9Kc29uKCksXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSlcbiAgICApO1xuICAgIHJldHVybiBMaXN0U0lQRGlzcGF0Y2hSdWxlUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zID8/IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gc2lwRGlzcGF0Y2hSdWxlSWQgLSBzaXAgdHJ1bmsgdG8gZGVsZXRlXG4gICAqL1xuICBhc3luYyBkZWxldGVTaXBEaXNwYXRjaFJ1bGUoc2lwRGlzcGF0Y2hSdWxlSWQpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiRGVsZXRlU0lQRGlzcGF0Y2hSdWxlXCIsXG4gICAgICBuZXcgRGVsZXRlU0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCh7IHNpcERpc3BhdGNoUnVsZUlkIH0pLnRvSnNvbigpLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pXG4gICAgKTtcbiAgICByZXR1cm4gU0lQRGlzcGF0Y2hSdWxlSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBzaXBUcnVua0lkIC0gc2lwIHRydW5rIHRvIHVzZSBmb3IgdGhlIGNhbGxcbiAgICogQHBhcmFtIG51bWJlciAtIG51bWJlciB0byBkaWFsXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIHJvb20gdG8gYXR0YWNoIHRoZSBjYWxsIHRvXG4gICAqIEBwYXJhbSBvcHRzIC0gQ3JlYXRlU2lwUGFydGljaXBhbnRPcHRpb25zXG4gICAqL1xuICBhc3luYyBjcmVhdGVTaXBQYXJ0aWNpcGFudChzaXBUcnVua0lkLCBudW1iZXIsIHJvb21OYW1lLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlU0lQUGFydGljaXBhbnRSZXF1ZXN0KHtcbiAgICAgIHNpcFRydW5rSWQsXG4gICAgICBzaXBDYWxsVG86IG51bWJlcixcbiAgICAgIHNpcE51bWJlcjogb3B0cy5mcm9tTnVtYmVyLFxuICAgICAgcm9vbU5hbWUsXG4gICAgICBwYXJ0aWNpcGFudElkZW50aXR5OiBvcHRzLnBhcnRpY2lwYW50SWRlbnRpdHkgfHwgXCJzaXAtcGFydGljaXBhbnRcIixcbiAgICAgIHBhcnRpY2lwYW50TmFtZTogb3B0cy5wYXJ0aWNpcGFudE5hbWUsXG4gICAgICBwYXJ0aWNpcGFudE1ldGFkYXRhOiBvcHRzLnBhcnRpY2lwYW50TWV0YWRhdGEsXG4gICAgICBwYXJ0aWNpcGFudEF0dHJpYnV0ZXM6IG9wdHMucGFydGljaXBhbnRBdHRyaWJ1dGVzLFxuICAgICAgZHRtZjogb3B0cy5kdG1mLFxuICAgICAgcGxheURpYWx0b25lOiBvcHRzLnBsYXlEaWFsdG9uZSA/PyBvcHRzLnBsYXlSaW5ndG9uZSxcbiAgICAgIGhlYWRlcnM6IG9wdHMuaGVhZGVycyxcbiAgICAgIGhpZGVQaG9uZU51bWJlcjogb3B0cy5oaWRlUGhvbmVOdW1iZXIsXG4gICAgICBpbmNsdWRlSGVhZGVyczogb3B0cy5pbmNsdWRlSGVhZGVycyxcbiAgICAgIHJpbmdpbmdUaW1lb3V0OiBvcHRzLnJpbmdpbmdUaW1lb3V0ID8gbmV3IER1cmF0aW9uKHsgc2Vjb25kczogQmlnSW50KG9wdHMucmluZ2luZ1RpbWVvdXQpIH0pIDogdm9pZCAwLFxuICAgICAgbWF4Q2FsbER1cmF0aW9uOiBvcHRzLm1heENhbGxEdXJhdGlvbiA/IG5ldyBEdXJhdGlvbih7IHNlY29uZHM6IEJpZ0ludChvcHRzLm1heENhbGxEdXJhdGlvbikgfSkgOiB2b2lkIDAsXG4gICAgICBrcmlzcEVuYWJsZWQ6IG9wdHMua3Jpc3BFbmFibGVkXG4gICAgfSkudG9Kc29uKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3QoXG4gICAgICBzdmMsXG4gICAgICBcIkNyZWF0ZVNJUFBhcnRpY2lwYW50XCIsXG4gICAgICByZXEsXG4gICAgICBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgY2FsbDogdHJ1ZSB9KVxuICAgICk7XG4gICAgcmV0dXJuIFNJUFBhcnRpY2lwYW50SW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSByb29tTmFtZSAtIHJvb20gdGhlIFNJUCBwYXJ0aWNpcGFudCB0byB0cmFuc2ZlciBpcyBjb25uZWN0ZCB0b1xuICAgKiBAcGFyYW0gcGFydGljaXBhbnRJZGVudGl0eSAtIGlkZW50aXR5IG9mIHRoZSBTSVAgcGFydGljaXBhbnQgdG8gdHJhbnNmZXJcbiAgICogQHBhcmFtIHRyYW5zZmVyVG8gLSBTSVAgVVJMIHRvIHRyYW5zZmVyIHRoZSBwYXJ0aWNpcGFudCB0b1xuICAgKi9cbiAgYXN5bmMgdHJhbnNmZXJTaXBQYXJ0aWNpcGFudChyb29tTmFtZSwgcGFydGljaXBhbnRJZGVudGl0eSwgdHJhbnNmZXJUbywgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gbmV3IFRyYW5zZmVyU0lQUGFydGljaXBhbnRSZXF1ZXN0KHtcbiAgICAgIHBhcnRpY2lwYW50SWRlbnRpdHksXG4gICAgICByb29tTmFtZSxcbiAgICAgIHRyYW5zZmVyVG8sXG4gICAgICBwbGF5RGlhbHRvbmU6IG9wdHMucGxheURpYWx0b25lLFxuICAgICAgaGVhZGVyczogb3B0cy5oZWFkZXJzXG4gICAgfSkudG9Kc29uKCk7XG4gICAgYXdhaXQgdGhpcy5ycGMucmVxdWVzdChcbiAgICAgIHN2YyxcbiAgICAgIFwiVHJhbnNmZXJTSVBQYXJ0aWNpcGFudFwiLFxuICAgICAgcmVxLFxuICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tOiByb29tTmFtZSB9LCB7IGNhbGw6IHRydWUgfSlcbiAgICApO1xuICB9XG59XG5leHBvcnQge1xuICBTaXBDbGllbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaXBDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbIkR1cmF0aW9uIiwiQ3JlYXRlU0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCIsIkNyZWF0ZVNJUEluYm91bmRUcnVua1JlcXVlc3QiLCJDcmVhdGVTSVBPdXRib3VuZFRydW5rUmVxdWVzdCIsIkNyZWF0ZVNJUFBhcnRpY2lwYW50UmVxdWVzdCIsIkNyZWF0ZVNJUFRydW5rUmVxdWVzdCIsIkRlbGV0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3QiLCJEZWxldGVTSVBUcnVua1JlcXVlc3QiLCJMaXN0U0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCIsIkxpc3RTSVBEaXNwYXRjaFJ1bGVSZXNwb25zZSIsIkxpc3RTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0IiwiTGlzdFNJUEluYm91bmRUcnVua1Jlc3BvbnNlIiwiTGlzdFNJUE91dGJvdW5kVHJ1bmtSZXF1ZXN0IiwiTGlzdFNJUE91dGJvdW5kVHJ1bmtSZXNwb25zZSIsIkxpc3RTSVBUcnVua1JlcXVlc3QiLCJMaXN0U0lQVHJ1bmtSZXNwb25zZSIsIlNJUERpc3BhdGNoUnVsZSIsIlNJUERpc3BhdGNoUnVsZURpcmVjdCIsIlNJUERpc3BhdGNoUnVsZUluZGl2aWR1YWwiLCJTSVBEaXNwYXRjaFJ1bGVJbmZvIiwiU0lQSW5ib3VuZFRydW5rSW5mbyIsIlNJUE91dGJvdW5kVHJ1bmtJbmZvIiwiU0lQUGFydGljaXBhbnRJbmZvIiwiU0lQVHJhbnNwb3J0IiwiU0lQVHJ1bmtJbmZvIiwiVHJhbnNmZXJTSVBQYXJ0aWNpcGFudFJlcXVlc3QiLCJTZXJ2aWNlQmFzZSIsIlR3aXJwUnBjIiwibGl2ZWtpdFBhY2thZ2UiLCJzdmMiLCJTaXBDbGllbnQiLCJjb25zdHJ1Y3RvciIsImhvc3QiLCJhcGlLZXkiLCJzZWNyZXQiLCJycGMiLCJjcmVhdGVTaXBUcnVuayIsIm51bWJlciIsIm9wdHMiLCJpbmJvdW5kQWRkcmVzc2VzIiwiaW5ib3VuZE51bWJlcnMiLCJpbmJvdW5kVXNlcm5hbWUiLCJpbmJvdW5kUGFzc3dvcmQiLCJvdXRib3VuZEFkZHJlc3MiLCJvdXRib3VuZFVzZXJuYW1lIiwib3V0Ym91bmRQYXNzd29yZCIsIm5hbWUiLCJtZXRhZGF0YSIsImluYm91bmRfYWRkcmVzc2VzIiwiaW5ib3VuZF9udW1iZXJzIiwiaW5ib3VuZF91c2VybmFtZSIsImluYm91bmRfcGFzc3dvcmQiLCJvdXRib3VuZF9hZGRyZXNzIiwib3V0Ym91bmRfdXNlcm5hbWUiLCJvdXRib3VuZF9wYXNzd29yZCIsInJlcSIsIm91dGJvdW5kTnVtYmVyIiwidG9Kc29uIiwiZGF0YSIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiYWRtaW4iLCJmcm9tSnNvbiIsImlnbm9yZVVua25vd25GaWVsZHMiLCJjcmVhdGVTaXBJbmJvdW5kVHJ1bmsiLCJudW1iZXJzIiwidHJ1bmsiLCJhbGxvd2VkQWRkcmVzc2VzIiwiYWxsb3dlZF9hZGRyZXNzZXMiLCJhbGxvd2VkTnVtYmVycyIsImFsbG93ZWRfbnVtYmVycyIsImF1dGhVc2VybmFtZSIsImF1dGhfdXNlcm5hbWUiLCJhdXRoUGFzc3dvcmQiLCJhdXRoX3Bhc3N3b3JkIiwiaGVhZGVycyIsImhlYWRlcnNUb0F0dHJpYnV0ZXMiLCJpbmNsdWRlSGVhZGVycyIsImtyaXNwRW5hYmxlZCIsImNyZWF0ZVNpcE91dGJvdW5kVHJ1bmsiLCJhZGRyZXNzIiwidHJhbnNwb3J0IiwiU0lQX1RSQU5TUE9SVF9BVVRPIiwibGlzdFNpcFRydW5rIiwiaXRlbXMiLCJsaXN0U2lwSW5ib3VuZFRydW5rIiwibGlzdFNpcE91dGJvdW5kVHJ1bmsiLCJkZWxldGVTaXBUcnVuayIsInNpcFRydW5rSWQiLCJjcmVhdGVTaXBEaXNwYXRjaFJ1bGUiLCJydWxlIiwicnVsZVByb3RvIiwidHlwZSIsImNhc2UiLCJ2YWx1ZSIsInJvb21OYW1lIiwicGluIiwicm9vbVByZWZpeCIsInRydW5rSWRzIiwiaGlkZVBob25lTnVtYmVyIiwiYXR0cmlidXRlcyIsInJvb21QcmVzZXQiLCJyb29tQ29uZmlnIiwibGlzdFNpcERpc3BhdGNoUnVsZSIsImRlbGV0ZVNpcERpc3BhdGNoUnVsZSIsInNpcERpc3BhdGNoUnVsZUlkIiwiY3JlYXRlU2lwUGFydGljaXBhbnQiLCJzaXBDYWxsVG8iLCJzaXBOdW1iZXIiLCJmcm9tTnVtYmVyIiwicGFydGljaXBhbnRJZGVudGl0eSIsInBhcnRpY2lwYW50TmFtZSIsInBhcnRpY2lwYW50TWV0YWRhdGEiLCJwYXJ0aWNpcGFudEF0dHJpYnV0ZXMiLCJkdG1mIiwicGxheURpYWx0b25lIiwicGxheVJpbmd0b25lIiwicmluZ2luZ1RpbWVvdXQiLCJzZWNvbmRzIiwiQmlnSW50IiwibWF4Q2FsbER1cmF0aW9uIiwiY2FsbCIsInRyYW5zZmVyU2lwUGFydGljaXBhbnQiLCJ0cmFuc2ZlclRvIiwicm9vbUFkbWluIiwicm9vbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/SipClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js":
/*!**********************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/TwirpRPC.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TwirpError: () => (/* binding */ TwirpError),\n/* harmony export */   TwirpRpc: () => (/* binding */ TwirpRpc),\n/* harmony export */   livekitPackage: () => (/* binding */ livekitPackage)\n/* harmony export */ });\nconst defaultPrefix = \"/twirp\";\nconst livekitPackage = \"livekit\";\nclass TwirpError extends Error {\n    constructor(name, message, status, code){\n        super(message);\n        this.name = name;\n        this.status = status;\n        this.code = code;\n    }\n}\nclass TwirpRpc {\n    constructor(host, pkg, prefix){\n        if (host.startsWith(\"ws\")) {\n            host = host.replace(\"ws\", \"http\");\n        }\n        this.host = host;\n        this.pkg = pkg;\n        this.prefix = prefix || defaultPrefix;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async request(service, method, data, headers) {\n        const path = `${this.prefix}/${this.pkg}.${service}/${method}`;\n        const url = new URL(path, this.host);\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json;charset=UTF-8\",\n                ...headers\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            const isJson = response.headers.get(\"content-type\") === \"application/json\";\n            let errorMessage = \"Unknown internal error\";\n            let errorCode = void 0;\n            try {\n                if (isJson) {\n                    const parsedError = await response.json();\n                    if (\"msg\" in parsedError) {\n                        errorMessage = parsedError.msg;\n                    }\n                    if (\"code\" in parsedError) {\n                        errorCode = parsedError.code;\n                    }\n                } else {\n                    errorMessage = await response.text();\n                }\n            } catch (e) {\n                console.debug(`Error when trying to parse error message, using defaults`, e);\n            }\n            throw new TwirpError(response.statusText, errorMessage, response.status, errorCode);\n        }\n        const parsedResp = await response.json();\n        const camelcaseKeys = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/quick-lru\"), __webpack_require__.e(\"vendor-chunks/map-obj\"), __webpack_require__.e(\"vendor-chunks/camelcase\"), __webpack_require__.e(\"vendor-chunks/camelcase-keys\")]).then(__webpack_require__.bind(__webpack_require__, /*! camelcase-keys */ \"(rsc)/./node_modules/camelcase-keys/index.js\")).then((mod)=>mod.default);\n        return camelcaseKeys(parsedResp, {\n            deep: true\n        });\n    }\n}\n //# sourceMappingURL=TwirpRPC.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvVHdpcnBSUEMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsZ0JBQWdCO0FBQ3RCLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyxtQkFBbUJDO0lBQ3ZCQyxZQUFZQyxJQUFJLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLENBQUU7UUFDdkMsS0FBSyxDQUFDRjtRQUNOLElBQUksQ0FBQ0QsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0UsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsSUFBSSxHQUFHQTtJQUNkO0FBQ0Y7QUFDQSxNQUFNQztJQUNKTCxZQUFZTSxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxDQUFFO1FBQzdCLElBQUlGLEtBQUtHLFVBQVUsQ0FBQyxPQUFPO1lBQ3pCSCxPQUFPQSxLQUFLSSxPQUFPLENBQUMsTUFBTTtRQUM1QjtRQUNBLElBQUksQ0FBQ0osSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0MsR0FBRyxHQUFHQTtRQUNYLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxVQUFVWjtJQUMxQjtJQUNBLDhEQUE4RDtJQUM5RCxNQUFNZSxRQUFRQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDNUMsTUFBTUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDUixNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ0QsR0FBRyxDQUFDLENBQUMsRUFBRUssUUFBUSxDQUFDLEVBQUVDLE9BQU8sQ0FBQztRQUM5RCxNQUFNSSxNQUFNLElBQUlDLElBQUlGLE1BQU0sSUFBSSxDQUFDVixJQUFJO1FBQ25DLE1BQU1hLFdBQVcsTUFBTUMsTUFBTUgsS0FBSztZQUNoQ0osUUFBUTtZQUNSRSxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsR0FBR0EsT0FBTztZQUNaO1lBQ0FNLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ1Q7UUFDdkI7UUFDQSxJQUFJLENBQUNLLFNBQVNLLEVBQUUsRUFBRTtZQUNoQixNQUFNQyxTQUFTTixTQUFTSixPQUFPLENBQUNXLEdBQUcsQ0FBQyxvQkFBb0I7WUFDeEQsSUFBSUMsZUFBZTtZQUNuQixJQUFJQyxZQUFZLEtBQUs7WUFDckIsSUFBSTtnQkFDRixJQUFJSCxRQUFRO29CQUNWLE1BQU1JLGNBQWMsTUFBTVYsU0FBU1csSUFBSTtvQkFDdkMsSUFBSSxTQUFTRCxhQUFhO3dCQUN4QkYsZUFBZUUsWUFBWUUsR0FBRztvQkFDaEM7b0JBQ0EsSUFBSSxVQUFVRixhQUFhO3dCQUN6QkQsWUFBWUMsWUFBWXpCLElBQUk7b0JBQzlCO2dCQUNGLE9BQU87b0JBQ0x1QixlQUFlLE1BQU1SLFNBQVNhLElBQUk7Z0JBQ3BDO1lBQ0YsRUFBRSxPQUFPQyxHQUFHO2dCQUNWQyxRQUFRQyxLQUFLLENBQUMsQ0FBQyx3REFBd0QsQ0FBQyxFQUFFRjtZQUM1RTtZQUNBLE1BQU0sSUFBSW5DLFdBQVdxQixTQUFTaUIsVUFBVSxFQUFFVCxjQUFjUixTQUFTaEIsTUFBTSxFQUFFeUI7UUFDM0U7UUFDQSxNQUFNUyxhQUFhLE1BQU1sQixTQUFTVyxJQUFJO1FBQ3RDLE1BQU1RLGdCQUFnQixNQUFNLGlXQUF3QixDQUFDQyxJQUFJLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUMsT0FBTztRQUM5RSxPQUFPSCxjQUFjRCxZQUFZO1lBQUVLLE1BQU07UUFBSztJQUNoRDtBQUNGO0FBS0UsQ0FDRixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvVHdpcnBSUEMuanM/ZDY1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkZWZhdWx0UHJlZml4ID0gXCIvdHdpcnBcIjtcbmNvbnN0IGxpdmVraXRQYWNrYWdlID0gXCJsaXZla2l0XCI7XG5jbGFzcyBUd2lycEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihuYW1lLCBtZXNzYWdlLCBzdGF0dXMsIGNvZGUpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gIH1cbn1cbmNsYXNzIFR3aXJwUnBjIHtcbiAgY29uc3RydWN0b3IoaG9zdCwgcGtnLCBwcmVmaXgpIHtcbiAgICBpZiAoaG9zdC5zdGFydHNXaXRoKFwid3NcIikpIHtcbiAgICAgIGhvc3QgPSBob3N0LnJlcGxhY2UoXCJ3c1wiLCBcImh0dHBcIik7XG4gICAgfVxuICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgdGhpcy5wa2cgPSBwa2c7XG4gICAgdGhpcy5wcmVmaXggPSBwcmVmaXggfHwgZGVmYXVsdFByZWZpeDtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBhc3luYyByZXF1ZXN0KHNlcnZpY2UsIG1ldGhvZCwgZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLnByZWZpeH0vJHt0aGlzLnBrZ30uJHtzZXJ2aWNlfS8ke21ldGhvZH1gO1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocGF0aCwgdGhpcy5ob3N0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIixcbiAgICAgICAgLi4uaGVhZGVyc1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgaXNKc29uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgPT09IFwiYXBwbGljYXRpb24vanNvblwiO1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiVW5rbm93biBpbnRlcm5hbCBlcnJvclwiO1xuICAgICAgbGV0IGVycm9yQ29kZSA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRFcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoXCJtc2dcIiBpbiBwYXJzZWRFcnJvcikge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gcGFyc2VkRXJyb3IubXNnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJjb2RlXCIgaW4gcGFyc2VkRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yQ29kZSA9IHBhcnNlZEVycm9yLmNvZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGBFcnJvciB3aGVuIHRyeWluZyB0byBwYXJzZSBlcnJvciBtZXNzYWdlLCB1c2luZyBkZWZhdWx0c2AsIGUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFR3aXJwRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCwgZXJyb3JNZXNzYWdlLCByZXNwb25zZS5zdGF0dXMsIGVycm9yQ29kZSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFJlc3AgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc3QgY2FtZWxjYXNlS2V5cyA9IGF3YWl0IGltcG9ydChcImNhbWVsY2FzZS1rZXlzXCIpLnRoZW4oKG1vZCkgPT4gbW9kLmRlZmF1bHQpO1xuICAgIHJldHVybiBjYW1lbGNhc2VLZXlzKHBhcnNlZFJlc3AsIHsgZGVlcDogdHJ1ZSB9KTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgVHdpcnBFcnJvcixcbiAgVHdpcnBScGMsXG4gIGxpdmVraXRQYWNrYWdlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHdpcnBSUEMuanMubWFwIl0sIm5hbWVzIjpbImRlZmF1bHRQcmVmaXgiLCJsaXZla2l0UGFja2FnZSIsIlR3aXJwRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjb2RlIiwiVHdpcnBScGMiLCJob3N0IiwicGtnIiwicHJlZml4Iiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJyZXF1ZXN0Iiwic2VydmljZSIsIm1ldGhvZCIsImRhdGEiLCJoZWFkZXJzIiwicGF0aCIsInVybCIsIlVSTCIsInJlc3BvbnNlIiwiZmV0Y2giLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiaXNKc29uIiwiZ2V0IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JDb2RlIiwicGFyc2VkRXJyb3IiLCJqc29uIiwibXNnIiwidGV4dCIsImUiLCJjb25zb2xlIiwiZGVidWciLCJzdGF0dXNUZXh0IiwicGFyc2VkUmVzcCIsImNhbWVsY2FzZUtleXMiLCJ0aGVuIiwibW9kIiwiZGVmYXVsdCIsImRlZXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/TwirpRPC.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/WebhookReceiver.js":
/*!*****************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/WebhookReceiver.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebhookEvent: () => (/* binding */ WebhookEvent),\n/* harmony export */   WebhookReceiver: () => (/* binding */ WebhookReceiver),\n/* harmony export */   authorizeHeader: () => (/* binding */ authorizeHeader)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\");\n/* harmony import */ var _crypto_digest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crypto/digest.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/crypto/digest.js\");\n\n\n\nconst authorizeHeader = \"Authorize\";\nclass WebhookEvent extends _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebhookEvent {\n    constructor(){\n        super(...arguments);\n        this.event = \"\";\n    }\n    static fromBinary(bytes, options) {\n        return new WebhookEvent().fromBinary(bytes, options);\n    }\n    static fromJson(jsonValue, options) {\n        return new WebhookEvent().fromJson(jsonValue, options);\n    }\n    static fromJsonString(jsonString, options) {\n        return new WebhookEvent().fromJsonString(jsonString, options);\n    }\n}\nclass WebhookReceiver {\n    constructor(apiKey, apiSecret){\n        this.verifier = new _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.TokenVerifier(apiKey, apiSecret);\n    }\n    /**\n   * @param body - string of the posted body\n   * @param authHeader - `Authorization` header from the request\n   * @param skipAuth - true to skip auth validation\n   * @param clockTolerance - How much tolerance to allow for checks against the auth header to be skewed from the claims\n   * @returns The processed webhook event\n   */ async receive(body, authHeader, skipAuth = false, clockTolerance) {\n        if (!skipAuth) {\n            if (!authHeader) {\n                throw new Error(\"authorization header is empty\");\n            }\n            const claims = await this.verifier.verify(authHeader, clockTolerance);\n            const hash = await (0,_crypto_digest_js__WEBPACK_IMPORTED_MODULE_2__.digest)(body);\n            const hashDecoded = btoa(Array.from(new Uint8Array(hash)).map((v)=>String.fromCharCode(v)).join(\"\"));\n            if (claims.sha256 !== hashDecoded) {\n                throw new Error(\"sha256 checksum of body does not match\");\n            }\n        }\n        return WebhookEvent.fromJson(JSON.parse(body), {\n            ignoreUnknownFields: true\n        });\n    }\n}\n //# sourceMappingURL=WebhookReceiver.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvV2ViaG9va1JlY2VpdmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzRTtBQUNyQjtBQUNMO0FBQzVDLE1BQU1JLGtCQUFrQjtBQUN4QixNQUFNSixxQkFBcUJDLDJEQUFpQkE7SUFDMUNJLGFBQWM7UUFDWixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxLQUFLLEdBQUc7SUFDZjtJQUNBLE9BQU9DLFdBQVdDLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQ2hDLE9BQU8sSUFBSVYsZUFBZVEsVUFBVSxDQUFDQyxPQUFPQztJQUM5QztJQUNBLE9BQU9DLFNBQVNDLFNBQVMsRUFBRUYsT0FBTyxFQUFFO1FBQ2xDLE9BQU8sSUFBSVYsZUFBZVcsUUFBUSxDQUFDQyxXQUFXRjtJQUNoRDtJQUNBLE9BQU9HLGVBQWVDLFVBQVUsRUFBRUosT0FBTyxFQUFFO1FBQ3pDLE9BQU8sSUFBSVYsZUFBZWEsY0FBYyxDQUFDQyxZQUFZSjtJQUN2RDtBQUNGO0FBQ0EsTUFBTUs7SUFDSlYsWUFBWVcsTUFBTSxFQUFFQyxTQUFTLENBQUU7UUFDN0IsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSWhCLDBEQUFhQSxDQUFDYyxRQUFRQztJQUM1QztJQUNBOzs7Ozs7R0FNQyxHQUNELE1BQU1FLFFBQVFDLElBQUksRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEtBQUssRUFBRUMsY0FBYyxFQUFFO1FBQ2hFLElBQUksQ0FBQ0QsVUFBVTtZQUNiLElBQUksQ0FBQ0QsWUFBWTtnQkFDZixNQUFNLElBQUlHLE1BQU07WUFDbEI7WUFDQSxNQUFNQyxTQUFTLE1BQU0sSUFBSSxDQUFDUCxRQUFRLENBQUNRLE1BQU0sQ0FBQ0wsWUFBWUU7WUFDdEQsTUFBTUksT0FBTyxNQUFNeEIseURBQU1BLENBQUNpQjtZQUMxQixNQUFNUSxjQUFjQyxLQUNsQkMsTUFBTUMsSUFBSSxDQUFDLElBQUlDLFdBQVdMLE9BQU9NLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQyxPQUFPQyxZQUFZLENBQUNGLElBQUlHLElBQUksQ0FBQztZQUUzRSxJQUFJWixPQUFPYSxNQUFNLEtBQUtWLGFBQWE7Z0JBQ2pDLE1BQU0sSUFBSUosTUFBTTtZQUNsQjtRQUNGO1FBQ0EsT0FBT3hCLGFBQWFXLFFBQVEsQ0FBQzRCLEtBQUtDLEtBQUssQ0FBQ3BCLE9BQU87WUFBRXFCLHFCQUFxQjtRQUFLO0lBQzdFO0FBQ0Y7QUFLRSxDQUNGLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9XZWJob29rUmVjZWl2ZXIuanM/NzIyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXZWJob29rRXZlbnQgYXMgUHJvdG9XZWJob29rRXZlbnQgfSBmcm9tIFwiQGxpdmVraXQvcHJvdG9jb2xcIjtcbmltcG9ydCB7IFRva2VuVmVyaWZpZXIgfSBmcm9tIFwiLi9BY2Nlc3NUb2tlbi5qc1wiO1xuaW1wb3J0IHsgZGlnZXN0IH0gZnJvbSBcIi4vY3J5cHRvL2RpZ2VzdC5qc1wiO1xuY29uc3QgYXV0aG9yaXplSGVhZGVyID0gXCJBdXRob3JpemVcIjtcbmNsYXNzIFdlYmhvb2tFdmVudCBleHRlbmRzIFByb3RvV2ViaG9va0V2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmV2ZW50ID0gXCJcIjtcbiAgfVxuICBzdGF0aWMgZnJvbUJpbmFyeShieXRlcywgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgV2ViaG9va0V2ZW50KCkuZnJvbUJpbmFyeShieXRlcywgb3B0aW9ucyk7XG4gIH1cbiAgc3RhdGljIGZyb21Kc29uKGpzb25WYWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgV2ViaG9va0V2ZW50KCkuZnJvbUpzb24oanNvblZhbHVlLCBvcHRpb25zKTtcbiAgfVxuICBzdGF0aWMgZnJvbUpzb25TdHJpbmcoanNvblN0cmluZywgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgV2ViaG9va0V2ZW50KCkuZnJvbUpzb25TdHJpbmcoanNvblN0cmluZywgb3B0aW9ucyk7XG4gIH1cbn1cbmNsYXNzIFdlYmhvb2tSZWNlaXZlciB7XG4gIGNvbnN0cnVjdG9yKGFwaUtleSwgYXBpU2VjcmV0KSB7XG4gICAgdGhpcy52ZXJpZmllciA9IG5ldyBUb2tlblZlcmlmaWVyKGFwaUtleSwgYXBpU2VjcmV0KTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGJvZHkgLSBzdHJpbmcgb2YgdGhlIHBvc3RlZCBib2R5XG4gICAqIEBwYXJhbSBhdXRoSGVhZGVyIC0gYEF1dGhvcml6YXRpb25gIGhlYWRlciBmcm9tIHRoZSByZXF1ZXN0XG4gICAqIEBwYXJhbSBza2lwQXV0aCAtIHRydWUgdG8gc2tpcCBhdXRoIHZhbGlkYXRpb25cbiAgICogQHBhcmFtIGNsb2NrVG9sZXJhbmNlIC0gSG93IG11Y2ggdG9sZXJhbmNlIHRvIGFsbG93IGZvciBjaGVja3MgYWdhaW5zdCB0aGUgYXV0aCBoZWFkZXIgdG8gYmUgc2tld2VkIGZyb20gdGhlIGNsYWltc1xuICAgKiBAcmV0dXJucyBUaGUgcHJvY2Vzc2VkIHdlYmhvb2sgZXZlbnRcbiAgICovXG4gIGFzeW5jIHJlY2VpdmUoYm9keSwgYXV0aEhlYWRlciwgc2tpcEF1dGggPSBmYWxzZSwgY2xvY2tUb2xlcmFuY2UpIHtcbiAgICBpZiAoIXNraXBBdXRoKSB7XG4gICAgICBpZiAoIWF1dGhIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXV0aG9yaXphdGlvbiBoZWFkZXIgaXMgZW1wdHlcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGFpbXMgPSBhd2FpdCB0aGlzLnZlcmlmaWVyLnZlcmlmeShhdXRoSGVhZGVyLCBjbG9ja1RvbGVyYW5jZSk7XG4gICAgICBjb25zdCBoYXNoID0gYXdhaXQgZGlnZXN0KGJvZHkpO1xuICAgICAgY29uc3QgaGFzaERlY29kZWQgPSBidG9hKFxuICAgICAgICBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2gpKS5tYXAoKHYpID0+IFN0cmluZy5mcm9tQ2hhckNvZGUodikpLmpvaW4oXCJcIilcbiAgICAgICk7XG4gICAgICBpZiAoY2xhaW1zLnNoYTI1NiAhPT0gaGFzaERlY29kZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2hhMjU2IGNoZWNrc3VtIG9mIGJvZHkgZG9lcyBub3QgbWF0Y2hcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBXZWJob29rRXZlbnQuZnJvbUpzb24oSlNPTi5wYXJzZShib2R5KSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICB9XG59XG5leHBvcnQge1xuICBXZWJob29rRXZlbnQsXG4gIFdlYmhvb2tSZWNlaXZlcixcbiAgYXV0aG9yaXplSGVhZGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViaG9va1JlY2VpdmVyLmpzLm1hcCJdLCJuYW1lcyI6WyJXZWJob29rRXZlbnQiLCJQcm90b1dlYmhvb2tFdmVudCIsIlRva2VuVmVyaWZpZXIiLCJkaWdlc3QiLCJhdXRob3JpemVIZWFkZXIiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsImV2ZW50IiwiZnJvbUJpbmFyeSIsImJ5dGVzIiwib3B0aW9ucyIsImZyb21Kc29uIiwianNvblZhbHVlIiwiZnJvbUpzb25TdHJpbmciLCJqc29uU3RyaW5nIiwiV2ViaG9va1JlY2VpdmVyIiwiYXBpS2V5IiwiYXBpU2VjcmV0IiwidmVyaWZpZXIiLCJyZWNlaXZlIiwiYm9keSIsImF1dGhIZWFkZXIiLCJza2lwQXV0aCIsImNsb2NrVG9sZXJhbmNlIiwiRXJyb3IiLCJjbGFpbXMiLCJ2ZXJpZnkiLCJoYXNoIiwiaGFzaERlY29kZWQiLCJidG9hIiwiQXJyYXkiLCJmcm9tIiwiVWludDhBcnJheSIsIm1hcCIsInYiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwic2hhMjU2IiwiSlNPTiIsInBhcnNlIiwiaWdub3JlVW5rbm93bkZpZWxkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/WebhookReceiver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/crypto/digest.js":
/*!***************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/crypto/digest.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   digest: () => (/* binding */ digest)\n/* harmony export */ });\nasync function digest(data) {\n    var _a;\n    if ((_a = globalThis.crypto) == null ? void 0 : _a.subtle) {\n        const encoder = new TextEncoder();\n        return crypto.subtle.digest(\"SHA-256\", encoder.encode(data));\n    } else {\n        const nodeCrypto = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! node:crypto */ \"node:crypto\", 19));\n        return nodeCrypto.createHash(\"sha256\").update(data).digest();\n    }\n}\n //# sourceMappingURL=digest.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvY3J5cHRvL2RpZ2VzdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZUFBZUEsT0FBT0MsSUFBSTtJQUN4QixJQUFJQztJQUNKLElBQUksQ0FBQ0EsS0FBS0MsV0FBV0MsTUFBTSxLQUFLLE9BQU8sS0FBSyxJQUFJRixHQUFHRyxNQUFNLEVBQUU7UUFDekQsTUFBTUMsVUFBVSxJQUFJQztRQUNwQixPQUFPSCxPQUFPQyxNQUFNLENBQUNMLE1BQU0sQ0FBQyxXQUFXTSxRQUFRRSxNQUFNLENBQUNQO0lBQ3hELE9BQU87UUFDTCxNQUFNUSxhQUFhLE1BQU0sNEhBQXFCO1FBQzlDLE9BQU9BLFdBQVdDLFVBQVUsQ0FBQyxVQUFVQyxNQUFNLENBQUNWLE1BQU1ELE1BQU07SUFDNUQ7QUFDRjtBQUdFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L2NyeXB0by9kaWdlc3QuanM/NDNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiBkaWdlc3QoZGF0YSkge1xuICB2YXIgX2E7XG4gIGlmICgoX2EgPSBnbG9iYWxUaGlzLmNyeXB0bykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN1YnRsZSkge1xuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsIGVuY29kZXIuZW5jb2RlKGRhdGEpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBub2RlQ3J5cHRvID0gYXdhaXQgaW1wb3J0KFwibm9kZTpjcnlwdG9cIik7XG4gICAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaChcInNoYTI1NlwiKS51cGRhdGUoZGF0YSkuZGlnZXN0KCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIGRpZ2VzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpZ2VzdC5qcy5tYXAiXSwibmFtZXMiOlsiZGlnZXN0IiwiZGF0YSIsIl9hIiwiZ2xvYmFsVGhpcyIsImNyeXB0byIsInN1YnRsZSIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIm5vZGVDcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/crypto/digest.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/crypto/uuid.js":
/*!*************************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/crypto/uuid.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRandomBytes: () => (/* binding */ getRandomBytes)\n/* harmony export */ });\nasync function getRandomBytes(size = 16) {\n    if (globalThis.crypto) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    } else {\n        const nodeCrypto = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! node:crypto */ \"node:crypto\", 19));\n        return nodeCrypto.getRandomValues(new Uint8Array(size));\n    }\n}\n //# sourceMappingURL=uuid.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvY3J5cHRvL3V1aWQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGVBQWVBLGVBQWVDLE9BQU8sRUFBRTtJQUNyQyxJQUFJQyxXQUFXQyxNQUFNLEVBQUU7UUFDckIsT0FBT0EsT0FBT0MsZUFBZSxDQUFDLElBQUlDLFdBQVdKO0lBQy9DLE9BQU87UUFDTCxNQUFNSyxhQUFhLE1BQU0sNEhBQXFCO1FBQzlDLE9BQU9BLFdBQVdGLGVBQWUsQ0FBQyxJQUFJQyxXQUFXSjtJQUNuRDtBQUNGO0FBR0UsQ0FDRixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvY3J5cHRvL3V1aWQuanM/MGRmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiBnZXRSYW5kb21CeXRlcyhzaXplID0gMTYpIHtcbiAgaWYgKGdsb2JhbFRoaXMuY3J5cHRvKSB7XG4gICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5vZGVDcnlwdG8gPSBhd2FpdCBpbXBvcnQoXCJub2RlOmNyeXB0b1wiKTtcbiAgICByZXR1cm4gbm9kZUNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICB9XG59XG5leHBvcnQge1xuICBnZXRSYW5kb21CeXRlc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV1aWQuanMubWFwIl0sIm5hbWVzIjpbImdldFJhbmRvbUJ5dGVzIiwic2l6ZSIsImdsb2JhbFRoaXMiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJVaW50OEFycmF5Iiwibm9kZUNyeXB0byJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/crypto/uuid.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/grants.js":
/*!********************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/grants.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   claimsToJwtPayload: () => (/* binding */ claimsToJwtPayload),\n/* harmony export */   trackSourceToString: () => (/* binding */ trackSourceToString)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n\nfunction trackSourceToString(source) {\n    switch(source){\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.CAMERA:\n            return \"camera\";\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.MICROPHONE:\n            return \"microphone\";\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.SCREEN_SHARE:\n            return \"screen_share\";\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.SCREEN_SHARE_AUDIO:\n            return \"screen_share_audio\";\n        default:\n            throw new TypeError(`Cannot convert TrackSource ${source} to string`);\n    }\n}\nfunction claimsToJwtPayload(grant) {\n    var _a;\n    const claim = {\n        ...grant\n    };\n    if (Array.isArray((_a = claim.video) == null ? void 0 : _a.canPublishSources)) {\n        claim.video.canPublishSources = claim.video.canPublishSources.map(trackSourceToString);\n    }\n    return claim;\n}\n //# sourceMappingURL=grants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvZ3JhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNoRCxTQUFTQyxvQkFBb0JDLE1BQU07SUFDakMsT0FBUUE7UUFDTixLQUFLRiwwREFBV0EsQ0FBQ0csTUFBTTtZQUNyQixPQUFPO1FBQ1QsS0FBS0gsMERBQVdBLENBQUNJLFVBQVU7WUFDekIsT0FBTztRQUNULEtBQUtKLDBEQUFXQSxDQUFDSyxZQUFZO1lBQzNCLE9BQU87UUFDVCxLQUFLTCwwREFBV0EsQ0FBQ00sa0JBQWtCO1lBQ2pDLE9BQU87UUFDVDtZQUNFLE1BQU0sSUFBSUMsVUFBVSxDQUFDLDJCQUEyQixFQUFFTCxPQUFPLFVBQVUsQ0FBQztJQUN4RTtBQUNGO0FBQ0EsU0FBU00sbUJBQW1CQyxLQUFLO0lBQy9CLElBQUlDO0lBQ0osTUFBTUMsUUFBUTtRQUFFLEdBQUdGLEtBQUs7SUFBQztJQUN6QixJQUFJRyxNQUFNQyxPQUFPLENBQUMsQ0FBQ0gsS0FBS0MsTUFBTUcsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJSixHQUFHSyxpQkFBaUIsR0FBRztRQUM3RUosTUFBTUcsS0FBSyxDQUFDQyxpQkFBaUIsR0FBR0osTUFBTUcsS0FBSyxDQUFDQyxpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDZjtJQUNwRTtJQUNBLE9BQU9VO0FBQ1Q7QUFJRSxDQUNGLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8uL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9ncmFudHMuanM/ZDYyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFja1NvdXJjZSB9IGZyb20gXCJAbGl2ZWtpdC9wcm90b2NvbFwiO1xuZnVuY3Rpb24gdHJhY2tTb3VyY2VUb1N0cmluZyhzb3VyY2UpIHtcbiAgc3dpdGNoIChzb3VyY2UpIHtcbiAgICBjYXNlIFRyYWNrU291cmNlLkNBTUVSQTpcbiAgICAgIHJldHVybiBcImNhbWVyYVwiO1xuICAgIGNhc2UgVHJhY2tTb3VyY2UuTUlDUk9QSE9ORTpcbiAgICAgIHJldHVybiBcIm1pY3JvcGhvbmVcIjtcbiAgICBjYXNlIFRyYWNrU291cmNlLlNDUkVFTl9TSEFSRTpcbiAgICAgIHJldHVybiBcInNjcmVlbl9zaGFyZVwiO1xuICAgIGNhc2UgVHJhY2tTb3VyY2UuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgcmV0dXJuIFwic2NyZWVuX3NoYXJlX2F1ZGlvXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYENhbm5vdCBjb252ZXJ0IFRyYWNrU291cmNlICR7c291cmNlfSB0byBzdHJpbmdgKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xhaW1zVG9Kd3RQYXlsb2FkKGdyYW50KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY2xhaW0gPSB7IC4uLmdyYW50IH07XG4gIGlmIChBcnJheS5pc0FycmF5KChfYSA9IGNsYWltLnZpZGVvKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FuUHVibGlzaFNvdXJjZXMpKSB7XG4gICAgY2xhaW0udmlkZW8uY2FuUHVibGlzaFNvdXJjZXMgPSBjbGFpbS52aWRlby5jYW5QdWJsaXNoU291cmNlcy5tYXAodHJhY2tTb3VyY2VUb1N0cmluZyk7XG4gIH1cbiAgcmV0dXJuIGNsYWltO1xufVxuZXhwb3J0IHtcbiAgY2xhaW1zVG9Kd3RQYXlsb2FkLFxuICB0cmFja1NvdXJjZVRvU3RyaW5nXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhbnRzLmpzLm1hcCJdLCJuYW1lcyI6WyJUcmFja1NvdXJjZSIsInRyYWNrU291cmNlVG9TdHJpbmciLCJzb3VyY2UiLCJDQU1FUkEiLCJNSUNST1BIT05FIiwiU0NSRUVOX1NIQVJFIiwiU0NSRUVOX1NIQVJFX0FVRElPIiwiVHlwZUVycm9yIiwiY2xhaW1zVG9Kd3RQYXlsb2FkIiwiZ3JhbnQiLCJfYSIsImNsYWltIiwiQXJyYXkiLCJpc0FycmF5IiwidmlkZW8iLCJjYW5QdWJsaXNoU291cmNlcyIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/grants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/livekit-server-sdk/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/livekit-server-sdk/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* reexport safe */ _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.AccessToken),\n/* harmony export */   AgentDispatchClient: () => (/* reexport safe */ _AgentDispatchClient_js__WEBPACK_IMPORTED_MODULE_2__.AgentDispatchClient),\n/* harmony export */   AliOSSUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AliOSSUpload),\n/* harmony export */   AudioCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AudioCodec),\n/* harmony export */   AutoParticipantEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AutoParticipantEgress),\n/* harmony export */   AutoTrackEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AutoTrackEgress),\n/* harmony export */   AzureBlobUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AzureBlobUpload),\n/* harmony export */   DataPacket_Kind: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DataPacket_Kind),\n/* harmony export */   DirectFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DirectFileOutput),\n/* harmony export */   EgressClient: () => (/* reexport safe */ _EgressClient_js__WEBPACK_IMPORTED_MODULE_3__.EgressClient),\n/* harmony export */   EgressInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo),\n/* harmony export */   EgressStatus: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressStatus),\n/* harmony export */   EncodedFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodedFileOutput),\n/* harmony export */   EncodedFileType: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodedFileType),\n/* harmony export */   EncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodingOptions),\n/* harmony export */   EncodingOptionsPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodingOptionsPreset),\n/* harmony export */   GCPUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.GCPUpload),\n/* harmony export */   ImageCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageCodec),\n/* harmony export */   ImageFileSuffix: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageFileSuffix),\n/* harmony export */   ImageOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageOutput),\n/* harmony export */   IngressAudioEncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingOptions),\n/* harmony export */   IngressAudioEncodingPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingPreset),\n/* harmony export */   IngressAudioOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioOptions),\n/* harmony export */   IngressClient: () => (/* reexport safe */ _IngressClient_js__WEBPACK_IMPORTED_MODULE_5__.IngressClient),\n/* harmony export */   IngressInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo),\n/* harmony export */   IngressInput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInput),\n/* harmony export */   IngressState: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressState),\n/* harmony export */   IngressVideoEncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoEncodingOptions),\n/* harmony export */   IngressVideoEncodingPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoEncodingPreset),\n/* harmony export */   IngressVideoOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoOptions),\n/* harmony export */   ParticipantEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantEgressRequest),\n/* harmony export */   ParticipantInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo),\n/* harmony export */   ParticipantInfo_State: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo_State),\n/* harmony export */   ParticipantPermission: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantPermission),\n/* harmony export */   Room: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room),\n/* harmony export */   RoomCompositeEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomCompositeEgressRequest),\n/* harmony export */   RoomEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomEgress),\n/* harmony export */   RoomServiceClient: () => (/* reexport safe */ _RoomServiceClient_js__WEBPACK_IMPORTED_MODULE_6__.RoomServiceClient),\n/* harmony export */   S3Upload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.S3Upload),\n/* harmony export */   SIPDispatchRuleInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo),\n/* harmony export */   SIPParticipantInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPParticipantInfo),\n/* harmony export */   SIPTrunkInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo),\n/* harmony export */   SegmentedFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SegmentedFileOutput),\n/* harmony export */   SegmentedFileProtocol: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SegmentedFileProtocol),\n/* harmony export */   SipClient: () => (/* reexport safe */ _SipClient_js__WEBPACK_IMPORTED_MODULE_7__.SipClient),\n/* harmony export */   StreamOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StreamOutput),\n/* harmony export */   StreamProtocol: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StreamProtocol),\n/* harmony export */   TokenVerifier: () => (/* reexport safe */ _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.TokenVerifier),\n/* harmony export */   TrackCompositeEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackCompositeEgressRequest),\n/* harmony export */   TrackEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackEgressRequest),\n/* harmony export */   TrackInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackInfo),\n/* harmony export */   TrackSource: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource),\n/* harmony export */   TrackType: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackType),\n/* harmony export */   VideoCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.VideoCodec),\n/* harmony export */   WebEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebEgressRequest),\n/* harmony export */   WebhookEvent: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__.WebhookEvent),\n/* harmony export */   WebhookReceiver: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__.WebhookReceiver),\n/* harmony export */   authorizeHeader: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__.authorizeHeader),\n/* harmony export */   claimsToJwtPayload: () => (/* reexport safe */ _grants_js__WEBPACK_IMPORTED_MODULE_4__.claimsToJwtPayload),\n/* harmony export */   trackSourceToString: () => (/* reexport safe */ _grants_js__WEBPACK_IMPORTED_MODULE_4__.trackSourceToString)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/@livekit/protocol/dist/index.mjs\");\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AccessToken.js\");\n/* harmony import */ var _AgentDispatchClient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AgentDispatchClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/AgentDispatchClient.js\");\n/* harmony import */ var _EgressClient_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EgressClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/EgressClient.js\");\n/* harmony import */ var _grants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grants.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/grants.js\");\n/* harmony import */ var _IngressClient_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./IngressClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/IngressClient.js\");\n/* harmony import */ var _RoomServiceClient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RoomServiceClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/RoomServiceClient.js\");\n/* harmony import */ var _SipClient_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SipClient.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/SipClient.js\");\n/* harmony import */ var _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebhookReceiver.js */ \"(rsc)/./node_modules/livekit-server-sdk/dist/WebhookReceiver.js\");\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUQyQjtBQUNNO0FBQ1E7QUFDUDtBQUNOO0FBQ087QUFDSTtBQUNSO0FBQ007QUFrRG5DLENBQ0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L2luZGV4LmpzPzNjZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWxpT1NTVXBsb2FkLFxuICBBdWRpb0NvZGVjLFxuICBBdXRvUGFydGljaXBhbnRFZ3Jlc3MsXG4gIEF1dG9UcmFja0VncmVzcyxcbiAgQXp1cmVCbG9iVXBsb2FkLFxuICBEYXRhUGFja2V0X0tpbmQsXG4gIERpcmVjdEZpbGVPdXRwdXQsXG4gIEVncmVzc0luZm8sXG4gIEVncmVzc1N0YXR1cyxcbiAgRW5jb2RlZEZpbGVPdXRwdXQsXG4gIEVuY29kZWRGaWxlVHlwZSxcbiAgRW5jb2RpbmdPcHRpb25zLFxuICBFbmNvZGluZ09wdGlvbnNQcmVzZXQsXG4gIEdDUFVwbG9hZCxcbiAgSW1hZ2VDb2RlYyxcbiAgSW1hZ2VGaWxlU3VmZml4LFxuICBJbWFnZU91dHB1dCxcbiAgSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zLFxuICBJbmdyZXNzQXVkaW9FbmNvZGluZ1ByZXNldCxcbiAgSW5ncmVzc0F1ZGlvT3B0aW9ucyxcbiAgSW5ncmVzc0luZm8sXG4gIEluZ3Jlc3NJbnB1dCxcbiAgSW5ncmVzc1N0YXRlLFxuICBJbmdyZXNzVmlkZW9FbmNvZGluZ09wdGlvbnMsXG4gIEluZ3Jlc3NWaWRlb0VuY29kaW5nUHJlc2V0LFxuICBJbmdyZXNzVmlkZW9PcHRpb25zLFxuICBQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QsXG4gIFBhcnRpY2lwYW50SW5mbyxcbiAgUGFydGljaXBhbnRJbmZvX1N0YXRlLFxuICBQYXJ0aWNpcGFudFBlcm1pc3Npb24sXG4gIFJvb20sXG4gIFJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LFxuICBSb29tRWdyZXNzLFxuICBTM1VwbG9hZCxcbiAgU0lQRGlzcGF0Y2hSdWxlSW5mbyxcbiAgU0lQUGFydGljaXBhbnRJbmZvLFxuICBTSVBUcnVua0luZm8sXG4gIFNlZ21lbnRlZEZpbGVPdXRwdXQsXG4gIFNlZ21lbnRlZEZpbGVQcm90b2NvbCxcbiAgU3RyZWFtT3V0cHV0LFxuICBTdHJlYW1Qcm90b2NvbCxcbiAgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LFxuICBUcmFja0VncmVzc1JlcXVlc3QsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tTb3VyY2UsXG4gIFRyYWNrVHlwZSxcbiAgV2ViRWdyZXNzUmVxdWVzdCxcbiAgVmlkZW9Db2RlY1xufSBmcm9tIFwiQGxpdmVraXQvcHJvdG9jb2xcIjtcbmV4cG9ydCAqIGZyb20gXCIuL0FjY2Vzc1Rva2VuLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9BZ2VudERpc3BhdGNoQ2xpZW50LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9FZ3Jlc3NDbGllbnQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2dyYW50cy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vSW5ncmVzc0NsaWVudC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vUm9vbVNlcnZpY2VDbGllbnQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL1NpcENsaWVudC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vV2ViaG9va1JlY2VpdmVyLmpzXCI7XG5leHBvcnQge1xuICBBbGlPU1NVcGxvYWQsXG4gIEF1ZGlvQ29kZWMsXG4gIEF1dG9QYXJ0aWNpcGFudEVncmVzcyxcbiAgQXV0b1RyYWNrRWdyZXNzLFxuICBBenVyZUJsb2JVcGxvYWQsXG4gIERhdGFQYWNrZXRfS2luZCxcbiAgRGlyZWN0RmlsZU91dHB1dCxcbiAgRWdyZXNzSW5mbyxcbiAgRWdyZXNzU3RhdHVzLFxuICBFbmNvZGVkRmlsZU91dHB1dCxcbiAgRW5jb2RlZEZpbGVUeXBlLFxuICBFbmNvZGluZ09wdGlvbnMsXG4gIEVuY29kaW5nT3B0aW9uc1ByZXNldCxcbiAgR0NQVXBsb2FkLFxuICBJbWFnZUNvZGVjLFxuICBJbWFnZUZpbGVTdWZmaXgsXG4gIEltYWdlT3V0cHV0LFxuICBJbmdyZXNzQXVkaW9FbmNvZGluZ09wdGlvbnMsXG4gIEluZ3Jlc3NBdWRpb0VuY29kaW5nUHJlc2V0LFxuICBJbmdyZXNzQXVkaW9PcHRpb25zLFxuICBJbmdyZXNzSW5mbyxcbiAgSW5ncmVzc0lucHV0LFxuICBJbmdyZXNzU3RhdGUsXG4gIEluZ3Jlc3NWaWRlb0VuY29kaW5nT3B0aW9ucyxcbiAgSW5ncmVzc1ZpZGVvRW5jb2RpbmdQcmVzZXQsXG4gIEluZ3Jlc3NWaWRlb09wdGlvbnMsXG4gIFBhcnRpY2lwYW50RWdyZXNzUmVxdWVzdCxcbiAgUGFydGljaXBhbnRJbmZvLFxuICBQYXJ0aWNpcGFudEluZm9fU3RhdGUsXG4gIFBhcnRpY2lwYW50UGVybWlzc2lvbixcbiAgUm9vbSxcbiAgUm9vbUNvbXBvc2l0ZUVncmVzc1JlcXVlc3QsXG4gIFJvb21FZ3Jlc3MsXG4gIFMzVXBsb2FkLFxuICBTSVBEaXNwYXRjaFJ1bGVJbmZvLFxuICBTSVBQYXJ0aWNpcGFudEluZm8sXG4gIFNJUFRydW5rSW5mbyxcbiAgU2VnbWVudGVkRmlsZU91dHB1dCxcbiAgU2VnbWVudGVkRmlsZVByb3RvY29sLFxuICBTdHJlYW1PdXRwdXQsXG4gIFN0cmVhbVByb3RvY29sLFxuICBUcmFja0NvbXBvc2l0ZUVncmVzc1JlcXVlc3QsXG4gIFRyYWNrRWdyZXNzUmVxdWVzdCxcbiAgVHJhY2tJbmZvLFxuICBUcmFja1NvdXJjZSxcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0NvZGVjLFxuICBXZWJFZ3Jlc3NSZXF1ZXN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIkFsaU9TU1VwbG9hZCIsIkF1ZGlvQ29kZWMiLCJBdXRvUGFydGljaXBhbnRFZ3Jlc3MiLCJBdXRvVHJhY2tFZ3Jlc3MiLCJBenVyZUJsb2JVcGxvYWQiLCJEYXRhUGFja2V0X0tpbmQiLCJEaXJlY3RGaWxlT3V0cHV0IiwiRWdyZXNzSW5mbyIsIkVncmVzc1N0YXR1cyIsIkVuY29kZWRGaWxlT3V0cHV0IiwiRW5jb2RlZEZpbGVUeXBlIiwiRW5jb2RpbmdPcHRpb25zIiwiRW5jb2RpbmdPcHRpb25zUHJlc2V0IiwiR0NQVXBsb2FkIiwiSW1hZ2VDb2RlYyIsIkltYWdlRmlsZVN1ZmZpeCIsIkltYWdlT3V0cHV0IiwiSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zIiwiSW5ncmVzc0F1ZGlvRW5jb2RpbmdQcmVzZXQiLCJJbmdyZXNzQXVkaW9PcHRpb25zIiwiSW5ncmVzc0luZm8iLCJJbmdyZXNzSW5wdXQiLCJJbmdyZXNzU3RhdGUiLCJJbmdyZXNzVmlkZW9FbmNvZGluZ09wdGlvbnMiLCJJbmdyZXNzVmlkZW9FbmNvZGluZ1ByZXNldCIsIkluZ3Jlc3NWaWRlb09wdGlvbnMiLCJQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QiLCJQYXJ0aWNpcGFudEluZm8iLCJQYXJ0aWNpcGFudEluZm9fU3RhdGUiLCJQYXJ0aWNpcGFudFBlcm1pc3Npb24iLCJSb29tIiwiUm9vbUNvbXBvc2l0ZUVncmVzc1JlcXVlc3QiLCJSb29tRWdyZXNzIiwiUzNVcGxvYWQiLCJTSVBEaXNwYXRjaFJ1bGVJbmZvIiwiU0lQUGFydGljaXBhbnRJbmZvIiwiU0lQVHJ1bmtJbmZvIiwiU2VnbWVudGVkRmlsZU91dHB1dCIsIlNlZ21lbnRlZEZpbGVQcm90b2NvbCIsIlN0cmVhbU91dHB1dCIsIlN0cmVhbVByb3RvY29sIiwiVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0IiwiVHJhY2tFZ3Jlc3NSZXF1ZXN0IiwiVHJhY2tJbmZvIiwiVHJhY2tTb3VyY2UiLCJUcmFja1R5cGUiLCJXZWJFZ3Jlc3NSZXF1ZXN0IiwiVmlkZW9Db2RlYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/livekit-server-sdk/dist/index.js\n");

/***/ })

};
;